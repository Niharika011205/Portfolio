(self.modernJsonp=self.modernJsonp||[]).push([["31069"],{222078:function(e,t,i){var r,a;i.r(t),i.d(t,{default:()=>l});let o=(a=[r={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CallToAction_advisoryAction",selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},r],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:a,storageKey:null}],type:"AdvisoryAction",abstractKey:null});o.hash="6ddea2ecd3dff2e1001c1e4d037cc858";let l=o},5755:function(e,t,i){i.r(t),i.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DefaultNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:"actionId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CallToAction_advisoryAction"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],type:"AdvisoryNotice",abstractKey:null};r.hash="5879c4710b107f258f42156bf3e47e37";let a=r},52950:function(e,t,i){i.r(t),i.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"HyperlinkFormatText_textTag",selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],type:"TextTag",abstractKey:null};r.hash="4970946a36017d9ad0c751fd70cc512c";let a=r},90486:function(e,t,i){var r,a,o;i.r(t),i.d(t,{default:()=>n});let l=(a=[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],o=[r],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LegoNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[r,{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryFooter",kind:"LinkedField",name:"footer",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:"actionId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:a,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:o,storageKey:null}],storageKey:null}],type:"AdvisoryNotice",abstractKey:null});l.hash="fa2efeb6b4c660680d9f3a0e156c8007";let n=l},464788:function(e,t,i){i.r(t),i.d(t,{default:()=>a});let r={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"hasSensitivityNotices_sensitivity",selections:[{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advisory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null}],type:"Sensitivity",abstractKey:null};r.hash="547e5abdb645851996d6a1b1a4027c56";let a=r},433100:function(e,t,i){i.d(t,{f:()=>w,l:()=>v});var r=i(667294),a=i(178226),o=i(735243),l=i(477738),n=i(148),s=i(252974),d=i(250182),c=i(655068),u=i(531624),_=i(515511),p=i(213491),h=i(360033),f=i(986475),m=i(640200),x=i(785893);let g=(e,t,i)=>{let r=t?.find(({action:e})=>e?.filter?.product_filter_type===i);if(!r)return;let a=(0,f.Z)(m.Z,!0)(r),o=e.findIndex(({action:e})=>e?.filter?.productFilterType===i);e[o]?e[o]=a:e.push(a)},b=(e,t,i,r)=>{let a=r.find(({action:t})=>"number"==typeof t?.filter?.productFilterType&&e.has(t.filter.productFilterType));if(a?.action?.filter){let e=a.action.filter.filterOptions;a.action.filter.appliedFilterOptions="string"==typeof t?e?.filter(e=>e?.[i]&&t.split(",").includes(String(e[i]))).map(e=>({...e,selected:!0})):[]}},{Provider:y,get:v}=(0,p.Z)("OneBarProductFilters");function w({children:e}){let[t,i]=(0,r.useState)([]),[p,f]=(0,r.useState)(null),m=function(){let{scope:e}=(0,n.n)();return[l.lw.BOARDS,l.lw.PINS_BUYABLE,l.lw.PINS_VIDEO,l.lw.USERS].includes(e)}(),v=(0,u.Z)(),w=(0,d.Z)(),j=(0,a.Z)(),P=(0,o.Z)(),C=(0,c.Z)(),A=(0,r.useCallback)(({oneBarModules:e,baseCacheKey:r})=>{let a=e?.filter(({module_type:e})=>17===e||0===e);if(!a||a?.length===0||!r)return;let o=r!==p,l=o?[]:t;(o||!m)&&g(l,a,4),(o||!v)&&g(l,a,1),(o||!w)&&g(l,a,0),(o||!j)&&g(l,a,3),(o||!P)&&g(l,a,6),(o||!C)&&[7,8,9].forEach(e=>{g(l,a,e)}),(0,h.ZP)(l,t)||(i(l),f(r))},[t,j,P,m,w,C,v,p]),B=(0,s.Z)(),{priceMax:S,priceMin:Z,scope:I,brands:T,onSale:z,colors:E,domains:k}=(0,n.n)();(0,r.useEffect)(()=>{if(!B||0===t.length)return;let e=(0,_.Z)(t);if(I!==l.lw.PINS){let t=(0,l.gi)(I),i=e.find(({moduleType:e})=>0===e);i?.action?.filter&&(i.action.filter.appliedFilterOptions=[...i.action.filter.filterOptions||[]].filter(Boolean).map(e=>{let{searchType:i}=e;return{searchType:i,selected:i===t}}))}if("string"==typeof S||"string"==typeof Z){let t=e.find(({action:e})=>e?.filter?.productFilterType===1);t?.action?.filter&&(t.action.filter.appliedFilterOptions=[t.action.filter.filterOptions?.[0]?{...t.action.filter.filterOptions[0],numericValue:Number(Z)}:null,t.action.filter.filterOptions?.[1]?{...t.action.filter.filterOptions[1],numericValue:Number(S)}:null].filter(Boolean))}b(new Set([3]),T,"stringValue",e),b(new Set([6]),E,"stringValue",e),b(new Set([0]),k,"stringValue",e),b(new Set([7,8,9]),z,"numericValue",e),(0,h.ZP)(e,t)||i(e)},[t,B,S,Z,I,T,E,k,z]);let F=(0,r.useMemo)(()=>({cachedProductFilterOneBarModules:t,cacheOneBarModules:A}),[t,A]);return(0,x.jsx)(y,{value:F,children:e})}},661308:function(e,t,i){i.d(t,{tb:()=>C,VA:()=>P,zt:()=>j});var r=i(667294),a=i(675450),o=i(17832),l=i(856853);let n=(e,t,i)=>i&&(0,o.nZ)(i,t)?a.v.MODIFIED:(0,o.B1)(t,e)||i&&(0,o.Uv)(i,e)||(0,o.Uv)(t,e)?a.v.CLEARED:a.v.APPLIED;function s(e,t){(0,o.ph)(t);let i=e.find(e=>e?.id===t.id),r=i?.rules,a=i?.filter_options?.find(e=>"selectedOptionId"in t&&e.id===t.selectedOptionId)?.rules||r;if(!a)return[e,[]];let l=[],n=[];return e.forEach(e=>{void 0!==e.product_filter_type&&a.includes(e.product_filter_type)?l.push(e):n.push(e)}),[l,n]}function d(e,t){switch(t.type){case"RESET_FILTERS":let[i,r]=t.payload,d=i,c=(0,l.Z)(r)?(0,o.iP)(i):r;return Object.values(c).forEach(e=>{let[t]=s(d,e);d=t}),{models:i,availableFilterModels:d,appliedFilters:r,filters:c,isFetching:!1,pendingDeletedSelections:{},status:n(i,r,c)};case"CLEAR_FILTERS":let u=e.models,_=(0,o.P5)(e.models);return Object.values(_).forEach(e=>{let[t]=s(u,e);u=t}),{...e,filters:_,availableFilterModels:u,pendingDeletedSelections:{},status:n(e.models,e.appliedFilters,_)};case"UPDATE_FILTER":let{payload:p}=t,[h,f]=s(e.models,p),m={...e.filters,[p.id]:p},x={...e.pendingDeletedSelections};return h.forEach(e=>{if(!e.id)return;let t=x[e.id];t&&(m[e.id]=t,delete x[e.id])}),f.forEach(e=>{if(!e.id)return;let t=m[e.id];t&&(x[e.id]=t,delete m[e.id])}),(0,o.ph)(p,e.models.find(e=>e.id===p.id))&&delete m[p.id],{...e,availableFilterModels:h,filters:m,pendingDeletedSelections:x,status:n(e.models,e.appliedFilters,m)};case"SUBMIT_FILTER":return{...e,pendingDeletedSelections:{},status:a.v.SUBMITTED};case"SUBMIT_FAILED":return{...e,status:a.v.FAILED};case"SUBMIT_COMPLETE":let{filters:g}=e;return{...e,appliedFilters:g,pendingDeletedSelections:{},status:n(e.models,g)};case"LOADING":return{...e,isFetching:!0};case"LOADING_COMPLETED_OR_FAILED":return{...e,isFetching:!1};default:return e}}var c=i(178226),u=i(735243),_=i(250182),p=i(655068),h=i(531624),f=i(360033);let m=new Set([1,0,3,6,7,8,9]),x=(e,t,i)=>{let r=t?.find(({product_filter_type:e})=>e===i);if(!r)return;let a=e.findIndex(({product_filter_type:e})=>e===i);e[a]?e[a]=r:e.push(r)},g=(e,t,i)=>{let r=t?.find(({product_filter_type:e})=>e===i);if(!r)return e;let a=e.findIndex(({product_filter_type:e})=>e===i);return e[a]?e[a]=r:e.push(r),e};var b=i(252974),y=i(213491),v=i(148),w=i(785893);let{Provider:j,getMaybe:P}=(0,y.Z)("UnifiedFiltersContext"),C=({applyInitFilters:e,children:t,filterModels:i,filters:l,isFetching:n,refreshFiltersData:s})=>{let{query:y}=(0,v.n)(),P=(0,b.Z)(),{getCachedFilters:C,cacheUnifiedFilterModelsWithProductFilters:A}=function(){let[e,t]=(0,r.useState)([]),[i,a]=(0,r.useState)(null),o=(0,h.Z)(),l=(0,_.Z)(),n=(0,c.Z)(),s=(0,u.Z)(),d=(0,p.Z)(),b=(0,r.useCallback)(({unifiedFilterModels:r,baseCacheKey:c})=>{let u=r?.filter(({product_filter_type:e})=>void 0!==e&&m.has(e));if(!u||u?.length===0||!c)return;let _=c!==i,p=_?[]:e;(_||!o)&&x(p,u,1),(_||!l)&&x(p,u,0),(_||!n)&&x(p,u,3),(_||!s)&&x(p,u,6),(_||!d)&&[7,8,9].forEach(e=>{x(p,u,e)}),(0,f.ZP)(p,e)||(t(p),a(c))},[e,n,s,l,d,o,i]);return{getCachedFilters:(0,r.useCallback)(t=>{if(!t||t?.length===0)return[];let i=[...t];return o&&(i=g(i,e,1)),l&&(i=g(i,e,0)),n&&(i=g(i,e,3)),s&&(i=g(i,e,6)),d&&[7,8,9].forEach(t=>{i=g(i,e,t)}),i},[e,n,s,l,d,o]),cacheUnifiedFilterModelsWithProductFilters:b}}(),B=e?.(i)||l||{},[S,Z]=(0,r.useReducer)(d,{models:i,availableFilterModels:i,appliedFilters:B,filters:B,pendingDeletedSelections:{},isFetching:n,status:(0,o.B1)(B,i)||(0,o.Uv)(B,i)?a.v.CLEARED:a.v.APPLIED}),[I,T]=(0,r.useState)(i);(0,r.useEffect)(()=>{n&&Z({type:"LOADING"})},[n]),(0,r.useEffect)(()=>{if(n||S.isFetching&&0===i.length)return;if(!(0,o.a$)(I,i))return void Z({type:"LOADING_COMPLETED_OR_FAILED"});let t=i;P||(t=C([...i]),A({unifiedFilterModels:[...i],baseCacheKey:y})),Z({type:"RESET_FILTERS",payload:[t,e?.(t)||{}]}),T(i)},[e,i,I,n,S.isFetching,C,A,y,P]);let z=(0,r.useMemo)(()=>({filterState:S,dispatch:Z,refreshFiltersData:s}),[S,s]);return(0,w.jsx)(j,{value:z,children:t})}},675450:function(e,t,i){i.d(t,{$:()=>r,v:()=>a});let r=50,a={APPLIED:"applied",CLEARED:"cleared",MODIFIED:"modified",SUBMITTED:"submitted",FAILED:"failed"}},190665:function(e,t,i){i.d(t,{Z:()=>c});var r=i(433100),a=i(661308),o=i(17832),l=i(986475),n=i(537701),s=i(629724),d=i(148);function c(){let{brands:e,colors:t,domains:i,onSale:c,priceMax:u,priceMin:_}=(0,d.n)(),p=(0,a.VA)(),{cachedProductFilterOneBarModules:h}=(0,r.l)(),f=Number((0,s.Z)().filter_location);if(1===f){let{filterState:e}=p||{};return e?(0,o.Ax)(e.appliedFilters,e.models):null}if(0===f){let r=(0,l.Z)(n.Z,!0)(h.map(e=>e.action?.filter).filter(Boolean));return(0,o.vJ)({brandsParam:e,colorsParam:t,domainsParam:i,onSaleParam:c,priceMaxParam:u,priceMinParam:_,unifiedFilterModels:r})}return null}},178226:function(e,t,i){i.d(t,{Z:()=>o});var r=i(312048),a=i(341687);function o(){return!!(0,a.Z)((0,r.TH)().search).brands}},735243:function(e,t,i){i.d(t,{Z:()=>l});var r=i(312048),a=i(501010),o=i(341687);function l(){let{checkExperiment:e}=(0,a.Z)(),t=(0,r.TH)(),{colors:i}=(0,o.Z)(t.search);return!!i&&!!e("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled}},252974:function(e,t,i){i.d(t,{Z:()=>a});var r=i(501010);function a(){let{checkExperiment:e}=(0,r.Z)();return e("dweb_search_shopping_filter_sds_dep_removal_v2",{dangerouslySkipActivation:!0}).anyEnabled}},250182:function(e,t,i){i.d(t,{Z:()=>o});var r=i(312048),a=i(341687);function o(){return!!(0,a.Z)((0,r.TH)().search).domains}},531624:function(e,t,i){i.d(t,{Z:()=>o});var r=i(312048),a=i(341687);function o(){let e=(0,r.TH)(),{price_max:t,price_min:i}=(0,a.Z)(e.search);return!!(i??t)}},17832:function(e,t,i){i.d(t,{Ak:()=>j,Ax:()=>y,B1:()=>_,LG:()=>w,P5:()=>f,UP:()=>P,Uv:()=>p,a$:()=>c,eF:()=>C,i7:()=>x,iP:()=>h,nZ:()=>d,ph:()=>u,rc:()=>b,tx:()=>v,vJ:()=>g});var r=i(675450),a=i(360033),o=i(477738);let l=e=>e.map(({filter_component_type:e,filter_options:t,title:i})=>({filter_component_type:e,filter_options:t?.map(({id:e,label:t,count:i,image_url:r,is_verified:a,numeric_value:o,string_value:l,unit:n})=>({id:e,label:t,count:i,image_url:r,is_verified:a,numeric_value:o,string_value:l,unit:n})),title:i})),n=(e,t)=>{if(!e&&!t)return!1;if(!e||!t)return!0;if("single"===e.type&&"single"===t.type)return e.selectedOptionId!==t.selectedOptionId;if("multi"===e.type&&"multi"===t.type)return!(0,a.ZP)(e.selectedOptionIds,t.selectedOptionIds);if("range"===e.type&&"range"===t.type)return e.min!==t.min||e.max!==t.max;throw Error("Filter type specific return must be specified")},s=e=>!e||!Object.keys(e).length,d=(e,t)=>{if(s(e)&&s(t))return!1;if(s(e)||s(t)||e&&t&&Object.entries(e).length!==Object.entries(t).length)return!0;for(let i in e)if(n(e[i],t?.[i]))return!0;return!1},c=(e,t)=>!(0,a.ZP)(l(e),l(t)),u=(e,t)=>{if("single"===e.type)return!e.selectedOptionId;if("multi"===e.type)return 0===e.selectedOptionIds.size;if("range"===e.type)return!!t?.filter_options&&e.min===t.filter_options[0]?.numeric_value&&e.max===t.filter_options[2]?.numeric_value;throw Error("Filter type specific return must be specified")},_=(e,t)=>{try{for(let i in e){let r=e[i],a=t.find(e=>e.id===r?.id);if(r&&!u(r,a))return!1}return!0}catch(e){return!0}},p=(e,t)=>{if(!t||0===t.length)return!1;let i=t[0];if(!i)return!1;switch(i?.filter_component_type){case 2:let r=i.filter_options?.[0];for(let t in e){let i=e[t];if(!i)break;if("selectedOptionId"in i&&i.selectedOptionId===r?.id)return!0}return!1;case 1:for(let t in e){let r=e[t];if(!r)break;if(r.id===i.id&&"selectedOptionIds"in r&&0===r.selectedOptionIds.size)return!0}return!1;default:return!1}},h=e=>e.map(e=>{switch(e.filter_component_type){case 2:let t=e.filter_options?.find(e=>e.is_selected)?.id;return t?{selectedOptionId:t,id:e.id,type:"single"}:null;case 1:let i=e.filter_options?.filter(e=>e.is_selected).map(({id:e})=>e);return i&&i.length>0?{selectedOptionIds:new Set(i),id:e.id,type:"multi"}:null;default:return null}}).reduce((e,t)=>t?{...e,[t.id]:t}:e,{}),f=e=>{if(!e||0===e.length)return{};let t=e[0];switch(t?.filter_component_type){case 2:let i=t.filter_options?.[0]?.id;return i&&"string"==typeof t.id?{[t.id]:{selectedOptionId:i,lastChangedLocation:1,id:t.id,type:"single"}}:{};case 1:return"string"==typeof t.id?{[t.id]:{selectedOptionIds:new Set,lastChangedLocation:1,id:t.id,type:"multi"}}:{};default:return{}}},m=e=>e.map(e=>{let{filter_id:t,filter_options:i,product_filter_type:r}=e,a=t;return"number"==typeof r&&(a+=`_${r}`),i.length>0&&(a+=":",i.forEach((e,t)=>{let{filter_option_id:r,numeric_value:o,string_value:l,unit:n}=e;a+=`${r}`,"number"==typeof o&&(a+=`_${o}`),"string"==typeof l&&(a+=`_${l}`),"string"==typeof n&&(a+=`_${n}`),t<i.length-1&&(a+=",")})),a}).join("|"),x=({brands:e,colors:t,domains:i,onSale:r,priceMax:a,priceMin:l,scope:n,unifiedFilterModels:s})=>{let d={};for(let{filter_options:c,id:u,product_filter_type:_}of s)if(u&&c?.length){if(1===_&&("number"==typeof l||"number"==typeof a)){let[e,t,i,r]=c,o=l??i?.numeric_value??e?.numeric_value??0,n=a??r?.numeric_value??t?.numeric_value??100;d[u]={min:o,max:n,id:u,type:"range",lastChangedLocation:1}}if(0===_&&i&&i.length>0){let e=i.map(e=>{let t=c.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);e.length>0&&(d[u]={id:u,lastChangedLocation:1,selectedOptionIds:new Set(e),type:"multi"})}if(3===_&&e&&e.length>0){let t=e.map(e=>{let t=c.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);t.length>0&&(d[u]={id:u,lastChangedLocation:1,selectedOptionIds:new Set(t),type:"multi"})}if(6===_&&t&&t.length>0){let e=t.map(e=>{let t=c.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);e.length>0&&(d[u]={id:u,lastChangedLocation:1,selectedOptionIds:new Set(e),type:"multi"})}if(4===_&&n){let e=(0,o.gi)(n),t=c.find(({search_type:t})=>t===e);t?.id&&(d[u]={id:u,lastChangedLocation:1,selectedOptionId:t.id,type:"single"})}if("number"==typeof _&&new Set([7,8,9]).has(_)&&r){let e=c[0]?.id;e&&(d[u]={id:u,lastChangedLocation:1,selectedOptionId:e,type:"single"})}}return d},g=({brandsParam:e,colorsParam:t,domainsParam:i,onSaleParam:r,priceMaxParam:a,priceMinParam:o,unifiedFilterModels:l})=>{let n=[],s=Number(o),d=Number(a),c=Number.isNaN(s)?void 0:s,u=Number.isNaN(d)?void 0:d,_=i?.split(",").filter(Boolean)??[],p=e?.split(",").filter(Boolean)??[],h=t?.split(",").filter(Boolean)??[];for(let{filter_options:e,id:t,product_filter_type:i}of l)if(t&&e?.length){if(1===i&&"number"==typeof c&&"number"==typeof u){let r={filter_id:t,filter_options:e.slice(0,2).filter(e=>void 0!==e.id).map((e,t)=>({filter_option_id:e.id,numeric_value:0===t?c:u,unit:e.unit||"USD"})),location:0,product_filter_type:i};n.push(r)}if(0===i&&_&&_.length>0){let r=_.map(t=>{let i=e.find(e=>e.string_value===t);return i?i.id:null}).filter(Boolean);if(r.length>0){let e={filter_id:t,filter_options:r.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:i};n.push(e)}}if(3===i&&p&&p.length>0){let r=p.map(t=>{let i=e.find(e=>e.string_value===t);return i?i.id:null}).filter(Boolean);if(r.length>0){let e={filter_id:t,filter_options:r.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:i};n.push(e)}}if(6===i&&h&&h.length>0){let r=h.map(t=>{let i=e.find(e=>e.string_value?.toLowerCase()===t.toLowerCase());return i?i.id:null}).filter(Boolean);if(r.length>0){let e={filter_id:t,filter_options:r.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:i};n.push(e)}}if(7===i&&r){let a=e[0]?.id;if(a){let e={filter_id:t,filter_options:[{filter_option_id:a,numeric_value:Number(r)}],location:0,product_filter_type:i};n.push(e)}}}return 0===n.length?null:m(n)},b=({filterMap:e,isInWebHundredPercentProductLoadExp:t,models:i})=>{let r=null,a=null,l=!1,n=null,s=null,d=null,c=null,u=null;for(let _ in e){let p=e[_];if(p){let e=i.find(e=>e.id===p.id);if(e)if("range"===p.type&&1===e.product_filter_type)d=p.min,s=p.max;else if("multi"===p.type&&0===e.product_filter_type){let t=e.filter_options?.filter(e=>p.selectedOptionIds.has(e.id||""));n=t?.map(e=>e.string_value).filter(Boolean)}else if("multi"===p.type&&3===e.product_filter_type){let t=e.filter_options?.filter(e=>p.selectedOptionIds.has(e.id||""));r=t?.map(e=>e.string_value).filter(Boolean)}else if("multi"===p.type&&6===e.product_filter_type){let t=e.filter_options?.filter(e=>p.selectedOptionIds.has(e.id||""));a=t?.map(e=>e.string_value).filter(Boolean)}else if("single"===p.type&&4===e.product_filter_type){let i=e.filter_options?.find(e=>p.selectedOptionId===e.id),r=i&&void 0!==i.search_type?(0,o.zh)(i.search_type):o.lw.PINS;u=r,t&&(u=r===o.lw.PINS_BUYABLE?o.lw.PINS:r,l=r===o.lw.PINS_BUYABLE)}else"single"===p.type&&7===e.product_filter_type&&(c=e.filter_options?.[0]?.numeric_value)}}let _=i.find(e=>4===e.product_filter_type),p=_?.filter_options?.find(e=>e.is_selected);return null===u&&"number"==typeof p?.search_type&&(u=(0,o.zh)(p.search_type)),{brands:r,colors:a,commerce_only:l,domains:n,max:s,min:d,on_sale:c,scope:u}},y=(e,t)=>{let i=[];return(Object.entries(e).forEach(([e,r])=>{let a=t.find(e=>e.id===r.id);if(!a||4===a.product_filter_type||"number"!=typeof a.product_filter_type||!a.filter_options)return;let o=[];if("range"===r.type){let[e,t]=a.filter_options;if(!e?.id||!t?.id)return;o=[{filter_option_id:e.id,numeric_value:r.min,unit:e.unit},{filter_option_id:t.id,numeric_value:r.max,unit:t.unit}]}if("single"===r.type){let e=a.filter_options.find(e=>e.id===r.selectedOptionId);if(!e?.id)return;o=[{filter_option_id:e.id,numeric_value:e.numeric_value,string_value:e.string_value}]}if("multi"===r.type){let e=a.filter_options.filter(e=>e.id&&r.selectedOptionIds.has(e.id));if(0===e.length)return;o=e.filter(e=>void 0!==e.id).map(e=>({filter_option_id:e.id,numeric_value:e.numeric_value,string_value:e.string_value}))}i.push({filter_id:e,filter_options:o,location:r.lastChangedLocation,product_filter_type:a.product_filter_type})}),i&&0!==i.length)?m(i):null},v=e=>{let{filter:t,title:i}=e.action||{},{title:r}=t||{},a=i||r;if(!t||!a)return null;let{filterComponentType:o,productFilterType:l,id:n}=t,s=(t.filterOptions||[]).filter(Boolean);if(void 0===o||void 0===s||0===s.length||null==l||null==n)return null;let d=(e=>{let t=e.map(e=>{if(!e)return null;let{auxData:t,id:i,imageUrl:r,isVerified:a,label:o,numericValue:l,searchType:n,stringValue:s,unit:d,rules:c}=e;return null===r||null===r||null===l||null===a||null===s||null===d?null:{id:i||"",label:o||"",count:0,image_url:r,is_verified:a,numeric_value:l,...c?{rules:[...c]}:{},..."number"==typeof n?{search_type:n}:{},string_value:s,unit:d,..."string"==typeof t?.moduleId?{aux_data:{module_id:t.moduleId}}:{}}}).filter(Boolean);return t.length>0?t:null})(s);return d?{filter_component_type:o,filter_options:[...d],id:n||"",product_filter_type:l,title:a}:null};function w(e,t,i){let[a,o,l,n]=i,{numeric_value:s=0}=n??a??{},{numeric_value:d=s+r.$}=l??o??{},{unit:c="USD"}=a??{},u=e.filters[t]?.type==="range"?e.filters[t]:{min:s,max:d,id:t,type:"range",lastChangedLocation:1};return{defaultMax:d,defaultMin:s,unit:c,range:u}}function j(e){return"multi"!==e.type?e:{...e,selectedOptionIds:new Set}}function P(e,t){let i=[];return Object.entries(t).forEach(([t,r])=>{let a=e.find(e=>e?.id===t);if(a){let e=a.aux_data?.module_id;e&&i.push(e);let t=("multi"===r.type?Array.from(r.selectedOptionIds):"single"===r.type?[r.selectedOptionId]:[]).map(e=>{let t=a.filter_options?.find(t=>t.id===e);return t?.aux_data?.module_id||""}).filter(Boolean);i.push(...t)}}),i}function C(e,t){let i=[];return Object.keys(t).forEach(t=>{let r=e.find(e=>e?.id===t);if(r){let e=r.product_filter_type;e&&i.push(e)}}),i}},272598:function(e,t,i){i.d(t,{Z:()=>B});var r=i(686659),a=i(667294),o=i(391995),l=i(505633),n=i(647636),s=i(189654),d=i(916559),c=i(465784),u=i(986475),_=i(640200),p=i(721703),h=i(9065),f=i(785893);let m=(0,h.Z)(()=>i.e("88929").then(i.bind(i,607571)),{ssr:!1},e=>607571,void 0,void 0),x=(0,h.Z)(()=>i.e("33629").then(i.bind(i,282842)),{ssr:!1},e=>282842,void 0,void 0),g=(0,h.Z)(()=>Promise.all([i.e("6608"),i.e("74374")]).then(i.bind(i,568432)),{ssr:!1},e=>568432,void 0,void 0),b=(0,h.Z)(()=>i.e("12026").then(i.bind(i,788635)),{ssr:!1},e=>788635,void 0,void 0),y=(0,h.Z)(()=>Promise.all([i.e("15417"),i.e("23066"),i.e("51640")]).then(i.bind(i,50415)),{ssr:!1},e=>50415,void 0,void 0),v=(0,h.Z)(()=>i.e("3256").then(i.bind(i,126963)),{ssr:!1},e=>126963,void 0,void 0),w=(0,h.Z)(()=>i.e("1295").then(i.bind(i,826241)),{ssr:!1},e=>826241,void 0,void 0),j=(0,h.Z)(()=>i.e("29376").then(i.bind(i,708459)),{ssr:!1},e=>708459,void 0,void 0),P=(0,h.Z)(()=>i.e("28234").then(i.bind(i,182112)),{ssr:!1},e=>182112,void 0,void 0),C=[505933,506173,506124,506436,508591],A=({complete:e,dismiss:t,experience:i,placementId:r})=>{let{experience_id:a,display_data:n}=i,d=function(e){switch(e){case 504721:return w;case 504569:return v;case 504032:return j;case 502271:return x;case 505093:return P;default:return m}}(a),h=function(e){switch(e){case 504721:return 660;case 500331:return"md";default:return"sm"}}(a),{setObserverRef:A}=(0,s.NQ)();return(0,f.jsxs)(o.xu,{ref:A,children:[!C.includes(a)&&(0,f.jsx)(c.ZP,{accessibilityModalLabel:"",onDismiss:t,size:h,children:(0,f.jsx)(d,{...(0,u.Z)(_.Z)(n),experienceId:a,handleComplete:e,handleDismiss:t,placementId:r})}),506124===a&&(0,f.jsx)(g,{handleComplete:e,handleDismiss:t,isDesktop:!0,isGooglePrimary:!0,...(0,u.Z)(_.Z)(n)}),(506173===a||506436===a)&&(0,f.jsx)(g,{handleComplete:e,handleDismiss:t,isDesktop:!0,isGooglePrimary:!1,...(0,u.Z)(_.Z)(n)}),508591===a&&(0,f.jsx)(y,{experienceId:508591,onSubmitSurvey:async()=>{(0,l.Z)((0,p.Z)({site:"www",path:"/business/marketing-plan"}))},placementId:r,viewType:251}),505933===a&&(0,f.jsx)(b,{handleComplete:()=>{e(),(0,l.Z)((0,p.Z)({site:"sterling",path:"/reporting/"}))},handleDismiss:t,onAdsReportingSurface:!1})]})};function B({placementId:e}){(0,a.useEffect)(()=>{(0,r.Z)("ExperienceModal","/app/common/react/components/experiences/ExperienceModal/ExperienceModal.tsx")},[]);let{enableExperienceSession:t,endOnSurfaceChange:i}=(0,d.Z)(e);return(0,f.jsx)(a.Fragment,{children:(0,f.jsx)(n.a3,{customExperienceSession:!0,eligibleIds:[501312,500331,502271,504032,504569,504721,505093,505933,506173,506124,506436,508591],enableExperienceSession:t,placementId:e,sessionEndOnSurfaceChange:i,children:({complete:t,dismiss:i,experience:r})=>(0,f.jsx)(A,{complete:t,dismiss:i,experience:r,placementId:e})})})}},270434:function(e,t,i){i.d(t,{Z:()=>P,_:()=>C});var r=i(686659),a=i(667294),o=i(581722),l=i(312048),n=i(376030),s=i(576629),d=i(391995),c=i(935059),u=i(24246),_=i(216975),p=i(748261),h=i(38359),f=i(785893);function m({boardlessPins:e,displayFBCModalContent:t,handleClick:i,imageUrl:o,inFBCExperiment:l,pinRef:n,smallPinRep1:s,smallPinRep2:m,title:x,updateStep:g,onDismiss:b,inResUserFBCExperiment:y=!1,repinData:v}){(0,a.useEffect)(()=>{(0,r.Z)("FBCUpsellIntroStep","/app/common/react/components/save/QuickSave/FBCUpsellIntroStep.tsx")},[]);let w=(0,u.Z)(),j=(0,c.Z)(),P=j.isAuth?j.username:null,C=w._('Save it, sort it, find it', 'fbc.modal.title', 'Describes the core actions (saving, sorting, finding) associated with boards on Pinterest in a catchy way'),A=w._('Boards let you collect and organize your favorite ideas so you can get back to what inspires you.', 'fbc.modal.subtitle', 'Describes what a board is on Pinterest'),B=w._('Create board', 'fbc.modal.button.text', 'Instructs user to create a board'),S=P?(0,_.Wc)(w._('@{{ username }}\'s Vibe!', 'fbc.modal.board.title', 'States board is user\'s vibe. username: user\'s username'),{username:P.charAt(0).toUpperCase()+P.slice(1)}):null,Z={url:v?.image?.url,name:v?.description};return l||y?(0,f.jsx)(d.kC,{alignItems:"center",direction:"column",height:594,justifyContent:"start",width:"540",children:t?(0,f.jsxs)(a.Fragment,{children:[(0,f.jsx)(d.xu,{marginEnd:2,marginTop:2,padding:2,position:"absolute",right:!0,top:!0,children:(0,f.jsx)(d.hU,{accessibilityLabel:"Dismiss modal",icon:"close",iconColor:"default",onClick:b,size:"lg"})}),(0,f.jsx)(d.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"var(--sema-color-background-wash-scrims-opaque)"}},display:"flex",flex:"grow",justifyContent:"center",width:"100%",children:(0,f.jsxs)(d.xu,{alignItems:"start",color:"default",direction:"column",display:"flex",justifyContent:"center",padding:6,rounding:400,width:369,children:[(0,f.jsx)(p.Z,{images:y?[Z]:e}),S&&(0,f.jsx)(d.xu,{marginTop:1,paddingX:1,width:"100%",children:(0,f.jsx)(d.xv,{children:S})})]})}),(0,f.jsx)(d.kC,{justifyContent:"center",width:"100%",children:(0,f.jsxs)(d.xu,{alignItems:"center",direction:"column",display:"flex",paddingY:5,width:458,children:[(0,f.jsx)(d.qd,{align:"center",size:"600",children:C}),(0,f.jsx)(d.xu,{marginTop:2,width:"100%",children:(0,f.jsx)(d.xv,{align:"center",children:A})}),(0,f.jsx)(d.xu,{display:"flex",justifyContent:"center",marginTop:4,paddingX:6,width:"100%",children:(0,f.jsx)(d.zx,{color:"primary",fullWidth:!0,onClick:g,size:"lg",text:B})})]})})]}):(0,f.jsx)(d.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,f.jsx)(d.xH,{show:!0})})}):(0,f.jsxs)(d.iP,{onTap:i,rounding:800,children:[(0,f.jsx)(d.xu,{alignItems:"center","data-test-id":"content-wrapper",display:"flex",justifyContent:"center",marginTop:8,minHeight:h.mE,children:(0,f.jsxs)(d.xu,{display:"flex",justifyContent:"between",overflow:"hidden",rounding:400,children:[(0,f.jsx)(d.xu,{ref:n,height:h.mE,width:h.Kp,children:o&&(0,f.jsx)(d.Ee,{alt:x||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:o})}),(0,f.jsxs)(d.kC,{alignItems:"stretch",direction:"column",justifyContent:"between",children:[(0,f.jsx)(d.xu,{ref:s,color:"secondary",height:h.mE/2}),(0,f.jsx)(d.xu,{ref:m,color:"secondary",height:h.mE/2})]})]})}),(0,f.jsx)(d.xu,{padding:8,children:(0,f.jsx)(d.qd,{align:"center",size:"600",children:w._('Keep your ideas organized by creating a board', 'quickSave.eduToast.heading', 'Explain users why they should create a board')})})]})}var x=i(230201),g=i(647636),b=i(465784),y=i(661376),v=i(893957),w=i(504727),j=i(228612);function P({boardId:e,boardUrl:t,onHide:i,imageUrl:d,title:_,toastDuration:p,firstBoardCreationExperimentEnabled:g=!1,resUserFirstBoardCreationExperimentEnabled:P=!1,showRepinAnimation:C,onComplete:A,repinData:B}){(0,a.useEffect)(()=>{(0,r.Z)("QuickSaveBoardCreateEdu","/app/common/react/components/save/QuickSave/QuickSaveBoardCreateEdu.tsx")},[]);let{logContextEvent:S}=(0,x.u)(),Z=(0,u.Z)(),I=(0,l.s0)(),T=(0,a.useRef)(null),z=(0,a.useRef)(null),E=(0,a.useRef)(null),[k,F]=(0,a.useState)("INTRO_STEP"),O=(0,c.Z)(),D=O.isAuth?O.id:"",L=(0,o.v9)(({feeds:e})=>e[`boardless-pins:${O.isAuth?O.id:""}`])||[],M=(0,j.JC)(),{boardlessPinsEnabled:H}=(0,w.Xt)(D),R=(0,y.Z)((g||P)&&H&&D?{name:"BoardlessPinsResource",options:{redux_normalize_feed:!0,userId:D}}:null),N=!!L&&L.reduce((e,t)=>{let i=M[t.id];return e.push({name:i?.description,url:i?.images?.["236x"]?.url}),e},[])||[],U=(L||[]).length>0&&R?.data||P&&B;(0,v.Z)(()=>{(g||P)&&S({event_type:13,view_type:740,view_parameter:4165})}),(0,a.useEffect)(()=>{S({event_type:9311,element:11934,object_id_str:e}),setTimeout(()=>(()=>{let e=T.current,t=z.current,i=E.current;e&&t&&i&&((0,n.Z)({targets:e,height:[h.Kp+2],duration:600,delay:1e3,easing:"linear"}),(0,n.Z)({targets:[t,i],width:[0,h.Kp/2],height:[h.Kp/2],marginLeft:[2],delay:1e3,duration:600,easing:"linear"}))})(),100);let t=setTimeout(()=>{g||P||i()},p);return()=>clearTimeout(t)},[]);let q=()=>n.Z.remove([T.current,z.current,E.current]),K=()=>{S({event_type:9313,element:11934,object_id_str:e}),(g||P)&&S({event_type:17476,view_type:740,view_parameter:4165}),q(),i()};return(0,f.jsxs)(a.Fragment,{children:["INTRO_STEP"===k&&(0,f.jsx)(b.ZP,{accessibilityModalLabel:Z._('Keep your ideas organized by creating a board', 'quickSave.eduToast.modalAccessibilityLabel', 'Explain users why they should create a board'),onDismiss:K,children:(0,f.jsx)(m,{boardlessPins:N,displayFBCModalContent:!!U,handleClick:()=>{S({event_type:9312,element:11934,object_id_str:e}),q(),i(),I(t)},imageUrl:d,inFBCExperiment:g,inResUserFBCExperiment:P,onDismiss:K,pinRef:T,repinData:B,smallPinRep1:z,smallPinRep2:E,title:_,updateStep:()=>{F("BOARD_CREATE_STEP"),S({event_type:101,view_type:740,view_parameter:4165,element:96})}})}),(g||P)&&"BOARD_CREATE_STEP"===k&&L.length>0&&(0,f.jsx)(s.Z,{boardlessPinsNormalized:L,fetchMore:()=>{},hasBoards:!1,isFirstBoardCreation:g,isResUserFirstBoardCreation:P,lastSavedPin:B,onComplete:A,onDismiss:()=>{S({event_type:17476,view_type:740,view_parameter:4166,element:12284}),i()},showRepinAnimation:C,userId:O.isAuth?O.id:""})]})}function C({experience:e}){return(0,a.useEffect)(()=>{(0,r.Z)("QuickSaveBoardCreateEdu","/app/common/react/components/save/QuickSave/QuickSaveBoardCreateEdu.tsx")},[]),(0,f.jsx)(g.a3,{eligibleIds:[508446],experience:e,children:({complete:e,dismiss:t,experience:i})=>(0,f.jsx)(P,{boardId:"",boardUrl:"",imageUrl:"",onComplete:e,onHide:t,repinData:{id:i.display_data?.repin_id??"",image:{url:i.display_data?.repin_image?.url??"",height:i.display_data?.repin_image?.height??0,width:i.display_data?.repin_image?.width??0},description:i.display_data?.repin_description??""},resUserFirstBoardCreationExperimentEnabled:!0,title:"",toastDuration:5e3})})}},564023:function(e,t,i){i.d(t,{Z:()=>a});var r=i(47755);let a=async e=>(await (0,r.Z)({url:"/v3/board/{board}/report_reasons/",urlParams:{board:e}})).resource_response.data},711960:function(e,t,i){i.d(t,{Z:()=>a});var r=i(47755);let a=async(e,t)=>await (0,r.Z)({url:"/v3/board/{board}/flag/",urlParams:{board:e},method:"POST",data:t})},59355:function(e,t,i){i.d(t,{Q:()=>s,Z:()=>d});var r=i(667294),a=i(104999),o=i(746868),l=i(730056),n=i(774838);function s(e,t){let{setViewContextData:i}=(0,o.A$)(),{requestIdentifier:s}=(0,n.B)(),d=(0,a.Z)(),{viewData:c}=(0,o.SU)();(0,r.useEffect)(()=>{e&&(i({viewType:e.view_type??1,viewParameter:e.view_parameter,viewData:e.view_data?(0,l.Z)(c,e.view_data):c,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),d({...e,event_type:13,request_identifier:s}))},[t])}function d(e){let{children:t,log:i}=e;return s(i),t||null}},81342:function(e,t,i){i.d(t,{Z:()=>L});var r=i(686659),a=i(667294),o=i(270434),l=i(647636),n=i(435092),s=i(115964),d=i(391995),c=i(289935),u=i(24246),_=i(451503),p=i(785893);function h({dismissExperience:e,onClickCreateBoard:t}){(0,a.useEffect)(()=>{(0,r.Z)("BoardUpsellBanner","/app/www/nux/encouragements/BoardUpsellBanner.tsx")},[]);let i=(0,u.Z)(),{navFooterHeight:o,setForceShowNavFooter:l}=(0,_.Q)();(0,a.useEffect)(()=>(l(!0),()=>{l(!1)}),[l]);let n=i._('Pin saved! Add it to a board', 'boardUpsellBanner.header', 'Header for the board upsell banner'),s=i._('Boards keep your ideas organized and easy to find later.', 'boardUpsellBanner.message', 'Message for the board upsell banner'),h=i._('Create a board', 'boardUpsellBanner.buttonLabel', 'Label for the create a board button');return(0,p.jsx)(d.mh,{zIndex:c.b7,children:(0,p.jsx)(d.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{marginBottom:o+8}},paddingX:3,paddingY:2,position:"fixed",right:!0,width:"100%",children:(0,p.jsx)(d.XA,{dismissButton:{accessibilityLabel:i._('Dismiss banner', 'boardUpsellBanner.dismiss', 'Accessibility label for the dismiss button'),onDismiss:e},imageData:{component:(0,p.jsx)(d.JO,{accessibilityLabel:i._('Pin Icon', 'boardUpsellBanner.pinIcon', 'Accessibility label for the pin icon'),color:"primary",icon:"compact-pin-angled",size:20})},message:s,primaryAction:{accessibilityLabel:i._('Create board button', 'boardUpsellBanner.createBoardButton', 'Accessibility label for the create board button'),label:h,onClick:t},title:n})})})}var f=i(581722),m=i(312048),x=i(104999),g=i(236269),b=i(465784),y=i(924591),v=i(501010),w=i(577356),j=i(464094),P=i(748261),C=i(250704),A=i(39722),B=i(603909),S=i(63959),Z=i(322360),I=i(210730),T=i(914253),z=i(131076),E=i(500912),k=i(427475);function F({completeExperience:e,dismissExperience:t,repinData:i}){(0,a.useEffect)(()=>{(0,r.Z)("FirstBoardCreateHalfSheet","/app/www/save/BoardUpsell/FirstBoardCreateHalfSheet.tsx")},[]);let o=(0,u.Z)(),l=(0,m.TH)(),n=(0,f.I0)(),s=(0,E.n)(),{checkExperiment:c}=(0,v.Z)(),_=(0,x.Z)(),h=(0,k.Z)(),F=(0,A.m)(),O=(0,T.gC)(),{showToast:D}=(0,w.dI)(),[L,M]=(0,a.useState)(!1),[H,R]=(0,a.useState)(""),[N,U]=(0,a.useState)(!1),q=i.id,K={url:i?.image?.url,name:i?.description},$=o._('Keep board secret', 'boardCreationHalfSheet.boardSecret.label', 'Label for board secret toggle'),G=o._('Create Board', 'boardCreationHalfSheet.title', 'Title for board creation modal'),W=o._('Create', 'boardCreationHalfSheet.createButton.label', 'Label for board creation button'),J=o._('Enter board name', 'boardCreationHalfSheet.boardName.placeholder', 'Placeholder for board name input'),X=o._('Board Name', 'boardCreationHalfSheet.boardName.label', 'Label for board name input'),V=o._('Close board creation modal button', 'boardCreationHalfSheet.boardName.accessibilityLabel', 'Accessibility label for board name input'),Y=o._('Create first board modal', 'boardCreationHalfSheet.accessibilityModalLabel', 'Accessibility label for board creation modal'),Q=o._('Board name is too long', 'boardCreationHalfSheet.boardNameTooLongErrorMessage', 'Error message for board name input'),ee=async()=>{let t=(0,C.Z)(l.state?.trackingParams||"");try{let i=await h({boardCreateOptions:{name:H,initial_pin_client_tracking_params:[t],privacy:L?"secret":"public"},deprecatedSchemaForNormalization:I.IY}),{url:r="",id:a}=i||{};q&&n((0,Z.w)({checkExperiment:c,i18n:o,logContextEvent:_,pinId:q,boardId:a,trackingParams:{clientTrackingParams:t,pinnedToBoardId:a},historyPush:()=>void 0,savePinId:(e,t)=>(F?.save(e),s?.save(e,t))})),e();let{duration:l,text:d,thumbnail:u}=(0,B.Z)({boardId:a,getReduxBoard:O,isFBC:!0,pinId:q,viewType:3}),{href:f}=(0,z.Z)(r,i.name??"",o);return D(({hideToast:e})=>(0,p.jsx)(S.Z,{duration:l,href:f,onHide:e,text:d,thumbnail:u})),{boardId:a,boardUrl:r}}catch(e){return D(({hideToast:t})=>(0,p.jsx)(y.Z,{duration:5e3,onHide:t,text:(0,g.Z)(e,"message_detail")||(0,g.Z)(e,"message")||o._('Sorry! Something went wrong on our end.', 'error creating board', 'error creating board')})),null}};return(0,p.jsx)(b.ZP,{accessibilityModalLabel:Y,onDismiss:t,children:(0,p.jsxs)(d.xu,{padding:2,children:[(0,p.jsxs)(d.xu,{alignItems:"center",display:"flex",justifyContent:"between",paddingY:1,width:"100%",children:[(0,p.jsx)(d.hU,{accessibilityLabel:V,icon:"close",onClick:t,size:"lg"}),(0,p.jsx)(d.qd,{color:"default",size:"300",children:G}),(0,p.jsx)(d.zx,{color:"primary",disabled:N||!H,onClick:ee,size:"md",text:W})]}),(0,p.jsxs)(d.kC,{direction:"column",children:[(0,p.jsx)(d.xu,{display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%",children:(0,p.jsx)(d.xu,{width:269,children:(0,p.jsx)(P.Z,{fullSize:!0,images:[K]})})}),(0,p.jsxs)(d.xu,{padding:2,children:[(0,p.jsx)(d.nv,{errorMessage:N?Q:void 0,errorMessageDisplay:N?"visible":"hidden",id:"board-name-input",label:X,mobileInputMode:"text",onChange:({value:e})=>{R(e),e.length>=j.Bp?U(!0):U(!1)},placeholder:J,size:"lg",type:"text",value:H}),(0,p.jsxs)(d.xu,{display:"flex",justifyContent:"between",padding:4,children:[(0,p.jsx)(d.xv,{size:"100",children:$}),(0,p.jsx)(d.rs,{id:"secretBoardToggle",onChange:()=>M(!L),switched:L})]})]})]})]})})}function O({complete:e,dismiss:t,experience:i}){let[r,o]=(0,a.useState)(1),l=(0,a.useRef)(!1);(0,a.useEffect)(()=>()=>{l.current||t()},[t]);let n=()=>{l.current=!0,t()};return 1===r?(0,p.jsx)(h,{dismissExperience:n,onClickCreateBoard:()=>o(2)}):(0,p.jsx)(F,{completeExperience:()=>{l.current=!0,e()},dismissExperience:n,repinData:{id:i.display_data?.pin_id??"",image:{url:i.display_data?.pin_image?.url??""},description:i.display_data?.pin_description??""}})}function D({experience:e}){return(0,a.useEffect)(()=>{(0,r.Z)("FirstBoardUpsellExperience","/app/www/save/BoardUpsell/FirstBoardUpsellExperience.tsx")},[]),(0,p.jsx)(s.ZP,{eligibleIds:[508536],experience:e,children:({complete:e,dismiss:t,experience:i})=>(0,p.jsx)(O,{complete:e,dismiss:t,experience:i})})}let L=({placementId:e})=>{(0,a.useEffect)(()=>{(0,r.Z)("ExperiencesAfterAction","/app/packages/experiences/Framework/ExperiencesAfterAction.tsx")},[]);let{experienceForPlacement:t}=(0,n.oS)(e),{unmountPlacement:i,registerAfterActionPlacement:s}=(0,n.Sc)();return(0,a.useEffect)(()=>(s(e),()=>{i(e)}),[e,i,s]),(0,p.jsxs)(a.Fragment,{children:[(0,p.jsx)(l.nj,{experience:t}),(0,p.jsx)(l.O9,{experience:t}),(0,p.jsx)(l._f,{experience:t}),(0,p.jsx)(o._,{experience:t}),(0,p.jsx)(D,{experience:t})]})}},42676:function(e,t,i){i.d(t,{Tb:()=>s,vW:()=>n});var r=i(99737),a=i(778555),o=i(405897),l=i(34550);function n({searchParams:e,sourceUrl:t,isDesktop:i,isAuthenticated:r,appliedUnifiedFilters:a}){let{autoCorrectionDisabled:o,bubbleId:l,category:n,currentlyAppliedFiltersParamTerm:s,domains:c,guidedSearchQuery:u,inGlobalSearch:_,journeyDepth:p,personalizationPinSig:h,priceMax:f,priceMin:m,query:x,requestParams:g,rs:b,scope:y,selectedOneBarModules:v,sourceId:w,sourceModuleId:j,topPinIds:P,user:C}=e;return function(e){let{selectedOneBarModules:t,currentlyAppliedFiltersParamTerm:i,personalizationPinSig:r,inGlobalSearch:a,appliedUnifiedFilters:o,initialCategory:l,initialDomains:n,initialMaxPrice:s,initialMinPrice:c,isDuplo:u,..._}=e,p=t?.split(","),h={..._,filters:i,selectedOneBarModules:p,selectedPinImgSig:r};if(a)return d(h);let f={...h,appliedUnifiedFilters:o,appliedProductFilters:function({category:e,domains:t,maxPrice:i,minPrice:r}){return[e,t,i,r].map(e=>e??"").join("-")}({category:l,domains:n,maxPrice:s,minPrice:c})};return u&&(f.domains=n,f.priceMax=s?parseInt(s,10):void 0,f.priceMin=c?parseInt(c,10):void 0),d(f)}({appliedUnifiedFilters:a,autoCorrectionDisabled:o,bubbleId:l,currentlyAppliedFiltersParamTerm:s,guidedSearchQuery:u,inGlobalSearch:_,initialCategory:n,initialDomains:c,initialMaxPrice:f,initialMinPrice:m,isDuplo:!r||!i,journeyDepth:p,personalizationPinSig:h,query:x,requestParams:g,rs:b,scope:y,selectedOneBarModules:v,sourceId:w,sourceModuleId:j,sourceUrl:t,topPinIds:P,user:C})}function s({appliedProductFilters:e,applied_unified_filters:t,auto_correction_disabled:i,filters:r,journey_depth:a,query:o,rs:l,scope:n,selected_one_bar_modules:s,query_pin_sigs:d,source_id:c,source_module_id:u,top_pin_ids:_,user:p}){let h=[e,r,a,o,l,n,s,d,c,u,t,_,p].map(e=>e??"").join(":");return i?"auto-correction-disabled:"+h:h}function d(e){return{name:"BaseSearchResource",options:(e=>{let{query:t="",scope:i="pins",appliedUnifiedFilters:n=null,appliedProductFilters:s=null,filters:d=null,domains:c=null,priceMax:u=null,priceMin:_=null,rs:p=o.i.DIRECT_NAVIGATION,journeyDepth:h=null,sourceId:f=null,sourceModuleId:m=null,sourceUrl:x=null,selectedOneBarModules:g=null,selectedPinImgSig:b=null,user:y=null,autoCorrectionDisabled:v=!1,seoDrawerEnabled:w=!1,bubbleId:j=null,pageSize:P=null,requestParams:C=null,topPinIds:A=null}=e,B="undefined"!=typeof window?(0,l.M0)().getItem("pwt_performance_testing"):null,S=x&&x.includes("pwt_performance_testing"),Z=!!(!0===B||"true"===B||S);return{query:t,scope:i,appliedProductFilters:s,domains:c,user:y,seoDrawerEnabled:w,applied_unified_filters:n,auto_correction_disabled:v,journey_depth:h,source_id:f,source_module_id:m,source_url:function(e){if(!e)return"";let t=new Set,i=e.split("?")[1];i&&i.split("&").forEach(e=>{e.includes("=")||t.add(e)});let{directory:o,queryKey:l}=(0,r.Z)((0,a.Z)(e,["request_params"])),n=Object.keys(l).sort().map(e=>t.has(e)?e:`${e}=${l[e]}`).join("&");return n?`${o}?${n}`:o}(x),static_feed:Z,selected_one_bar_modules:g,query_pin_sigs:b,page_size:P,price_max:u,price_min:_,request_params:C,top_pin_ids:A,article:j,corpus:b?"personalize":null,customized_rerank_type:b?"manas_graph_sage_only_wand_rewrite":null,filters:d,rs:p,redux_normalize_feed:!0}})({...e,autoCorrectionDisabled:!!e.autoCorrectionDisabled})}}},537701:function(e,t,i){i.d(t,{Z:()=>r});function r(e,t){let i=t?.separateNumbers?/([A-Z]|\d)/g:/([A-Z])/g;return e.replace(i,(e,t)=>"_"+t.toLowerCase())}},181735:function(e,t,i){i.d(t,{Z:()=>F});var r,a,o,l,n=i(686659),s=i(667294),d=i(230201),c=i(501010),u=i(774838),_=i(739405),p=i(893957),h=i(514821);i(167912);var f=i(391995),m=i(183e3),x=i(104999),g=i(748336),b=i(631284),y=i(166613),v=i(785893);let w=(void 0!==r||(r=i(222078)).hash&&"6ddea2ecd3dff2e1001c1e4d037cc858"!==r.hash&&console.error("The definition of 'CallToAction_advisoryAction' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function j({auxData:e,actionKey:t,alignCenter:i}){(0,s.useEffect)(()=>{(0,n.Z)("CallToAction","/app/www/ContentSensitivityOnDesktop/CallToAction.tsx")},[]);let r=(0,m.Z)(w,t),a=(0,x.Z)(),o=(0,_.HG)(),{title:l,description:d,button:c}=r,u=c?.text,p=l?.text,h=d?.text,j=c?.link??"",P=j.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").replace("/",""),C=u&&j.startsWith("http"),A=(0,g.Z)({url:j}),B=C&&A?"nofollow":"none";return e?.advisory_type===y.Uv?(0,v.jsx)(s.Fragment,{children:(0,v.jsxs)(f.kC,{direction:"column",gap:3,justifyContent:"start",children:[!!p&&(0,v.jsx)(f.xe,{align:"start",weight:"bold",children:p}),!!h&&(0,v.jsx)(f.xe,{align:"start",children:h}),(0,v.jsx)(f.ZP,{color:"tertiary",href:j,onClick:()=>{(0,b.qA)({auxData:{...e,url:j},isDesktop:o,logContextEvent:a})},rel:B,text:u||"Visit"})]})}):C?(0,v.jsxs)(s.Fragment,{children:[(0,v.jsx)(f.xu,{marginBottom:1,children:(0,v.jsx)(f.xe,{align:i?"center":"start",weight:"bold",children:""!==u?u:"Visit"})}),(0,v.jsx)(f.xu,{marginBottom:1,children:(0,v.jsx)(f.rU,{href:j,onClick:()=>{(0,b.qA)({logContextEvent:a,auxData:{...e,url:j},isDesktop:o})},rel:B,children:(0,v.jsx)(f.xe,{align:i?"center":"start",lineClamp:1,underline:!0,weight:"normal",children:P})})})]}):(0,v.jsxs)(s.Fragment,{children:[!!p&&(0,v.jsx)(f.xu,{marginBottom:1,children:(0,v.jsx)(f.xe,{align:i?"center":"start",weight:"bold",children:p})}),!!h&&(0,v.jsx)(f.xu,{marginBottom:1,children:(0,v.jsx)(f.xe,{align:i?"center":"start",children:h})})]})}let P=(void 0!==a||(a=i(52950)).hash&&"4970946a36017d9ad0c751fd70cc512c"!==a.hash&&console.error("The definition of 'HyperlinkFormatText_textTag' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function C({text:e,textTags:t,auxData:i}){let r=(0,x.Z)(),a=(0,_.HG)(),o=[],l=0;for(let n=0;n<t.length;n+=1){let s=t[n];if(5===s.tagType&&s.link){let{offset:t,length:d,link:c}=s;if(null!=t&&null!=d&&null!=c){let s=e.substring(t,t+d),u=(0,v.jsx)(f.xe,{inline:!0,weight:"bold",children:(0,v.jsx)(f.rU,{display:"inlineBlock",href:c,onClick:()=>{(0,b.qA)({logContextEvent:r,auxData:{...i,url:c},isDesktop:a})},target:"blank",underline:"hover",children:s})},`link-${n}-${t}`);o.push((0,v.jsx)("span",{children:e.substring(l,t)},`text-${n}-${l}`)),o.push(u),l=t+d}}}return(l>0&&o.push((0,v.jsx)("span",{children:e.substring(l)},`text-end-${l}`)),0===o.length)?[(0,v.jsx)("span",{children:e},"text-full")]:o}function A({auxData:e,textTagKey:t,text:i}){(0,s.useEffect)(()=>{(0,n.Z)("HyperlinkFormatText","/app/www/ContentSensitivityOnDesktop/HyperlinkFormatText.tsx")},[]);let r=(0,m.Z)(P,t);return(0,v.jsx)(C,{auxData:e,text:i,textTags:r})}let B=[4,14],S={backgroundColor:"#E1F8F7",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},Z={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},I=(void 0!==o||(o=i(5755)).hash&&"5879c4710b107f258f42156bf3e47e37"!==o.hash&&console.error("The definition of 'DefaultNotice_advisoryNotice' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o);function T({auxData:e,advisory:t,inModal:i,noticeKey:r}){(0,s.useEffect)(()=>{(0,n.Z)("DefaultNotice","/app/www/ContentSensitivityOnDesktop/DefaultNotice.tsx")},[]);let{title:a,description:o,actions:l}=(0,m.Z)(I,r),d=!!l?.length&&(e?.advisory_type===y.Uv||!!t&&B.includes(t)),c=l?.length===1,u=o&&o.text||"";return(0,v.jsxs)(f.xu,{dangerouslySetInlineStyle:{__style:i?Z:S},padding:6,rounding:200,children:[!!a&&!i&&(0,v.jsx)(f.xu,{display:"flex",marginBottom:2,children:(0,v.jsx)(f.qd,{size:"600",children:a})}),!!u&&o?.textTags!=null&&(0,v.jsx)(f.xu,{"data-test-id":"search-advisory",marginBottom:4,children:(0,v.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:(0,v.jsx)(f.xv,{align:i?"center":"start",overflow:"normal",children:(0,v.jsx)(A,{auxData:e,text:u,textTagKey:o.textTags})})})}),d&&(0,v.jsx)(f.xu,{direction:i?"column":"row",display:"flex",marginEnd:-2,marginStart:-2,wrap:!0,children:l?.map(t=>(0,v.jsx)(f.xu,{column:i||c?12:6,paddingX:2,paddingY:1,children:(0,v.jsx)(j,{actionKey:t,alignCenter:i||c,auxData:e})},t.actionId))})]})}let z=(void 0!==l||(l=i(90486)).hash&&"fa2efeb6b4c660680d9f3a0e156c8007"!==l.hash&&console.error("The definition of 'LegoNotice_advisoryNotice' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function E({auxData:e,noticeKey:t}){(0,s.useEffect)(()=>{(0,n.Z)("LegoNotice","/app/www/ContentSensitivityOnDesktop/LegoNotice.tsx")},[]);let i=(0,m.Z)(z,t),r=(0,x.Z)(),a=(0,_.HG)(),o={color:"#004b91",display:"block",fontSize:"28px",WebkitFontSmoothing:"antialiased"};return(0,v.jsxs)(f.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:3,width:"100%",children:[(0,v.jsx)(f.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#86d1ce"}},display:"flex",justifyContent:"center",rounding:800,width:656,children:(0,v.jsxs)(f.xu,{"data-test-id":"search-advisory",height:"100%",padding:10,width:"100%",children:[(0,v.jsx)("span",{style:o,children:i.description?.textTags&&(0,v.jsx)(A,{text:i.description?.text||"",textTagKey:i.description.textTags})}),(0,v.jsx)(f.xu,{marginTop:6,children:(i.actions??[]).map(t=>{let i=t.button?.link;return i&&i.startsWith("tel")?(0,v.jsxs)(f.xu,{children:[(0,v.jsx)("span",{style:{fontWeight:"600",...o},children:t.title?.text}),(0,v.jsx)("span",{style:o,children:t.description?.text})]},t.actionId):(0,v.jsx)(f.rU,{href:i||"",onClick:()=>{(0,b.qA)({logContextEvent:r,auxData:{...e,url:i||"",isLegoNotice:!0},isDesktop:a})},children:(0,v.jsx)(f.xu,{display:"inlineBlock",children:(0,v.jsx)(f.xu,{alignItems:"center",color:"info",display:"flex",height:44,justifyContent:"center",paddingX:12,rounding:"pill",children:(0,v.jsx)(f.xe,{color:"inverse",weight:"bold",children:t.button?.text||""})})})},t.actionId)})})]})}),!!i.footer&&(0,v.jsx)(f.xu,{paddingY:2,width:540,children:(0,v.jsx)(f.rU,{display:"inlineBlock",href:i.footer.link??"",onClick:()=>{(0,b.qA)({logContextEvent:r,auxData:{...e,url:i.footer?.link??"",isLegoNotice:!0},isDesktop:a})},target:"blank",underline:"hover",children:(0,v.jsx)(f.xe,{align:"center",color:"subtle",size:"100",children:(0,v.jsx)("div",{dangerouslySetInnerHTML:{__html:i.footer.text??""}})})},i.footer.link)})]})}var k=i(767415);function F({boardId:e,isOwnBoard:t,boardName:i,boardSectionId:r,notices:a,query:o,sensitivity:l,viewParameter:f,viewType:m,inModal:x}){(0,s.useEffect)(()=>{(0,n.Z)("SensitiveContentNotice","/app/www/ContentSensitivityOnDesktop/SensitiveContentNotice.tsx")},[]),function({advisoryDetails:e,boardId:t,boardName:i,boardSectionId:r,query:a,sensitivity:o,viewParameter:l,viewType:n}){let{logContextEvent:s}=(0,d.u)(),c=(0,_.HG)();(0,p.Z)(()=>{n&&(s({aux_data:{entered_query:a,advisory_details:e,advisory_level:o?.advisory,severity_level:o?.severity,advisory_type:o?.advisory_type,resource_country:o?.resource_country},component:13367,event_type:120,view_parameter:l,view_type:n}),(0,k.QX)("webapp.advisories.view",1,{sampleRate:1,tags:{advisory_level:o?.advisory,advisory_type:o?.advisory_type,app:c?"DESKTOP_WEB":"MOBILE_WEB",resource_country:o?.resource_country,placement:5===n?"board":"search"}})),t&&5===n&&s({aux_data:{board_name:i,board_id:t,board_section_id:r??0},component:178,event_type:15549,view_parameter:l,view_type:n})})}({advisoryDetails:l?.advisory_details,boardId:e,boardSectionId:r,query:o,sensitivity:{advisory:l?.advisory,severity:l?.severity},viewParameter:f,viewType:m});let{checkExperiment:g}=(0,c.Z)(),b=(0,u.B)(),y={advisory_level:l?.advisory||null,severity_level:l?.severity||null,advisory_type:l?.advisory_type||"",stage:b.stage,resource_country:l?.resource_country||"",entered_query:o||""};if(g("ps_board_advisories_ui_refresh").anyEnabled){let o=t?4173:4174;return(0,v.jsx)(s.Fragment,{children:a?.map(t=>(0,v.jsx)(h.Z,{boardId:e,boardName:i,boardSectionId:r,notice:t,objectType:r?164:5,sensitivity:l,viewParameter:r?o:f,viewType:r?164:5},t.id))})}return(0,v.jsx)(s.Fragment,{children:a?.map(e=>2===e.style?(0,v.jsx)(E,{auxData:y,noticeKey:{type:"Legacy",data:e}},e.id):(0,v.jsx)(T,{advisory:l?.advisory,inModal:x,noticeKey:{type:"Legacy",data:e}},e.id))})}},728270:function(e,t,i){i.d(t,{CU:()=>u,ZP:()=>c,hi:()=>d});var r,a=i(422578),o=i(477738),l=i(148),n=i(657476);let s=(void 0!==r||(r=i(464788)).hash&&"547e5abdb645851996d6a1b1a4027c56"!==r.hash&&console.error("The definition of 'hasSensitivityNotices_sensitivity' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function d(e){let{notices:t,advisory:i,severity:r}=(0,a.useFragment)(s,e)||{};return{hasNotices:!!(t?.[0]&&null!==t[0].title),advisory:i,severity:r}}function c(e){if(null==e)return{hasNotices:!1};let{advisory:t,severity:i}=e,r=!!e.notices&&e.notices.length>0;return e.notices&&e.notices.length>0&&e.notices[0]?.title===null&&(r=!1),{hasNotices:r,advisory:t,severity:i}}function u(e){let{scope:t}=(0,l.n)(),{data:i,isLoaded:r}=(0,n.Z)(),a=d(e);if(t===o.lw.USERS)return a;if(!r||!i)return{hasNotices:!1};let{sensitivity:s}=i;return c(s)}},488661:function(e,t,i){i.d(t,{HW:()=>n,MS:()=>u,i3:()=>_});var r=i(667294),a=i(213491),o=i(510755),l=i(785893);let n=o.fe+1,s={educationId:null,paddingRight:0,zIndex:n};function d(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":let{educationId:i}=t.payload;return{...e,educationId:i};case"FOOTER_SET_PADDING_RIGHT":let{paddingRight:r}=t.payload;return{...e,paddingRight:r};case"FOOTER_SET_Z_INDEX":let{zIndex:a}=t.payload;return{...e,zIndex:a};default:return e}}let{Provider:c,get:u}=(0,a.Z)("footerContext");function _({children:e}){let[t,i]=(0,r.useReducer)(d,s),a=(0,r.useCallback)(e=>i({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}}),[]),o=(0,r.useCallback)(e=>i({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}}),[]),n=(0,r.useCallback)(e=>i({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}}),[]),u=(0,r.useMemo)(()=>({...t,setEducationId:o,setPaddingRight:a,setZIndex:n}),[t,o,a,n]);return(0,l.jsx)(c,{value:u,children:e})}},603284:function(e,t,i){i.d(t,{Z:()=>c});var r=i(686659),a=i(667294),o=i(746868),l=i(360033),n=i(495773),s=i(785893);class d extends a.Component{componentDidMount(){let{setCurrentPageData:e,viewData:t,viewParameter:i,viewType:r}=this.props;e({viewData:t,viewParameter:i,viewType:r})}componentDidUpdate(e){let{setCurrentPageData:t,viewData:i,viewParameter:r,viewType:a}=this.props;r===e.viewParameter&&a===e.viewType&&(0,l.ZP)(i,e.viewData)||t({viewData:i,viewParameter:r,viewType:a})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){let{auxData:e,children:t,component:i,objectIdStr:r,viewData:a,viewParameter:o,viewType:l,clientTrackingParams:d}=this.props;return(0,s.jsx)(n.Z,{auxData:e,clientTrackingParams:d,component:i,objectIdStr:r,viewData:a,viewParameter:o,viewType:l,children:t})}}function c(e){(0,a.useEffect)(()=>{(0,r.Z)("PageView","/app/www/analytics/PageView.tsx")},[]);let{setViewContextData:t,clearViewContextData:i}=(0,o.A$)();return(0,s.jsx)(d,{...e,clearCurrentPageData:i,setCurrentPageData:t})}},148:function(e,t,i){i.d(t,{n:()=>_,v:()=>p});var r=i(667294),a=i(312048),o=i(213491),l=i(477738),n=i(739405),s=i(582610),d=i(305375),c=i(785893);let{Provider:u,get:_}=(0,o.Z)("SearchParams"),p=({children:e,value:t})=>{let i=function(){let e=(0,n.HG)(),{search:t,pathname:i}=(0,a.TH)(),{scope:r}=(0,d.Z)(),o=!r&&i.includes("/_tools/shop");return(0,s.Z)({isDesktop:e,scope:o?l.lw.SHOP_TOOL:r,search:t})}(),o=(0,r.useMemo)(()=>({...i,...t}),[i,t]);return(0,c.jsx)(u,{value:o,children:e})}},793160:function(e,t,i){i.d(t,{Z:()=>r});let r=(0,i(667294).createContext)({inboxButton:null,setInboxButton:()=>{},profileInboxButton:null,groupBoardMessageButton:null,setProfileInboxButton:()=>{},isUnblockToast:!1,setIsUnblockToast:()=>{},setGroupBoardMessageButton:()=>{}})},32602:function(e,t,i){i.d(t,{Z:()=>o});var r=i(667294),a=i(793160);function o(){let e=(0,r.use)(a.Z);if(void 0===e)throw Error("useInboxButtonContext must be used within a InboxButtonContext Provider.");return e}},582610:function(e,t,i){i.d(t,{Z:()=>o});var r=i(477738),a=i(341687);function o({isDesktop:e,scope:t,search:i}){let{auto_correction_disabled:o="",b_id:l,brands:n,category:s,colors:d,commerce_only:c="",cover_pin_sig:u,deb_d:_,domains:p,filters:h,guided_search_query:f,inline_suggestion:m,interest_id:x,journey_depth:g,on_sale:b,price_max:y,price_min:v,q:w,query_pin_sigs:j,quiz:P,request_params:C,rs:A,selected_one_bar_modules:B,source_id:S,source_module_id:Z,tab:I,top_pin_ids:T,user:z}=(0,a.Z)(i),E="true"===c.toLowerCase()&&"shop_tool"!==t?r.lw.PINS_BUYABLE:t;return{autoCorrectionDisabled:"true"===o.toLowerCase(),brands:n,bubbleId:l,category:s,colors:d,commerceOnly:"true"===c.toLowerCase(),coverPinSig:u,currentlyAppliedFiltersParamTerm:h,debD:_,domains:p,guidedSearchQuery:f,inlineSuggestion:m,interestId:x,journeyDepth:g?parseInt(g,10):void 0,onSale:b,personalizationPinSig:j,placementId:(0,r.Hd)(E,e),priceMax:y,priceMin:v,query:w,quiz:P,requestParams:C,rs:A,scope:E,selectedOneBarModules:B,sourceId:S,sourceModuleId:Z,tab:I||"",topPinIds:T,user:z,viewParameter:(0,r._R)(E),viewType:E===r.lw.SHOP_TOOL?1:2}}},657476:function(e,t,i){i.d(t,{X:()=>p,Z:()=>_});var r=i(312048),a=i(190665),o=i(501010),l=i(774838),n=i(661376),s=i(42676),d=i(477738),c=i(739405),u=i(148);function _(e){let{resource:t}=p(e);return t}function p(e){let{skipResourceCall:t}=e||{},{checkExperiment:i}=(0,o.Z)(),{isAuthenticated:_}=(0,l.B)(),{pathname:p,search:h}=(0,r.TH)(),f=(0,c.HG)(),m=!_||!f,x=(0,u.n)(),g=(0,a.Z)(),b=(0,s.vW)({searchParams:x,sourceUrl:p+h,isDesktop:f,isAuthenticated:_,appliedUnifiedFilters:g}),y=m;m&&(y=!!_&&!i("unify_search_resource_auth_mweb").anyEnabled);let v=t||x.scope===d.lw.USERS&&!m||y;return{resource:(0,n.Z)(v?null:b),options:b.options}}},629616:function(e,t,i){i.d(t,{V:()=>d,Z:()=>s});var r=i(47755),a=i(329197),o=i(160587),l=i(779686),n=i(438274);function s(e,t,i){return s=>(0,r.Z)({url:"/v3/boards/{source_board}/merge/{target_board}/",urlParams:{source_board:e,target_board:t},method:"POST",data:i?{orbac_subject_id:i}:{}}).then(()=>Promise.all([s((0,o.eo)({boardId:e})),s((0,a.Z)(t,"pin_count")),s((0,l.N8)(n.Z.BOARD_SECTIONS,t))]))}let d=async(e,t,i,s)=>{await (0,r.Z)({url:"/v3/boards/{source_board}/merge/{target_board}/",urlParams:{source_board:t,target_board:i},method:"POST",data:s?{orbac_subject_id:s}:{}}),e((0,o.eo)({boardId:t})),(0,a.Z)(i,"pin_count"),e((0,l.N8)(n.Z.BOARD_SECTIONS,i))}},755559:function(e,t,i){i.d(t,{I:()=>n,Z:()=>l});var r=i(661376),a=i(718846);let o=({boardId:e,ownerId:t,ownerUsername:i,ownerName:o,ownerImgSrc:l})=>{let n=(0,a.Z)(),{data:s,isLoaded:d}=(0,r.Z)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,...n?{orbac_subject_id:n}:{}}}),c=[{id:t,name:o,src:l,href:`/${i}/`,isDim:!1}];return d&&s&&s.length>0&&s.forEach(e=>{c.push({id:e.invited_user?e.invited_user.id:"",name:e&&e.invited_user?e.invited_user.full_name:"",color:e&&e.invited_user?e.invited_user.avatar_color_index:void 0,src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?`/${e.invited_user.username}/`:"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})}),c},l=o;function n({children:e,...t}){return e(o(t))}},449270:function(e,t,i){i.d(t,{Z:()=>ta});var r=i(667294),a=i(581722),o=i(312048),l=i(391995),n=i(363061),s=i(611649),d=i(272598),c=i(257680),u=i(201363),_=i(230201),p=i(943152),h=i(647636),f=i(81342),m=i(935059),x=i(400962),g=i(112658),b=i(577356),y=i(893957),v=i(200619),w=i(601871),j=i(603284),P=i(74972),C=i(686659),A=i(59111),B=i(785893);function S({layoutType:e,thumbnails:t}){switch((0,r.useEffect)(()=>{(0,C.Z)("BoardActionUpsellImages","/app/www/BoardActionUpsells/BoardActionUpsellImages.tsx")},[]),e){case 4:let i=t&&t[0]&&t[0]["236x"];return(0,B.jsx)(l.zd,{height:80,rounding:400,width:80,children:i?(0,B.jsx)(l.Ee,{alt:"",color:"gray",fit:"cover",naturalHeight:i.height,naturalWidth:i.width,src:i.url}):(0,B.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,B.jsx)(l.xu,{color:"secondary",height:80,width:39.4}),(0,B.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingLeft:1.2}},children:[(0,B.jsx)(l.xu,{color:"secondary",height:39.4,width:39.4}),(0,B.jsx)(l.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{marginTop:"1.2px"}},height:40.6,width:39.4})]})]})});case 2:return(0,B.jsx)(l.zd,{height:80,rounding:400,width:80,children:(0,B.jsx)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[0,1].map(e=>{let i=t&&t?.length>0?t[e]:null;return(0,B.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingRight:1.2}},children:(0,B.jsx)(l.xu,{height:80,width:39.4,children:i?.["236x"]?.url&&(0,B.jsx)(l.Ee,{alt:"",color:"gray",fit:"cover",naturalHeight:80,naturalWidth:39.4,src:i["236x"].url})})},e)})})});default:return null}}let Z=[502043,502085],I=`
.BoardActionUpsellCard {
  animation-duration: 0.5s;
  animation-fill-mode: forwards;
  animation-name: slideUp;
  animation-timing-function: ease-out;
  background-color: #fff;
  border-radius: 16px;
  box-shadow: 0 2px 14px 0 rgba(0, 0, 0, 0.25);
  display: flex;
  justify-content: between;
  left: 50%;
  margin-left: -210px; // half of width
  padding: 24px;
  position: fixed;
  transition: bottom 1s;
  width: 420px;
}

@keyframes slideUp {
  from {
    bottom: -200px;
  }

  to {
    bottom: 14px;
  }
}
`;function T({boardId:e,displayData:t,complete:i,dismiss:a,handleShowArchiveConfirmation:o}){let{logContextEvent:n}=(0,_.u)(),[s,d]=(0,r.useState)(void 0);(0,r.useEffect)(()=>()=>clearTimeout(s),[s]);let c={2:o};return(0,r.useEffect)(()=>{s||d(setTimeout(()=>{a()},2e4)),n({event_type:13,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(t.experience.experience_id),aux_data:{board_id:e}})},[]),(0,B.jsxs)(l.mh,{children:[(0,B.jsx)(A.Z,{unsafeCSS:I}),(0,B.jsxs)("div",{className:"BoardActionUpsellCard",children:[(0,B.jsx)(l.xu,{flex:"none",children:(0,B.jsx)(S,{layoutType:t.layout_type,thumbnails:t.thumbnail_image_urls})}),(0,B.jsxs)(l.xu,{marginStart:4,children:[(0,B.jsx)(l.xv,{inline:!0,children:(0,B.jsx)(l.qd,{size:"400",children:t.text})}),(0,B.jsxs)(l.xu,{display:"flex",justifyContent:"start",marginTop:4,width:"100%",children:[(0,B.jsx)(l.zx,{color:"secondary",onClick:()=>{n({event_type:123,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(t.experience.experience_id),aux_data:{board_id:e}}),a()},text:t.dismiss_button.text}),(0,B.jsx)(l.xu,{paddingX:2,children:(0,B.jsx)(l.zx,{color:"primary",onClick:()=>{c[t.complete_button.action_type](),n({event_type:101,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(t.experience.experience_id),aux_data:{board_id:e}}),i()},text:t.complete_button.text})})]})]})]})]})}function z({boardId:e,handleShowArchiveConfirmation:t}){return(0,r.useEffect)(()=>{(0,C.Z)("BoardActionUpsellCard","/app/www/BoardActionUpsells/BoardActionUpsellCard.tsx")},[]),(0,B.jsx)(h.a3,{eligibleIds:Z,placementId:18,children:({experience:i,complete:r,dismiss:a})=>(0,B.jsx)(T,{boardId:e,complete:r,dismiss:a,displayData:i.display_data,handleShowArchiveConfirmation:t})})}var E=i(680650),k=i(160587),F=i(250408),O=i(122222),D=i(592444),L=i(311752),M=i(465784),H=i(24246),R=i(216975);function N(){(0,r.useEffect)(()=>{(0,C.Z)("GroupBoardFavoriteEducationModal","/app/www/FavoriteButton/GroupBoardFavoriteEducationModal.tsx")},[]);let e=(0,H.Z)(),t=(0,B.jsx)(l.xu,{display:"flex",justifyContent:"center",paddingX:8,children:(0,B.jsx)(l.xv,{children:(0,R.nk)(e._('Add a {{ star }} to show collaborators your favorite Pins', 'groupBoardFavoriteEducationModal.text', 'Text for modal informing users of changes from group board reactions to board favorites'),{star:(0,B.jsx)(l.xu,{display:"inlineBlock",children:(0,B.jsx)(l.JO,{accessibilityLabel:e._('Favorite icon', 'groupBoardFavoriteEducationModal.bodyFavoriteIcon', 'Accessibility label for favorite icon'),color:"default",icon:"star-fill",size:12})})})})});return(0,B.jsx)(h.a3,{eligibleIds:[503077],placementId:18,children:({complete:i,dismiss:r})=>(0,B.jsx)(M.ZP,{accessibilityModalLabel:e._('Group board reaction', 'groupBoardFavoriteEducationModal.modalAccessibilityLabel', 'Accessiblility label for modal used to educate group board collaborators about favorite button'),footer:(0,B.jsx)(l.kC,{justifyContent:"end",children:(0,B.jsx)(l.zx,{onClick:()=>i(),text:e._('Got it', 'groupBoardFavoriteEducationModal.doneButton', 'Done button for modal')})}),heading:(0,B.jsxs)(l.xu,{alignItems:"center",display:"flex",justifyContent:"center",paddingX:4,paddingY:6,position:"relative",children:[(0,B.jsx)(l.xu,{maxWidth:400,children:(0,B.jsx)(l.qd,{align:"center",size:"600",children:(0,R.nk)(e._('{{ heart }}  is now  {{ star }}', 'groupBoardFavoriteEducationModal.heading', 'Heading for modal informing users of changes from group board reactions to board favorites'),{heart:(0,B.jsx)(l.xu,{display:"inlineBlock",paddingX:1,children:(0,B.jsx)(l.JO,{accessibilityLabel:e._('Heart icon', 'groupBoardFavoriteEducationModal.headingHeartIcon', 'Accessibility label for heart icon'),color:"default",icon:"heart-fill",size:16})}),star:(0,B.jsx)(l.xu,{display:"inlineBlock",paddingX:1,children:(0,B.jsx)(l.JO,{accessibilityLabel:e._('Favorite icon', 'groupBoardFavoriteEducationModal.headingFavoriteIcon', 'Accessibility label for favorite icon'),color:"default",icon:"star-fill",size:16})})})})}),(0,B.jsx)(l.xu,{padding:6,position:"absolute",right:!0,top:!0,children:(0,B.jsx)(l.hU,{accessibilityLabel:e._('Close', 'groupBoardFavoriteEducationModal.closeModalButton', 'Accessibility label for close modal button'),icon:"close",iconColor:"default",onClick:r,size:"md"})})]}),onDismiss:r,size:"sm",children:t})})}var U=i(329577),q=i(779686),K=i(438274),$=i(144337),G=i(309947),W=i(101267),J=i(249347),X=i(189634);function V({board:e,currentFilter:t,eligibleFilters:i,isOwnBoard:a,surface:o,setCurrentFilter:n,setTitle:s}){(0,r.useEffect)(()=>{(0,C.Z)("ActionBarFilterButton","/app/www/save/board/BoardDefaultTabContent/ActionBarFilterButton.tsx")},[]);let d=(0,U.WG)(),{logContextEvent:c}=(0,_.u)(),u=(0,H.Z)(),p=(0,r.useRef)(null),h=d?.boardPinDensity,[f,m]=(0,r.useState)(!1),x=()=>{m(!1)},g=e=>{(0,J.Z)({boardDensity:e,component:"board"===o?13183:13187,viewType:"board"===o?5:164},c),(0,X.Z)({density:e,surface:"board"}),d?.setBoardPinDensity(e)},b=[],y={[W.c]:12111,[W.A]:12227};if(i){let r={items:i.map(i=>({isSelected:i.pin_type===t,onClick:()=>{c({event_type:101,component:13475,element:y[i.pin_type??-1],object_id_str:e.id,view_type:5,view_parameter:a?3069:3070}),n(i.pin_type??-1),s(i.pin_type===W.c?null:i.text),x()},text:i.text??""})),label:u._('Filter by type', 'board.experimentalBoardActionBar.filterOptions', 'List of board filter options')};b.push(r)}return b.push({items:[{isSelected:"regular"===h,onClick:()=>{x(),g("regular")},text:u._('Default', 'BoardHeader.ActionBar.DensityOption-Default', 'Clickable text to set board view density to default mode')},{isSelected:"dense"===h,onClick:()=>{x(),g("dense")},text:u._('Compact', 'BoardHeader.ActionBar.DensityOption-Compact', 'Clickable text to set board view density to compact mode')}],label:u._('View options', 'BoardHeader.ActionBar.ViewOptions', 'List of board view options')}),(0,B.jsxs)(r.Fragment,{children:[(0,B.jsx)(l.xu,{ref:p,children:(0,B.jsx)(l.hU,{accessibilityControls:"filter_board",accessibilityExpanded:f,accessibilityLabel:u._('Board Filter', 'board.experimentalBoardActionBar.boardFilter', 'Filter to select specific Pins on board'),accessibilityPopupRole:"menu",icon:"filter-horizontal",iconColor:"default",onClick:()=>{c({event_type:101,element:12020,object_id_str:e.id,view_type:5,view_parameter:a?3069:3070}),m(!f)},selected:f,size:"lg"})}),f&&(0,B.jsx)(l.Lt,{anchor:p.current,disableMobileUI:!0,id:"filter_board",onDismiss:x,children:b.map(({items:e,label:t})=>(0,B.jsx)(l.Lt.Section,{label:t,children:e.map(({isSelected:e,onClick:t,text:i})=>(0,B.jsx)(l.Lt.Item,{onSelect:t,option:{label:i,value:i},selected:e?{label:i,value:i}:null},i))},t))})]})}let Y=(0,h.RL)(1000332)(function({board:e,currentFilter:t,isHidePinCount:i,isOwnBoard:a,paddingX:o=8,section:n,setCurrentFilter:s,showExperienceTooltip:d}){let c=(0,H.Z)(),{eligible_pin_type_filters:u}=n??e,[_,p]=(0,r.useState)(null),f=(0,r.useRef)(null),m=n?n.pin_count:e.pin_count,{experimentalGutter:x}=(0,G.Z)();return(0,B.jsxs)(r.Fragment,{children:[(0,B.jsxs)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:x?{paddingLeft:x,paddingRight:x}:{}},direction:"row",display:"flex",justifyContent:i?"end":"between",paddingX:o,children:[!i&&(0,B.jsx)(l.xu,{flex:"grow",children:(0,B.jsx)(l.qd,{accessibilityLevel:2,size:"400",children:t>0&&_?_:(0,R.nk)(c.ngettext('{{ pinCount }} Pin', '{{ pinCount }} Pins', m ?? 0, 'board.experimentalBoardActionBar.pinCount', 'Number of Pins on board or section'),{pinCount:m})})}),(0,B.jsx)(l.xu,{ref:f,children:(0,B.jsx)(V,{board:e,currentFilter:t,eligibleFilters:u?.filter(e=>5!==e.pin_type),isOwnBoard:a,setCurrentFilter:s,setTitle:p,surface:n?"section":"board"})})]}),d&&f&&(0,B.jsx)(l.mh,{children:(0,B.jsx)(h.a3,{eligibleIds:[502974],placementId:1000332,children:({dismiss:e,experience:{display_data:t}})=>(f&&f.current?.scrollIntoView(!1),(0,B.jsx)(l.pl,{anchor:f.current,idealDirection:"down",message:t.text,onDismiss:e}))})})]})});var Q=i(531937),ee=i(700594),et=i(844677),ei=i(504860),er=i(497455),ea=i(755533),eo=i(93894);let el=()=>{};function en({board:e,currentView:t,handleContentViewChange:i,handleSetCurrentModal:o,handleShowEditSectionModal:n,handleShowMergeSectionsConfirmationModal:s,isBoardPreviewMode:d,isHidePinCount:c,isOwnerOrCollaborator:u,isOwnBoard:_,isPinGridSorted:p,refreshBoardData:h=el,refreshSectionData:f=el,section:x}){(0,r.useEffect)(()=>{(0,C.Z)("BoardAndSectionPageContent","/app/www/save/board/BoardPageContainer/BoardAndSectionPageContent.tsx")},[]);let g=(0,m.Z)(),b=(0,ee.Z)({board:e,viewer:g}),y=(e.access||[]).includes("write"),v=(0,U.WG)()?.boardPinDensity,w=(0,ea.Z)(x?(0,er.Z)(e,x):""),[j,P]=(0,r.useState)(W.c),[A,S]=(0,r.useState)(!1),Z=(0,a.I0)();(0,r.useEffect)(()=>()=>{j!==W.c&&(x?Z((0,q.N8)(K.Z.BOARD_SECTION_PINS,x.id??"")):Z((0,q.N8)(K.Z.BOARDFEED,e.id)))},[e,j,Z,x]);let I=(0,r.useCallback)(()=>{j>0&&(P(W.c),x?f():h())},[j,f,h,x]),T=(0,r.useMemo)(()=>x?{currentFilter:j,eligibleFilters:x.eligible_pin_type_filters,refreshData:f,sectionId:x.id}:{currentFilter:j,eligibleFilters:e.eligible_pin_type_filters,refreshData:h,setShowExperienceTooltip:S},[x,e.eligible_pin_type_filters,j,h,f]);return x?(0,B.jsx)(Q.k,{value:T,children:(0,B.jsxs)(r.Fragment,{children:[u&&!d&&(0,B.jsx)(Y,{board:e,currentFilter:j,isOwnBoard:_,section:x,setCurrentFilter:P,showExperienceTooltip:!1}),(0,B.jsx)(ei.Z,{board:e,boardSectionId:x.id,currentFilter:j,denseViewSelected:y&&"dense"===v,inSectionOrganizationMode:!1,inSelectAll:!1,isOwnBoard:_,isOwnerOrCollaborator:u,refreshFilteredFeed:I,renderFooterStory:t=>!e.archived_by_me_at&&u&&(0,B.jsx)(l.xu,{marginBottom:12,children:(0,B.jsx)(et.Z,{children:(0,B.jsx)(eo.Z,{collection:x,storyId:t,url:w})})}),viewer:g,viewParameter:b})]})}):(0,B.jsx)(Q.k,{value:T,children:(0,B.jsxs)(r.Fragment,{children:[u&&!d&&(0,B.jsx)(L.Z,{isGetServerRenderGridHeaderStyles:!0,children:(0,B.jsx)(Y,{board:e,currentFilter:j,isHidePinCount:c,isOwnBoard:_,paddingX:0,setCurrentFilter:P,showExperienceTooltip:A})}),(0,B.jsx)($.Z,{actions:{onBoardOrganizeClick:el},board:e,currentFilter:j,currentView:t,enableReordering:u,isBoardPreviewMode:d,isOwnBoard:_,isPinGridSorted:p,onContentViewChange:i,onShowEditSectionModal:n,onShowMergeSectionsConfirmationModal:(e,t)=>{o(O.s.sectionMergeConfirm),s(e,t)},refreshFilteredFeed:I,viewParameter:b}),u&&(0,B.jsx)(N,{})]})})}var es=i(501010),ed=i(718846),ec=i(166613),eu=i(728270),e_=i(181735),ep=i(50893),eh=i(47755),ef=i(564023),em=i(711960),ex=i(877263),eg=i(661376),eb=i(176615);function ey({onDismiss:e,boardId:t}){(0,r.useEffect)(()=>{(0,C.Z)("ReportBoard","/app/www/profile/UserProfileHeader/ModalContents/FlagProfile/ReportBoard.tsx")},[]);let{data:i}=(0,eg.Z)({name:"BoardResource",options:{board_id:t,field_set_key:"detailed"},noCache:!0}),{showErrorToast:a,showSuccessToast:o}=(0,ex.Z)(),[l,n]=(0,r.useState)(null),[s,d]=(0,r.useState)(null),{checkExperiment:c}=(0,es.Z)();(0,y.Z)(()=>{(async()=>{try{let e=await (0,ef.Z)(t);e?n(e):a()}catch{a()}})()});let u=async({reasonKey:i})=>{try{await (0,em.Z)(t,{reason:i}),e(),o()}catch{e(),a()}},_=async e=>{if(!e)return null;try{return(await (0,eh.Z)({url:"/v3/sensitivity/report/",method:"GET",data:{sensitivity_type:e,object_type:"board"}})).resource_response.data}catch{return null}},p=async({reasonKey:i,selectedReason:r})=>{try{let[a]=await Promise.all([_(r?.sensitivity_type),(0,em.Z)(t,{reason:i})]);a?d(a):(e(),o())}catch{e(),a()}};return s?(0,B.jsx)(eb.Z,{dismiss:e,objectType:5,sensitivity:s,viewParameter:3846}):(0,B.jsx)(ep.Z,{handleSubmitReport:c("ps_dweb_report_advisories_boards_and_messages").anyEnabled?p:u,objectToReport:{type:"board",id:t,userToBlock:i?.owner&&i.owner.id?{id:i.owner.id,fullName:i.owner.full_name,blockedByMe:i.owner.blocked_by_me,username:i.owner.username||""}:null},onDismiss:e,reportingReasons:l})}var ev=i(360990),ew=i(836447);function ej({boardId:e,ownerId:t,ownerUsername:i,ownerName:a,ownerImgSrc:o,ownerIsAdsOnlyProfile:l,ownerAdsOnlyProfileSite:n,children:s}){let{data:d,isLoaded:c}=(0,eg.Z)({name:"ApiResource",options:{url:(0,ew.Z)({boardId:e})?.concat("collaborators/"),data:{fields:["user.domain_verified","user.explicitly_followed_by_me","user.full_name","user.id","user.image_medium_url","user.image_small_url","user.is_default_image","user.location","user.twitter_url","user.type","user.username","user.verified_identity"],page_size:10}},noCache:!0});return s((0,r.useMemo)(()=>{let e=[{name:a,src:o,href:`/${i}/`,id:t,is_ads_only_profile:l,ads_only_profile_site:n}];return c&&d&&d.length>0&&d.forEach(t=>{e.push((0,ev.Z)(t))}),e},[d,c,n,t,o,l,a,i]))}var eP=i(755559),eC=i(104999),eA=i(465076),eB=i(924591);function eS(e){(0,r.useEffect)(()=>{(0,C.Z)("FollowingToast","/app/www/board/Header/ActionBar/FollowingToast.tsx")},[]);let{boardImage:t,boardName:i,boardUrl:a,onHide:o}=e,n=(0,H.Z)(),s=(0,B.jsx)(l.xe,{children:(0,R.nk)(n._('Now following {{ boardName }}', 'BoardFollowButton.FollowingToast.nowFollowing', 'Toast text displayed when a user follows a board'),{boardName:(0,B.jsx)(l.xe,{weight:"bold",children:i},"boardName")})});return(0,B.jsx)(eB.Z,{href:a,imageUrl:t,onHide:o,text:s})}var eZ=i(701572),eI=i(395878);function eT(e){(0,r.useEffect)(()=>{(0,C.Z)("EllipsisMenuButton","/app/www/save/board/BoardPageContainer/EllipsisMenuButton.tsx")},[]);let t=(0,H.Z)(),{bgColor:i,board:o,canCreatePincode:n,canEdit:s,handleCreatePincode:d,handleOpenSendBoardFlyout:c,onEditClick:u,onReportClick:_,showFollow:h,showShare:f,size:m}=e,{id:x,name:g,url:y,image_cover_url:v}=o,[w,j]=(0,r.useState)(o.followed_by_me),{showOneToast:P}=(0,b.dI)(),A=(0,a.I0)(),S=(0,p.Z)(),Z=(0,eC.Z)(),I=({event:e})=>{if(S){e.stopPropagation(),S();return}w?(A((0,eZ.f)(x,Z)),j(!1)):(A((0,eZ.Z)(x,Z)),j(!0),P(({hideToast:e})=>(0,B.jsx)(eS,{boardImage:v??"",boardName:g,boardUrl:y,onHide:e})))},T={edit:t._('Edit', 'BoardPage.ActionBar.PartnerEdit', 'Clickable text to enter board editing mode'),create_pincode:t._('Create Pincode', 'BoardPage.ActionBar.PartnerPincode', 'Clickable text to trigger Pincode modal'),share:t._('Share', 'BoardPage.ActionBar.EllipsisButton', 'Button caption to share board'),unfollow:t._('Unfollow', 'BoardPage.ActionBar.EllipsisButton', 'Button caption to unfollow board'),follow:t._('Follow', 'BoardPage.ActionBar.EllipsisButton', 'Button caption to follow board'),report:t._('Report', 'profileHeader.actionBar.overflowFlyout.report', 'Overflow menu option on a user profile to report a complaint about that user')};return(0,B.jsx)(eA.Z,{bgColor:i,icon:"ellipsis",id:"more-board-options",label:t._('Other actions', 'profileHeader.actionBar.overflow', 'Accessibility label for button to open other options flyout'),size:m,children:()=>(0,B.jsxs)(l.Lt.Section,{label:t._('Board options', 'profileHeader.actionBar.overflow.header', 'Accessibility label header for board options flyout'),children:[s&&u&&(0,B.jsx)(l.Lt.Item,{onSelect:()=>{u()},option:{label:T.edit,value:T.edit}}),s&&n&&d&&(0,B.jsx)(l.Lt.Item,{onSelect:()=>{d()},option:{label:T.create_pincode,value:T.create_pincode}}),f&&c&&(0,B.jsx)(eI.Z,{boardKey:{type:"Legacy",data:o},onCreatePincode:d,onOpen:c,children:({onClick:e})=>(0,B.jsx)(l.Lt.Item,{onSelect:e,option:{label:T.share,value:T.share}})}),h&&(0,B.jsx)(r.Fragment,{children:w?(0,B.jsx)(l.Lt.Item,{onSelect:I,option:{label:T.unfollow,value:T.unfollow}}):(0,B.jsx)(l.Lt.Item,{onSelect:I,option:{label:T.follow,value:T.follow}})}),(0,B.jsx)(l.Lt.Item,{onSelect:_,option:{label:T.report,value:T.report}})]})})}var ez=i(635545),eE=i(249459),ek=i(341687),eF=i(27399),eO=i(995514),eD=i(660322),eL=i(739405),eM=i(319226),eH=i(180483);function eR(e){(0,r.useEffect)(()=>{(0,C.Z)("Facepile","/app/www/save/board/BoardCollaboratorFacepile/Facepile.tsx")},[]);let{faces:t,maxFaces:i,numFaces:a,onOverflowClick:o,shouldNavigate:n=!0}=e,s=[...t].reverse(),d=t.length>i?s.slice(0,i+1):s,c=a-i,u=(0,m.Z)(),_=u.isAuth?u?.avatar_color_index:void 0;return(0,B.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{flexDirection:"row-reverse"}},display:"flex",position:"relative",children:d.map((e,t)=>{let{name:i,src:r,href:a,isDim:s}=e;if(0===t&&c>0)return(0,B.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},height:44,marginStart:-2,overflow:"hidden",rounding:"circle",width:44,children:r&&(0,B.jsx)(l.Ee,{alt:i,fit:"contain",naturalHeight:44,naturalWidth:44,src:r,children:(0,B.jsx)(l.iP,{fullHeight:!0,fullWidth:!0,onTap:o,rounding:"circle",children:(0,B.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,B.jsx)(l.xv,{color:"inverse",size:"200",weight:"bold",children:c>99?"99+":c})})})})},t);{let e=(0,B.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{opacity:s?.5:1}},marginStart:-2,children:(0,B.jsx)(eM.qE,{color:_,name:i,outline:!0,size:"sm",src:r})},t);return n?(0,B.jsx)(l.Tg,{href:a,rounding:"circle",children:e},t):e}})})}function eN({invitedByUser:e,isAccepted:t,onDecline:i,onAccept:a,createdAt:o}){(0,r.useEffect)(()=>{(0,C.Z)("BoardCollabInviteBanner","/app/www/BoardCollab/BoardCollabInviteBanner.tsx")},[]);let n=(0,H.Z)(),s=(0,m.Z)(),d=s.isAuth?s?.avatar_color_index:void 0,{first_name:c,full_name:u,username:_,image_medium_url:p}=e,h=c||u||n._('others', 'Default text when board colalborator name is not known.', 'Default text when board colalborator name is not known.');return(0,B.jsx)(l.W2,{children:t?(0,B.jsxs)(l.xu,{alignItems:"center",borderColor:"decorative",borderWidth:"sm",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,paddingX:5,paddingY:3,rounding:200,width:"100%",children:[(0,B.jsx)(eR,{faces:[{href:s.isAuth?`/${s.username}`:"",name:s.isAuth?s.fullName:"",src:s.isAuth?s.imageMediumUrl:""},{href:`/${_}`,name:u,src:p}],maxFaces:2,numFaces:2}),(0,B.jsxs)(l.xu,{marginStart:2,children:[(0,B.jsx)(l.xe,{weight:"bold",children:n._('You\'re in!', 'Text showing that a user has accepted the board invite and is now a part of the board', 'Text showing that a user has accepted the board invite and is now a part of the board')}),(0,B.jsx)(l.xe,{children:(0,eH.Z)(n._('Start collaborating with {{ invitedByUserName }} on this board', ' - ', ' -- '),{invitedByUserName:h})})]})]}):(0,B.jsx)(l.xu,{color:"default",elevation:"shadowFloating",marginEnd:-1,marginStart:-1,paddingX:6,paddingY:6,rounding:600,width:540,children:(0,B.jsxs)(l.kC,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,B.jsx)(l.xu,{marginEnd:2,children:(0,B.jsx)(eM.qE,{color:d,name:u,size:"md",src:p})}),(0,B.jsx)(l.xu,{flex:"grow",children:(0,B.jsx)(l.xe,{color:"default",inline:!0,children:(0,R.nk)(n._('{{ user }} invited you to collaborate on this board {{ createdAt }}', 'web.boardView.inviteCard.text', 'Label used to indicate a Pinner has invited you to join a board'),{user:(0,B.jsx)(l.xe,{color:"default",inline:!0,weight:"bold",children:(0,B.jsx)(l.rU,{display:"inlineBlock",href:`/${_}`,underline:"hover",children:u})},_),createdAt:(0,B.jsx)(l.xe,{color:"subtle",inline:!0,children:o})})})}),(0,B.jsxs)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},display:"flex",paddingX:1,children:[(0,B.jsx)(l.xu,{display:"inlineBlock",marginEnd:2,children:(0,B.jsx)(l.zx,{color:"secondary",onClick:i,size:"lg",text:n._('Decline', 'decline board collaborator invite or request', 'decline board collaborator invite or request')})}),(0,B.jsx)(l.zx,{color:"primary",onClick:a,size:"lg",text:n._('Accept', 'Text to accept a board collaboration invite', 'Text to accept a board collaboration invite')})]})]})})})}var eU=i(211731);function eq({boardId:e,inviteCode:t,shouldAutoAcceptBoardInvite:i,userInviterId:o}){(0,r.useEffect)(()=>{(0,C.Z)("BoardCollabInviteBannerContainer","/app/www/BoardCollab/BoardCollabInviteBannerContainer.tsx")},[]);let n=(0,H.Z)(),s=(0,b.dI)(),d=(0,eO.Z)(),[c,u]=(0,r.useState)(!1),[_,p]=(0,r.useState)(null),h=(0,eL.HG)(),f=(0,m.Z)(),x=(0,a.I0)(),g={board_id:e,field_set_key:"boardBanner",invite_code:t,invited_user_id:f.isAuth&&f.id},y=(0,eU.RZ)(),v=(0,eU.CQ)();(0,r.useEffect)(()=>{o&&i&&(y(e).then(()=>{x((0,eU.A8)(e)),h&&s.showToast(({hideToast:e})=>(0,B.jsx)(eB.Z,{duration:5e3,onHide:e,text:n._('You\'re in! Save Pins, plan with collaborators, and more!', 'BoardCollabInviteBannerContainer.useEffect.acceptedInviteToast', 'Text in toast after accepting a board collaborator invite.')}))}),eF.Z.create("UserResource",{field_set_key:"grid_item",user_id:o}).callGet().then(({resource_response:e})=>{let t=e&&e.data;t&&p(t)}))},[i,o]);let{data:w}=(0,eg.Z)({name:"BoardInviteResource",options:g}),j=!!(o&&i)||c,P=!["new","contact_request_not_approved"].includes(w?.status||""),A=t=>{(t?y(e):v(e,g.invited_user_id||"")).then(()=>{t&&(x((0,eU.A8)(e)),u(!0),s.showToast(({hideToast:e})=>(0,B.jsx)(eB.Z,{duration:5e3,onHide:e,text:n._('You\'re in! Save Pins, plan with collaborators, and more!', 'BoardCollabInviteBannerContainer.useEffect.acceptedInviteToast', 'Text in toast after accepting a board collaborator invite.')}))),x((0,eD.jB)("BoardInviteResource",g))})},S=w?.invited_by_user||_,Z=j?h:P;return!S||Z?null:(0,B.jsx)(l.xu,{marginTop:3,paddingY:0,children:(0,B.jsx)(eN,{createdAt:d(w?.created_at||"",!0),invitedByUser:S,isAccepted:j,onAccept:()=>A(!0),onDecline:()=>A(!1)})})}function eK({boardId:e}){let t=(0,o.TH)(),i=t&&t.search?(0,ek.Z)(t.search):{},r=i.invite_code,a=i.accept_invite,l=i.inviter_user_id;return(0,B.jsx)(eq,{boardId:e,inviteCode:r,shouldAutoAcceptBoardInvite:a,userInviterId:l})}let e$=function(e){let{board:t}=e,{id:i,owner:a,sensitivity:o}=t,n=(0,m.Z)(),s=n.isAuth?n.id:"",d=a?.id===s,c=(0,ec.Uz)(o),{checkExperiment:u}=(0,es.Z)(),_=u("ps_board_advisories_ui_refresh").anyEnabled||c;return(0,B.jsxs)(r.Fragment,{children:[!c&&(0,B.jsx)(eK,{boardId:i}),_&&(0,eu.ZP)(o).hasNotices&&o&&(0,B.jsx)(l.xu,{paddingY:10,children:(0,B.jsx)(e_.Z,{boardId:i,boardName:t.name,notices:o.notices,sensitivity:o,viewParameter:d?3069:3070,viewType:5})})]})};var eG=i(316037),eW=i(230110);function eJ(e){(0,r.useEffect)(()=>{(0,C.Z)("BoardPageHeader","/app/www/save/board/Headers/BoardHeader/BoardPageHeader.tsx")},[]);let{board:t,collaborators:i,handleCreatePincode:a,handleShowCollabAndPermissionsModal:o,isBoardPreviewMode:n,inRelocateBoardShareButtonExp:s,overFlowActionsButton:d,showPulsar:c,setBoardPreviewMode:_,userBlocked:p}=e,{access:h,archived_by_me_at:f,collaborator_requests_enabled:x,name:g,owner:b,privacy:y,should_show_board_collaborators:j}=t,{nonDisplayedCollaboratorCount:P}=(0,eW.Z)({boardCollaboratorCount:t.collaborator_count,collaborators:i,showOnlyOwner:!j,ownerName:b?.full_name}),A=(0,m.Z)(),S=(0,v.Z)(),Z=(0,w.D3)(A,t.owner?.id||"",S),I=h&&h.includes("write")||Z,T=(0,u.Z)(t.collaborated_by_me,t.owner?.id,A)||Z,z=y===eE.Z.BoardPrivacy.SECRET,E=!I&&!p&&x&&!(A.isAuth&&A.isPrivateProfile);return(0,B.jsxs)(l.xu,{"data-test-id":"board-header-with-image-container",direction:"column",display:"flex",paddingY:8,children:[(0,B.jsx)(l.kC,{alignItems:"stretch",justifyContent:"center",children:(0,B.jsx)(l.xu,{maxWidth:800,children:(0,B.jsx)(e$,{board:t})})}),(0,B.jsx)(l.xu,{marginTop:4,paddingX:2,children:(0,B.jsx)(eG.Z,{board:t,boardName:g??"",collaborators:i,description:t.description??"",handleShowCollabAndPermissionsModal:o,inRelocateBoardShareButtonExp:s,isArchived:!!f,isBoardPreviewMode:n,isOwnerOrCollaborator:T,isSecret:z,nonDisplayedCollaboratorCount:P,onCreatePincode:a,overFlowActionsButton:d,pinCount:t.pin_count??0,sectionCount:t.section_count??0,setBoardPreviewMode:_,showJoinButton:!!E,showPulsar:c})})]})}var eX=i(285544),eV=i(902123);let eY=e=>{(0,r.useEffect)(()=>{(0,C.Z)("SectionHeader","/app/www/save/board/Headers/SectionHeader/SectionHeader.tsx")},[]);let{boardName:t,boardUrl:i,children:a,description:o,overFlowActionsButton:n,sectionName:s,ref:d}=e;return(0,B.jsxs)(l.xu,{ref:d,display:"flex",justifyContent:"center",marginBottom:8,paddingX:8,width:"100%",children:[(0,B.jsxs)(l.kC,{alignItems:"stretch",direction:"column",gap:2,justifyContent:"start",maxWidth:488,children:[(0,B.jsx)(eX.Z,{children:(0,B.jsx)(l.xu,{marginTop:4,children:(0,B.jsx)(eV.q,{children:({active:e,focused:r,hovered:a,onBlur:o,onFocus:n,onMouseEnter:s,onMouseLeave:d})=>(0,B.jsx)(l.Tg,{href:i??"",onBlur:o,onFocus:n,onMouseEnter:s,onMouseLeave:d,children:(0,B.jsx)(l.qd,{align:"center",color:e||r||a?"default":"subtle",children:t})})})})}),(0,B.jsx)(eX.Z,{children:(0,B.jsxs)(l.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:-2,maxWidth:"100%",children:[(0,B.jsx)(l.qd,{align:"center",lineClamp:1,children:s}),!!n&&(0,B.jsx)(l.xu,{paddingX:1,children:n})]})}),!!o&&(0,B.jsx)(eX.Z,{children:(0,B.jsx)(l.xv,{align:"center",children:o})})]}),a&&(0,B.jsx)(l.xu,{marginTop:8,children:a})]})};function eQ({board:e,handleBoardEditClick:t,handleFollowersClick:i,handleSectionEditClick:a,handleShowBoardArchiveConfirmation:o,handleShowBoardUnarchiveConfirmation:n,handleShowCollabAndPermissionsModal:s,handleShowCreatePincodeModal:d,handleShowMergeModal:_,isBoardPreviewMode:p,section:h,showPulsar:f,setBoardPreviewMode:x}){(0,r.useEffect)(()=>{(0,C.Z)("BoardAndSectionPageHeader","/app/www/save/board/BoardPageContainer/BoardAndSectionPageHeader.tsx")},[]);let g=(0,m.Z)(),b=(0,v.Z)(),y=(0,ed.Z)(),j=y&&(0,c.Z)(e.privacy)?`?orbac_subject_id=${y}`:"",{name:P,sensitivity:A,access:S,url:Z=""}=e,[I,T]=(0,r.useState)(!1),z=(0,w.D3)(g,e.owner?.id||"",b),E=(0,ec.Uz)(A),{checkExperiment:k}=(0,es.Z)(),F=k("ps_board_advisories_ui_refresh").anyEnabled||E,{anyEnabled:O}=k("ce_dweb_relocate_board_share_button"),D=S&&S.includes("write")||z?eP.I:ej,L=(0,u.Z)(e.collaborated_by_me,e.owner?.id,g)||z,M=null;M=L?(0,B.jsx)(ez.Z,{bgColor:h?"secondary":"default",board:e,excludeShareOption:!0,hasBoardToolStyles:O,onArchiveClick:o,onCreatePincode:d,onEditBoardClick:t,onEditSectionClick:a,onMergeClick:_,onUnarchiveClick:n,showCreatePinCodeOption:g.isAuth&&g.isPartner,size:"lg",surface:h?"section":"board"}):(0,B.jsx)(eT,{bgColor:e.header?.large_image_url||!O?"default":"secondary",board:e,onReportClick:()=>T(!0),showFollow:!0,size:O?"xl":"lg"});let H=F&&(0,eu.ZP)(A).hasNotices;return(0,B.jsxs)(r.Fragment,{children:[I&&(0,B.jsx)(ey,{boardId:e.id,onDismiss:()=>T(!1)}),h?(0,B.jsxs)(r.Fragment,{children:[H&&(0,B.jsx)(eX.Z,{children:(0,B.jsx)(l.xu,{maxWidth:800,paddingY:10,children:A&&(0,B.jsx)(e_.Z,{boardId:e.id,boardName:e.name,boardSectionId:h.id,isOwnBoard:z,notices:A.notices,sensitivity:A,viewParameter:z?3069:3070,viewType:5})})}),(0,B.jsx)(eY,{boardName:P,boardUrl:`${Z}${j}`,description:h.description??"",overFlowActionsButton:M,sectionName:h.title??""})]}):(0,B.jsx)(l.xu,{"data-test-id":"board-header",paddingX:2,children:(0,B.jsx)(D,{boardId:e.id,ownerAdsOnlyProfileSite:e.owner?.ads_only_profile_site||"",ownerId:e.owner?.id||"",ownerImgSrc:e.owner?.image_key||e.owner?.image_medium_url||e.owner?.image_small_url||"",ownerIsAdsOnlyProfile:e.owner?.is_ads_only_profile||!1,ownerName:e.owner?.full_name||"",ownerUsername:e.owner?.username||"",children:t=>(0,B.jsx)(eJ,{board:e,collaborators:t,handleCreatePincode:d,handleShowCollabAndPermissionsModal:s,inRelocateBoardShareButtonExp:O,isBoardPreviewMode:p,onFollowersClick:i,overFlowActionsButton:M,setBoardPreviewMode:x,showPulsar:f,userBlocked:!!e.owner?.blocked_by_me})})})]})}function e0({boardId:e,collaboratorId:t,collaboratorUsername:i}){(0,r.useEffect)(()=>{(0,C.Z)("BoardOwnershipTransferUpsell","/app/www/save/board/BoardPageContainer/BoardOwnershipTransferUpsell.tsx")},[]);let n=(0,a.I0)(),s=(0,o.s0)(),d=(0,H.Z)();return(0,B.jsx)(l.kC,{justifyContent:"center",width:"100%",children:(0,B.jsx)(l.xu,{marginTop:8,maxWidth:960,paddingX:8,children:(0,B.jsx)(l.XA,{message:d._('You\u2019ve been requested to take over ownership of this board', 'boardOwnershipTransferUpsell.message', 'Message informing user they have received an ownership transfer request'),primaryAction:{accessibilityLabel:d._('Accept', 'boardOwnershipTransferUpsell.acceptAccessibilityLabel', 'Accessibility label for accept button on upsell'),label:d._('Accept', 'boardOwnershipTransferUpsell.acceptLabel', 'Label for accept button on upsell'),onClick:()=>{(0,eh.Z)({url:"/v3/boards/{board}/collaborators/requests/ownership/",urlParams:{board:e},method:"PUT",data:{collaborator:t}}),n((0,k.K8)(i)),s(`/${i}/`)}},secondaryAction:{accessibilityLabel:d._('Decline', 'boardOwnershipTransferUpsell.declineAccessibilityLabel', 'Accessibility label for decline button on upsell'),label:d._('Decline', 'boardOwnershipTransferUpsell.declineLabel', 'Label for decline button on upsell'),onClick:()=>{n((0,eU.xx)(e,t))}},title:d._('Board ownership request pending', 'boardOwnershipTransferUpsell.title', 'Title for board ownership transfer upsell')})})})}eY.displayName="SectionHeader";var e1=i(869552);function e6({handleAddSection:e,handleCreatePin:t,handleCreateStoryPin:i,surface:a}){(0,r.useEffect)(()=>{(0,C.Z)("FloatingAddButton","/app/www/save/board/BoardPageContainer/FloatingAddButton.tsx")},[]);let{logContextEvent:o}=(0,_.u)(),n=(0,H.Z)(),s=(0,r.useRef)(null),d="board"===a?n._('Create a Pin or add a Section', 'BoardPage.ActionBar.AddPinOrSection', 'button triggering a flyout to create a pin or add a section'):n._('Create Pin', 'BoardPage.ActionBar.AddPin', 'button triggering a flyout to create a pin');return(0,B.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 20px rgba(0, 0, 0, 0.1)",left:"50%",transform:"translate(-50%)"}},marginBottom:4,position:"fixed",rounding:"circle",width:56,children:(0,B.jsx)(e1.Z,{idealDirection:"up",isWithinFixedContainer:!0,onAddSection:e,onCreatePin:t,onCreateStoryPin:i,onOpen:()=>{o({event_type:101,element:10776,component:13216,view_type:5,view_parameter:3069})},surface:a,children:({active:e,accessibilityControls:t,openFlyout:i})=>(0,B.jsxs)(l.xu,{color:"default",display:"inlineBlock",rounding:"circle",children:[(0,B.jsx)(l.xG,{ref:s,accessibilityControls:t,accessibilityExpanded:e,accessibilityLabel:d,accessibilityPopupRole:"dialog",icon:"plus",onClick:i,selected:e,tooltip:{text:d}}),(0,B.jsx)(h.cs,{anchors:{3006:s.current},idealDirection:"up",placementId:18}),(0,B.jsx)(h.N,{anchors:{3006:s.current},idealDirection:"up",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})})})}var e5=i(59355);let e2=i(488661).HW+1;function e3({handleGoBack:e,hideSensitivityScreen:t,sensitivityScreenAuxData:i}){(0,r.useEffect)(()=>{(0,C.Z)("SensitivityScreen","/app/www/save/board/BoardPageContainer/SensitivityScreen.tsx")},[]);let a=(0,H.Z)();return(0,e5.Q)({component:13860,view_type:5,aux_data:i}),(0,B.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.8)"}},display:"flex",height:"100%",justifyContent:"center",position:"fixed",top:!0,width:"100%",zIndex:new l.Ry(e2),children:(0,B.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:260}},children:(0,B.jsxs)(l.kC,{alignItems:"center",direction:"column",gap:{row:0,column:8},maxWidth:500,children:[(0,B.jsx)(l.qd,{align:"center",color:"light",children:a._('This board may contain sensitive content', 'boardPageContainer.sensitivityScreen.heading', 'Warning text on board that may have sensitive content')}),(0,B.jsxs)(l.kC,{gap:{row:6,column:0},children:[(0,B.jsx)(l.zx,{color:"primary",onClick:e,size:"lg",text:a._('Go back', 'boardPageContainer.sensitivityScreen.backButton', 'Text on button that lets user go back to previous page')}),(0,B.jsx)(l.zx,{color:"tertiary",onClick:t,size:"lg",text:a._('View anyway', 'boardPageContainer.sensitivityScreen.viewButton', 'Text on button that lets user past sensitivity screen')})]}),(0,B.jsx)(l.xu,{paddingY:4,children:(0,B.jsx)(l.xv,{align:"center",color:"light",overflow:"normal",size:"200",children:(0,R.nk)(a._('If you see anything that violates our {{communityGuidelines}}, please report it to us by clicking the "..." button at the bottom of any Pin', 'boardPageContainer.sensitivityScreen.text', 'Text telling user how to report a Pin'),{communityGuidelines:(0,B.jsx)(l.xv,{color:"light",inline:!0,size:"200",underline:!0,children:(0,B.jsx)(l.rU,{display:"inlineBlock",href:"https://policy.pinterest.com/en/community-guidelines",target:"blank",underline:"hover",children:a._('Community Guidelines', 'boardPageContainer.sensitivityScreen.communityGuidelines', 'Text that links to the community guidelines page')})})})})})]})})})}var e4=i(382802),e7=i(421951),e8=i(629616),e9=i(112782),te=i(900842);function tt(e){(0,r.useEffect)(()=>{(0,C.Z)("SectionAddedToast","/app/www/save/board/SectionAddedToast.tsx")},[]);let t=(0,H.Z)(),{boardUrl:i="",onHide:a,slug:o}=e;return(0,B.jsx)(eB.Z,{duration:2e3,href:`${i}${o}`,onHide:a,text:t._('Section added!', 'Toast for successfully creating a new board section', 'Toast for successfully creating a new board section')})}var ti=i(551140);let tr=()=>{},ta=(0,h.RL)(18,e=>({board_id:e.board.id,pin_count:e.board.sectionless_pin_count??0}))(function({board:e,experience:t,initialModalType:i,refreshBoardData:C=tr,refreshSectionData:A=tr,setPlacementExtraContext:S=tr,section:Z,showPulsar:I}){let[T,L]=(0,r.useState)(!1),{logContextEvent:M}=(0,_.u)(),R=(0,a.I0)(),N=(0,p.Z)(),{setFooterPlusButtonVisible:q}=(0,P.G)(),K=(0,m.Z)(),$=(0,v.Z)(),G=(0,E.W$)(K,e),{collaborated_by_me:W,id:J,owner:X,pending_ownership_transfer:V,pin_count:Y,privacy:Q}=e,{pin_count:et}=Z||{},ei=X?.id||"",er=(0,w.q6)(K,ei,$),ea=(0,u.Z)(W,ei,K)||er,eo=K.isAuth&&K.id===V,el=(0,w.lJ)(K,$),es=el&&(0,c.Z)(Q)?`?orbac_subject_id=${el}`:"",ec=(0,s.Z)(!0),eu=!!Z;(0,r.useEffect)(()=>{let t="other";G?t="own":(0,E.Df)(K,e)&&(t="collaborator"),S({board_ownership:t})},[t]),(0,r.useEffect)(()=>(ea&&q(!1),()=>{q(!0)}),[q,ea]);let{showOneToast:e_}=(0,b.dI)(),ep=(0,o.s0)(),eh=(0,o.TH)(),{previous:ef}=(0,x.ou)(),em=0===ef.length,ex=(0,U.WG)(),eb=(0,m.Z)(),ey=(0,eg.Z)({name:"UserMetadataResource",options:{user:eb}});(0,r.useEffect)(()=>{if(ey&&ey.data&&!ex?.boardPinDensity){let{profile_pin_rep_view_type:e}=ey.data;ex?.setBoardPinDensity(e??"regular")}});let{handleShowMergeSectionsConfirmationModal:ev,mergeConfirmationModalProps:ew,onConfirm:ej}=(0,D.Z)({board:e}),eP=function(){let e=(0,H.Z)(),{logContextEvent:t}=(0,_.u)(),i=(0,a.I0)(),{showBlockingActionToast:r}=(0,e7.Z)(),o=(0,ed.Z)();return({board:a,targetBoard:l})=>{t({event_type:7172,object_id_str:a.id,aux_data:{merge_flow:"menu"}}),i((0,e8.Z)(a.id,l.id,o)).then(()=>{r({actionType:"merge",board:l})}).catch(t=>{e4.Z.showError(t.message||e._('Failed to merge boards', 'Error message when failed to merge boards', 'Error message when failed to merge boards'))})}}(),eC={board_id:e.id,reason:e.sensitivity_screen?.reason||""},[eA,eB]=(0,r.useState)(!!e.sensitivity_screen?.show_warning&&!ea),[eS,eZ]=(0,r.useState)(null),[eI,eT]=(0,r.useState)(i||null),[ez,eE]=(0,r.useState)(e&&(0,te.Z)(K,e)||"custom"),ek=()=>eT(O.s.boardArchiveConfirmation),eF=()=>{ep(K.isAuth?`/${(0,w.Ms)(K,$)}`:"/",{replace:!0})},eO=e=>{if(N)return void N();eT(O.s.editSection),eZ(e)},eD={board_id:e.id,board_pin_count:Y};return(0,y.Z)(()=>{let{shouldOpenCollaboratorsModal:e}=eh.state||Object.freeze({});e&&(eT(O.s.collaboratorsAndPermissions),ep({...eh,state:{...eh.state,shouldOpenCollaboratorsModal:!1}},{replace:!0}))}),(0,B.jsx)(j.Z,{objectIdStr:J,viewParameter:G?3069:3070,viewType:5,children:(0,B.jsx)(g.Z,{auxData:eD,objectId:J,view:5,viewParameter:(0,ee.Z)({board:e,viewer:K}),children:(0,B.jsxs)(r.Fragment,{children:[(0,B.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:eA?{filter:"blur(30px)"}:{}},children:[(0,B.jsx)(h._f,{experience:t,placementId:18}),(0,B.jsx)(f.Z,{placementId:1000647}),(0,B.jsxs)(ti.h,{children:[(0,B.jsx)(eQ,{board:e,handleBoardEditClick:()=>{M({event_type:101,element:10845,component:13216,view_type:5,view_parameter:3069}),eT(O.s.boardEdit)},handleFollowersClick:()=>{eT(O.s.followers)},handleSectionEditClick:()=>eO(),handleShowBoardArchiveConfirmation:ek,handleShowBoardUnarchiveConfirmation:()=>eT(O.s.boardUnarchiveConfirmation),handleShowCollabAndPermissionsModal:()=>eT(O.s.collaboratorsAndPermissions),handleShowCreatePincodeModal:()=>{if(N)return void N();M({event_type:101,element:10781,component:13217,view_type:5,view_parameter:3069}),eT(O.s.pincode)},handleShowMergeModal:()=>{if(N)return void N();eT(O.s.mergeBoard)},isBoardPreviewMode:T,section:Z,setBoardPreviewMode:L,showPulsar:I}),ea&&eu&&!T&&(0,B.jsx)(l.xu,{marginBottom:6,marginTop:6,children:(0,B.jsx)(e9.Z,{boardId:e.id,isBoardEmpty:!Y||!et,sectionId:Z?.id})}),eo&&(0,B.jsx)(e0,{boardId:e.id,collaboratorId:K.isAuth?K.id:"",collaboratorUsername:K.isAuth?K.username:""}),eI!==O.s.jumpstartBoard&&(0,B.jsx)(g.Z,{auxData:eD,component:178,objectId:e.id,view:5,viewParameter:G?3069:3070,children:(0,B.jsx)(en,{board:e,currentView:ez,handleContentViewChange:e=>eE(e),handleSetCurrentModal:eT,handleShowEditSectionModal:eO,handleShowMergeSectionsConfirmationModal:ev,isBoardPreviewMode:T,isHidePinCount:!eu,isOwnBoard:G,isOwnerOrCollaborator:ea,isPinGridSorted:"custom"!==ez,refreshBoardData:C,refreshSectionData:A,section:Z})}),(0,B.jsx)(z,{boardId:e.id,handleShowArchiveConfirmation:ek}),ea&&(0,B.jsx)(e6,{handleAddSection:()=>{if(N)return void N();M({event_type:101,element:10779,component:13217,view_type:5,view_parameter:3069}),eT(O.s.simpleCreateSection)},handleCreatePin:()=>{if(N)return void N();M({component:13217,element:10643,event_type:101,view_parameter:3069,view_type:5}),ep("/pin-builder/",{state:{board:e,boardSection:Z}})},handleCreateStoryPin:()=>{if(N)return void N();M({aux_data:{entry_type:"board_plus_button"},component:13217,element:10949,event_type:101,view_parameter:3069,view_type:5}),ep((0,n.Z)(ec),{state:{board:e,entry_type:"board_plus_button",boardSection:Z}})},surface:Z?"section":"board"})]}),eI&&(0,B.jsx)(F.Z,{actions:{completeCreateSectionAction:t=>{if(N)return void N();eT(null),e_(({hideToast:i})=>(0,B.jsx)(tt,{boardUrl:e.url,onHide:i,slug:t.slug??""}))},onBoardArchiveChange:()=>{R((0,k.K8)(K.isAuth?K.username:""))},onBoardDelete:()=>{C(),eF()},onBoardLeave:()=>{R((0,k.K8)(K.isAuth?K.username:"")),eF()},onBoardMerge:t=>{eP({board:e,targetBoard:t}),eF()},onBoardSectionDelete:()=>{if(eZ(null),eT(null),Z){let t=e.url??"";ep(`${t}${es}`,{replace:!0})}},onBoardSectionSave:({slug:t})=>{eZ(null),eT(null),Z&&ep(`${e.url??""}${t}/${es}`,{replace:!0})},onConfirmMergeSection:ej},board:e,boardSection:Z||eS,currentModal:eI,mergeConfirmationModalProps:ew,onClearModal:()=>eT(null)}),(0,B.jsx)(h.RK,{placementId:18}),(0,B.jsx)(d.Z,{placementId:18}),(0,B.jsx)(h.nj,{experience:t,placementId:18})]}),eA&&(0,B.jsx)(e3,{handleGoBack:()=>{M({event_type:101,component:13860,element:73,view_type:5,aux_data:{...eC}}),em&&ep("/",{replace:!0}),ep(-1)},hideSensitivityScreen:()=>{R((0,k.of)(e.id)),M({event_type:101,component:13860,element:12448,view_type:5,aux_data:{...eC}}),eB(!1)},sensitivityScreenAuxData:eC})]})})})})},112782:function(e,t,i){i.d(t,{Z:()=>Z});var r=i(686659),a=i(667294),o=i(391995),l=i(470205),n=i(501010),s=i(619481),d=i(890678),c=i(718846),u=i(550759),_=i(312048),p=i(230201),h=i(647636),f=i(935059),m=i(774838),x=i(341687),g=i(893957),b=i(271875),y=i(32602),v=i(914253),w=i(551140),j=i(305375),P=i(785893);let C=88,A=30,B=({boardTool:e,boardId:t,boardSectionId:i,iconSize:l=A,index:n,toolSize:s=C})=>{(0,a.useEffect)(()=>{(0,r.Z)("BoardTool","/app/www/save/board/BoardTools/BoardTool.tsx")},[]);let[d,c]=(0,a.useState)(!1),u=(0,w.$)(),{icon:B,link:S,text:Z,tool:I}=e,{section_slug:T}=(0,j.Z)(),z=S.split("/").slice(0,3),E=S.split("/").slice(4),k=S.split("/")[3],F=6===I,O=k!==T&&i&&T&&!F?[...z,T,...E].join("/"):S,{isRTL:D}=(0,m.B)(),{logContextEvent:L}=(0,p.u)(),{owner:M,pin_count:H,section_count:R}=(0,v.gC)()(t)||{},N=(0,f.Z)(),U=N.isAuth?N.id:"",q=M?.id===U?3069:3070,K=0===I,$=e=>{1===I&&L({event_type:e,view_type:i?164:5,view_parameter:q,element:10600,aux_data:{board_id:t,board_pin_count:H,board_section_count:R,board_section_id:i,grid_index:n}}),K&&L({event_type:e,view_type:i?164:5,view_parameter:q,component:14926,element:11990,aux_data:{board_id:t,board_session_id:u}}),F&&101===e&&L({event_type:101,component:14926,view_type:i?164:5,view_parameter:q,element:12893,aux_data:{board_id:t,board_session_id:u,board_section_id:i}})};(0,g.Z)(()=>{$(120),K&&$(13)});let G=(0,a.useRef)(null),{setGroupBoardMessageButton:W}=(0,y.Z)(),{conversations:{showConversationsDropdown:J},conversationOpen:X,dropdownOpen:V,dropdownClose:Y}=(0,b.Z)(),Q=(0,_.TH)(),{conversation_id:ee,tab:et}=(0,x.Z)(Q.search),ei=4===I&&!!ee&&"inbox"===et;ei&&W(G.current);let er=(e=>{switch(e){case 0:return 3003;case 1:return 3004;case 2:return 3005;default:return}})(I);return(0,P.jsxs)(a.Fragment,{children:[(0,P.jsx)(o.Tg,{ref:G,accessibilityLabel:Z,href:ei?"":O,onBlur:()=>c(!1),onFocus:()=>c(!0),onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onTap:()=>{ei&&($(102),J?Y():(V(),X(ee))),(K||F)&&$(101)},rounding:600,children:(0,P.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"1px"}},direction:"column",display:"flex",justifyContent:"center",children:[(0,P.jsx)(o.xu,{alignItems:"center",alignSelf:"center",color:d?void 0:"secondary",dangerouslySetInlineStyle:d?{__style:{backgroundColor:"#e2e2e2"}}:void 0,display:"flex",height:s,justifyContent:"center",rounding:600,width:s,children:(0,P.jsx)(o.JO,{accessibilityLabel:Z,color:"default",icon:"text-align-left"===B&&D?"text-align-right":B,size:l})}),(0,P.jsx)(o.xu,{paddingY:1,width:s,children:(0,P.jsx)(o.xv,{align:"center",lineClamp:2,size:"100",weight:"bold",children:Z})})]})}),er&&(0,P.jsxs)(a.Fragment,{children:[(0,P.jsx)(h.cs,{anchors:{[er]:G.current},placementId:18,positionRelativeToAnchor:!1}),(0,P.jsx)(h.N,{anchors:{[er]:G.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})]})};function S(e){let{boardId:t,sectionId:i,iconSize:r,isBoardEmpty:a,toolSize:l,boardOrSectionToolsRef:d}=e,u=(0,c.Z)(),{checkExperiment:_}=(0,n.Z)(),p=_("web_collage_creation").anyEnabled&&!a&&_("web_collage_navigate_from_own_board").anyEnabled,{data:h}=(0,s.Z)(d);if(!h||!h.length)return null;let f=h.filter(({tool:e})=>!u||2===e).filter(({tool:e})=>!a||2!==e).filter(({tool:e})=>p||6!==e).map(e=>6===e.tool?{...e,link:`/collage-creation-tool/?boardId=${t}${i?`&sectionId=${i}`:""}`}:e);return f.length?(0,P.jsx)(o.xu,{"data-test-id":"board-tools",role:"list",children:(0,P.jsx)(o.kC,{alignItems:"start",justifyContent:"center",width:"100%",children:f.map((e,a)=>(0,P.jsx)(o.xu,{"data-test-id":e.text,padding:1,role:"listitem",children:(0,P.jsx)(B,{boardId:t,boardSectionId:i,boardTool:e,iconSize:r,index:a,toolSize:l})},e.id))})}):null}function Z(e){(0,a.useEffect)(()=>{(0,r.Z)("BoardToolsContainer","/app/www/save/board/BoardTools/BoardToolsContainer.tsx")},[]);let{sectionId:t,boardId:i}=e,o=(0,c.Z)(),n=!!t,{ref:s}=(0,d.Z)({name:n?"SectionToolsFeedResource":"BoardToolsFeedResource",options:n?{sectionId:t,orbacSubjectId:o}:{boardId:i,orbacSubjectId:o}});return(0,P.jsx)(l.Z,{name:"BoardToolsContainer_ResourceError",children:(0,P.jsx)(a.Suspense,{fallback:(0,P.jsx)(u.Z,{}),children:(0,P.jsx)(S,{...e,boardOrSectionToolsRef:s})})})}B.displayName="BoardTool"},422872:function(e,t,i){i.d(t,{Z:()=>r});let r=(0,i(667294).createContext)({showAbout:!1,setShowAbout:()=>{}})},635545:function(e,t,i){i.d(t,{Z:()=>h});var r=i(686659),a=i(667294),o=i(391995),l=i(230201),n=i(647636),s=i(24246),d=i(510755),c=i(554365),u=i(36351),_=i(500602),p=i(785893);function h({board:e,hasBoardToolStyles:t,onArchiveClick:i,onCreatePincode:h,onEditBoardClick:f,onEditSectionClick:m,onMergeClick:x,onShowAbout:g,onUnarchiveClick:b,showArchiveOnly:y=!1,showCreatePinCodeOption:v,surface:w,excludeShareOption:j,size:P="sm",bgColor:C="secondary"}){(0,a.useEffect)(()=>{(0,r.Z)("BoardHeaderOverflowFlyoutButton","/app/www/save/board/Headers/BoardHeader/BoardHeaderOverflowFlyoutButton.tsx")},[]);let A=(0,s.Z)(),B=(0,a.useRef)(null),{logContextEvent:S}=(0,l.u)(),[Z,I]=(0,a.useState)(!1),[T,z]=(0,a.useState)("boardOptions"),[E,k]=(0,a.useState)(!1),F=e.header?.large_image_url?"default":"secondary";F=E?void 0:F;let O="automagical"===e.layout,D=()=>{I(!1),z("boardOptions")},L={description:e.description,id:e.id,imageUrl:e.image_cover_url,name:e.name,type:"board",url:e.url,ownerId:e.owner?.id},M=()=>{I(e=>!e),z("boardOptions")},H=!!e.archived_by_me_at,R=["section"===w?function({handleClose:e,onEditClick:t,setMenuType:i},r,a){return{items:[{dataTestId:"edit-section-button",text:r._('Edit Section', 'BoardHeader.getSectionOptionsCategory.EditOption', 'Clickable text to enter board editing mode'),onClick:()=>{t(),e()}},{text:r._('Share', 'BoardHeader.getSectionOptionsCategory.ShareOption', 'Clickable text to show share options'),onClick:()=>{(0,c.Z)(a),i("boardShare")}}],label:r._('Section options', 'BoardHeader.getSectionOptionsCategory.OptionsCategory', 'Category of section options in section flyout')}}({handleClose:D,onEditClick:m,setMenuType:z},A,S):function({handleClose:e,isArchived:t,isAutomagical:i,onArchiveClick:r,onCreatePincode:a,onEditClick:o,onMergeClick:l,onShowAbout:n,onUnarchiveClick:s,setMenuType:d,showCreatePinCodeOption:u,isAdOnlyPins:_,excludeShareOption:p},h,f,m){let x=[];return i?x.push({dataTestId:"aboutRecommendationsButton",text:h._('About boards made for you', 'BoardHeader.BoardOptionsFlyout.AboutBoardsForYouOption', 'Clickable text to open about boards made for you modal'),onClick:()=>{n?.(),e()}}):(m||x.push({dataTestId:"editBoardButton",text:h._('Edit board', 'BoardHeader.BoardOptionsFlyout.EditOption', 'Clickable text to enter board editing mode'),onClick:()=>{o(),e()}}),p||x.push({dataTestId:"shareBoardButton",text:h._('Share', 'BoardHeader.BoardOptionsFlyout.ShareOption', 'Clickable text to show share options'),onClick:()=>{(0,c.Z)(f),d("boardShare")}}),_||t||x.push({dataTestId:"mergeBoardButton",text:h._('Merge', 'BoardHeader.BoardOptionsFlyout.MergeOption', 'Clickable text to open merge board modal'),onClick:()=>{l(),e()}}),t?x.push({dataTestId:"unarchiveBoardButton",text:h._('Unarchive', 'BoardHeader.BoardOptionsFlyout.UnarchiveOption', 'Clickable text to open unarchive modal'),onClick:()=>{s(),e()}}):x.push({dataTestId:"archiveBoardButton",text:h._('Archive', 'BoardHeader.BoardOptionsFlyout.ArchiveOption', 'Clickable text to open archive modal'),onClick:()=>{r(),e()}}),u&&!m&&x.push({dataTestId:"createPinCodeBoardButton",text:h._('Create Pincode', 'BoardHeader.BoardOptionsFlyout.PincodeOption', 'Clickable text to trigger Pincode modal'),onClick:()=>{a(),e()}})),{items:x,label:h._('Board options', 'BoardHeader.BoardOptionsFlyout.OptionsCategory', 'Category of board options in board flyout')}}({handleClose:D,isArchived:H,isAutomagical:O,onArchiveClick:i,onCreatePincode:h,onEditClick:f,onMergeClick:x,onShowAbout:g,onUnarchiveClick:b,setMenuType:z,showCreatePinCodeOption:v,isAdOnlyPins:e.is_ads_only,excludeShareOption:j},A,S,y)];return(0,p.jsxs)(o.xu,{position:"relative",zIndex:new o.Ry(d.fe-1),children:[(0,p.jsx)(o.xu,{ref:B,"data-test-id":"more-board-options",children:t?(0,p.jsx)(o.iP,{onTap:M,rounding:600,children:(0,p.jsx)(o.xu,{color:Z?"selected":F,dangerouslySetInlineStyle:E?{__style:{backgroundColor:"#e2e2e2"}}:void 0,display:"flex",justifyContent:"center",onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),paddingX:5,paddingY:5,rounding:600,children:(0,p.jsx)(o.JO,{accessibilityLabel:"more options",color:Z?"inverse":"default",icon:"ellipsis",size:24})})}):(0,p.jsx)(o.hU,{accessibilityLabel:A._('More Board options', 'BoardHeaderOVerflowFlyoutButton.IconButton.AccessibilityLabel', 'Accessibility label on icon button'),bgColor:C,icon:"ellipsis",iconColor:"default",onClick:M,selected:Z,size:P})}),(0,p.jsx)(n.cs,{anchors:{3001:B.current},onCompleteByAnchor:{3001:M},placementId:18}),(0,p.jsx)(n.N,{anchors:{3001:B.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0}),Z&&("boardOptions"===T?(0,p.jsx)(o.Lt,{anchor:B.current,disableMobileUI:!0,id:"board_options",onDismiss:D,zIndex:_.m6,children:R.map(({items:e,label:t})=>(0,p.jsx)(o.Lt.Section,{label:t,children:e.map(({dataTestId:e,isSelected:t,onClick:i,text:r})=>(0,p.jsx)(o.Lt.Item,{dataTestId:e,onSelect:i,option:{label:r,value:r},selected:t?{label:r,value:r}:null},r))},t))}):(0,p.jsx)(o.J2,{anchor:B.current,onDismiss:D,size:"flexible",children:(0,p.jsx)(u.Z,{component:13216,onCreatePincodeClick:h,onHide:D,sendType:"board",sharedObject:L,viewType:5})}))]})}},316037:function(e,t,i){i.d(t,{Z:()=>D});var r=i(686659),a=i(667294),o=i(391995),l=i(464094),n=i(311752),s=i(853930),d=i(360990),c=i(319226),u=i(24246),_=i(487002),p=i(101504),h=i(112782),f=i(398419),m=i(998551),x=i(774243),g=i(581722),b=i(230201),y=i(943152),v=i(935059),w=i(577356),j=i(211731),P=i(785893);function C(e){(0,a.useEffect)(()=>{(0,r.Z)("ButtonElement","/app/www/save/board/JoinButton/ButtonElement.tsx")},[]);let t=(0,u.Z)(),{onClick:i,requested:l,size:n,useAlternateText:s}=e;return(0,P.jsx)(o.zx,{fullWidth:!0,onClick:i,size:n||"md",text:(l?function(e,t){return t?e._('Cancel', 'BoardPage.BoardJoinButton.cancel', '[Button] Cancel request to join a group board as a collaborator'):e._('Cancel request', '[Button] Cancel request to join a group board as a collaborator', '[Button] Cancel request to join a group board as a collaborator')}:function(e,t){return t?e._('Join', 'BoardPage.BoardJoinButton.join', '[Button] Request to join a group board as a collaborator'):e._('Request to join', '[Button] Request to join a group board as a collaborator', '[Button] Request to join a group board as a collaborator')})(t,s)})}var A=i(924591),B=i(216975);function S(e){(0,a.useEffect)(()=>{(0,r.Z)("JoinCancelToast","/app/www/save/board/JoinButton/JoinCancelToast.tsx")},[]);let t=(0,u.Z)(),{boardImage:i,boardName:l,boardUrl:n,onHide:s}=e,d=(0,P.jsx)(o.xv,{children:(0,B.nk)(t._('You\'ve cancelled the request to collaborate on {{ boardName }}', 'Board.JoinButton.CancelToast', 'Toast text stating that a user has cancelled a request to join a board'),{boardName:(0,P.jsx)(o.xv,{inline:!0,weight:"bold",children:l})})});return(0,P.jsx)(A.Z,{duration:3e3,href:n,imageUrl:i,onHide:s,text:d})}function Z(e){(0,a.useEffect)(()=>{(0,r.Z)("JoinRequestToast","/app/www/save/board/JoinButton/JoinRequestToast.tsx")},[]);let t=(0,u.Z)(),{boardImage:i,boardName:l,boardUrl:n,onHide:s}=e,d=(0,P.jsx)(o.xv,{children:(0,B.nk)(t._('You\'ve requested to join {{ boardName }}', 'Board.JoinButton.RequestToast', 'Toast text stating that a user has requested to join a board'),{boardName:(0,P.jsx)(o.xv,{inline:!0,weight:"bold",children:l})})});return(0,P.jsx)(A.Z,{href:n,imageUrl:i,onHide:s,text:d})}function I(e){let{boardId:t,boardImage:i,boardName:r,boardUrl:a,isRequestedByMe:l,showPulsar:n,size:s,variant:d}=e,{logContextEvent:c}=(0,b.u)(),u=(0,g.I0)(),_=(0,v.Z)(),p=(0,w.dI)(),h=_.isAuth&&_.id||"",f=(0,y.Z)(),m=(0,j.tV)(),x=({event:e})=>{e.preventDefault(),e.stopPropagation(),f?f():l?(u((0,j.GJ)(t,h)),p.showOneToast(({hideToast:e})=>(0,P.jsx)(S,{boardImage:i,boardName:r,boardUrl:a,onHide:e}))):(u(m(t)),p.showOneToast(({hideToast:e})=>(0,P.jsx)(Z,{boardImage:i,boardName:r,boardUrl:a,onHide:e})));let{action:o,id:n,logContextEvent:s,url:d}={action:l?"request":"cancel",id:t,logContextEvent:c,url:a};s({event_type:101,component:1,element:"request"===o?7499:7547,object_id_str:n,view_type:4,aux_data:{current_page_url:d}})};return h?(0,P.jsxs)(o.xu,{display:"flex",position:"relative",children:[(0,P.jsx)(C,{onClick:x,requested:l,size:s,useAlternateText:"lego"===d}),n&&(0,P.jsx)(o.iP,{onTap:e=>{x(e)},children:(0,P.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},display:"inlineBlock",position:"absolute",children:(0,P.jsx)(o.o3,{paused:l})})})]}):null}var T=i(833847);function z({board:e,boardName:t,collaborators:i,isArchived:l,isBoardPreviewMode:n,isSecret:s,nonDisplayedCollaboratorCount:g,pinCount:b,sectionCount:y,description:v,showPinCount:w,showPulsar:j,showJoinButton:C,isOwnerOrCollaborator:A,handleShowCollabAndPermissionsModal:B}){(0,a.useEffect)(()=>{(0,r.Z)("BoardHeaderDetails","/app/www/save/board/Headers/BoardHeader/BoardHeaderDetails/BoardHeaderDetails.tsx")},[]);let S=(0,u.Z)(),{automagical_board_metadata:Z,featured_board_metadata:z,id:E,image_cover_url:k,layout:F,owner:O={},should_show_board_collaborators:D,url:L,viewer_collaborator_join_requested:M}=e,{curator:H,is_sponsored_content:R}=z||{},{board_type:N,tag_title:U,tagline:q,topic_name:K,upcoming_update_date_text:$}=Z||{},G=R&&H?(0,d.Z)(H):null,W=(0,T.Z)(e),J=A&&!n,X="automagical"===F,V=D&&i.length>1,Y=(0,a.useMemo)(()=>{let e=[];return H?e.push((0,d.Z)(H)):V?e.push(...i):O&&e.push((0,d.Z)(O)),e},[V,i,H,O]),Q=z?.board_tag;return(0,P.jsxs)(o.kC,{alignItems:"start",dataTestId:"board-header-details",direction:"column",gap:6,justifyContent:"start",maxWidth:640,children:[(0,P.jsxs)(o.kC,{alignItems:"start",direction:"column",gap:3,justifyContent:"start",children:[(()=>{let{board_subtitle:e}=z||{};return e?(0,P.jsx)(o.xu,{marginBottom:-1,children:(0,P.jsx)(o.xv,{weight:"bold",children:e})}):null})(),(0,P.jsx)(o.qd,{id:"board-name",size:"700",children:t}),(0,P.jsx)(m.Z,{fontSize:"200",isArchived:l,isAutomagical:X,isFeaturedBoard:W,isSecret:s,pinCount:b,sectionCount:y,showEditorialBoardTag:"number"==typeof Q&&Q>=0,showPinCount:w,subtitle:2===N?q:$,tagTitle:U}),!!v&&(0,P.jsx)(_.Z,{description:v,topicName:K})]}),!X&&(0,P.jsxs)(a.Fragment,{children:[J&&(0,P.jsx)(o.xu,{marginBottom:2,children:(0,P.jsx)(c.HE,{addCollaborators:!0,collaborators:Y,onClick:B,role:"button",size:"sm"})}),J&&(0,P.jsx)(h.Z,{boardId:E,iconSize:24,isBoardEmpty:!b,toolSize:72}),!J&&G&&(0,P.jsx)(f.Z,{board:e,collaborator:(()=>{if(V&&G)return i.find(e=>e.id!==G.id)})(),sponsor:G}),!J&&!G&&(0,P.jsxs)(o.kC,{alignItems:"center",dataTestId:"collaborator-avatar-group-and-names-container",gap:2,children:[(0,P.jsx)(p.Z,{avatarSize:"sm",board:e,displayedCollaborators:Y,isBoardPreviewMode:n,nonDisplayedCollaboratorCount:g}),(0,P.jsxs)(o.xv,{children:[S._('by ', 'board.Headers.BoardHeader.BoardHeaderDetails.by', 'Text to tell the viewer who the board is owned and collaborated by'),(0,P.jsx)(x.Z,{board:e,collaborators:Y,overflowNumber:g})]})]})]}),C&&(0,P.jsx)(I,{boardId:E,boardImage:k??"",boardName:t,boardUrl:L,isRequestedByMe:!!M,showPulsar:j,size:"lg",variant:"lego"})]})}var E=i(230689),k=i(401545),F=i(235623),O=i(10516);function D({board:e,boardName:t,collaborators:i,description:d,fullWidth:c=!1,handleShowCollabAndPermissionsModal:u,isArchived:_,isBoardPreviewMode:p,inRelocateBoardShareButtonExp:h,isOwnerOrCollaborator:f,isSecret:m,nonDisplayedCollaboratorCount:x,onCreatePincode:g,overFlowActionsButton:b,pinCount:y,sectionCount:v,setBoardPreviewMode:w,showPinCount:j,showPulsar:C,showJoinButton:A}){(0,a.useEffect)(()=>{(0,r.Z)("BoardHeaderWithImage","/app/www/save/board/Headers/BoardHeader/BoardHeaderWithImage.tsx")},[]);let{featured_board_metadata:B,layout:S,header:Z,owner:I}=e,{isSmallerImage:T,isSmallScreen:D}=(0,O.Z)(),L=(0,s.Z)(I?.id),M="automagical"===S,H=Z?.large_image_url||null,R=B?.has_expanded_sections&&L&&w,N=()=>(0,P.jsxs)(o.kC,{dataTestId:"board-actions-container",gap:2,children:[R&&!M&&(0,P.jsx)(k.Z,{isBoardPreviewMode:p,setBoardPreviewMode:w}),!m&&!M&&(0,P.jsx)(o.xu,{marginEnd:2,children:(0,P.jsx)(F.Z,{boardKey:{type:"Legacy",data:e},color:H?"default":"secondary",handleCreatePincode:g,hasBoardToolStyles:h,hasShadow:!!H,iconColor:"default",showTooltip:h})}),(0,P.jsx)(o.xu,{marginEnd:4,children:b})]}),U=()=>(0,P.jsx)(z,{board:e,boardName:t,collaborators:i,description:d,handleShowCollabAndPermissionsModal:u,isArchived:_,isBoardPreviewMode:p,isOwnerOrCollaborator:f,isSecret:m,nonDisplayedCollaboratorCount:x,pinCount:y,sectionCount:v,showJoinButton:A,showPinCount:j,showPulsar:C}),q=()=>H?(0,P.jsx)(E.Z,{boardActions:N(),imageUrl:H,imageWidth:T?O.w:void 0}):N(),K=(0,P.jsxs)(o.kC,{alignItems:D||!H||f&&!p?"start":"center",dataTestId:"board-header-with-image",direction:D&&H?"column":"row",gap:8*!!H,justifyContent:"between",children:[(0,P.jsx)(o.xu,{children:D&&H?q():U()}),(0,P.jsx)(o.xu,{maxWidth:D?550:void 0,children:D&&H?U():q()})]});return c?(0,P.jsx)(o.xu,{paddingX:1,width:"100%",children:K}):(0,P.jsx)(n.Z,{isGetServerRenderGridHeaderStyles:!0,maxColumns:l.oC,children:K})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/31069-cfe0e4286e53798d.mjs.map