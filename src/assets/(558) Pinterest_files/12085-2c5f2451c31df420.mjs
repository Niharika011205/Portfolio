(self.modernJsonp=self.modernJsonp||[]).push([["12085"],{827446:function(e,t,i){var n={"./HI.tsx":["566876",9,"54183"],"./KR":["90529",9,"56292"],"./RO.tsx":["333966",9,"3266"],"./ENUK.tsx":["532750",9,"79225"],"./TL.tsx":["177147",9,"81425"],"./HU":["536300",9,"17015"],"./UA.tsx":["161698",9,"19312"],"./ID.tsx":["464550",9,"55315"],"./ID":["464550",9,"55315"],"./NL":["14454",9,"1412"],"./ZHCN.tsx":["109399",9,"58485"],"./consts":["565387",9,"65304"],"./ZHCN":["109399",9,"58485"],"./SV":["757029",9,"42976"],"./ESMX.tsx":["68731",9,"41543"],"./TL":["177147",9,"81425"],"./PL.tsx":["610662",9,"13349"],"./TH.tsx":["980727",9,"54174"],"./HI":["566876",9,"54183"],"./types.ts":["870789",7,"70991"],"./IT":["280472",9,"7306"],"./SK":["97884",9,"61678"],"./RU":["881467",9,"47755"],"./SK.tsx":["97884",9,"61678"],"./ZHTW":["341055",9,"82728"],"./ESMX":["68731",9,"41543"],"./DA.tsx":["676757",9,"28428"],"./NL.tsx":["14454",9,"1412"],"./JP.tsx":["485253",9,"7394"],"./KR.tsx":["90529",9,"56292"],"./FR":["456486",9,"83268"],"./TR.tsx":["23146",9,"85262"],"./FR.tsx":["456486",9,"83268"],"./index.tsx":["956804",9],"./NO":["691841",9,"68234"],"./DE.tsx":["408451",9,"79118"],"./PTPT":["889076",9,"90861"],"./MS.tsx":["322609",9,"97874"],"./ESAR":["518900",9,"3191"],"./localeToFilename":["197040",9],"./HU.tsx":["536300",9,"17015"],"./RO":["333966",9,"3266"],"./PL":["610662",9,"13349"],"./TR":["23146",9,"85262"],"./DE":["408451",9,"79118"],"./ESES":["652678",9,"52921"],"./ESES.tsx":["652678",9,"52921"],"./VT.tsx":["453016",9,"81204"],"./TH":["980727",9,"54174"],"./DA":["676757",9,"28428"],"./PTBR.tsx":["992560",9,"51628"],"./ZHTW.tsx":["341055",9,"82728"],"./":["956804",9],"./ENUS":["338350",9,"94181"],"./JP":["485253",9,"7394"],"./PTBR":["992560",9,"51628"],"./CZ":["970527",9,"7707"],"./NO.tsx":["691841",9,"68234"],"./PTPT.tsx":["889076",9,"90861"],"./CZ.tsx":["970527",9,"7707"],"./SV.tsx":["757029",9,"42976"],"./UA":["161698",9,"19312"],"./ESAR.tsx":["518900",9,"3191"],"./VT":["453016",9,"81204"],"./index":["956804",9],"./GR.tsx":["279048",9,"61145"],"./IT.tsx":["280472",9,"7306"],"./localeToFilename.ts":["197040",9],"./ENUS.tsx":["338350",9,"94181"],"./ENUK":["532750",9,"79225"],"./FI":["369766",9,"14797"],"./FI.tsx":["369766",9,"14797"],"./consts.ts":["565387",9,"65304"],"./types":["870789",7,"70991"],"./GR":["279048",9,"61145"],"./RU.tsx":["881467",9,"47755"],"./MS":["322609",9,"97874"]};function o(e){if(!i.o(n,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],o=t[0];return Promise.all(t.slice(2).map(i.e)).then(function(){return i.t(o,16|t[1])})}o.keys=()=>Object.keys(n),o.id=827446,e.exports=o},958218:function(e,t,i){var n,o;i.r(t),i.d(t,{default:()=>a});let r={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"inviteType"},{defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:o=[{alias:null,args:[{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteUserExternal",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:o},params:{id:"6312848b4bb08588587683a04a42e4d0333e2e986fcab0cef4ed200786d3f5d9",metadata:{},name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",operationKind:"query",text:null}};r.hash="08ff9e5b3aeff18d0d8d4d9f872bd8ba";let a=r},548777:function(e,t,i){i.d(t,{m:()=>c,r:()=>u});var n=i(667294),o=i(213491),r=i(647636),a=i(571808),s=i(774838),l=i(785893);let{Provider:d,get:c}=(0,o.Z)("PinRep");function u({children:e}){let{isAuthenticated:t}=(0,s.B)(),{experience:i}=(0,a.Z)(1000069),[o,c]=(0,n.useState)(!0),[u,h]=(0,n.useState)(!1),[p,_]=(0,n.useState)(null),[m,g]=(0,n.useState)(null),f=(0,r.oS)(1000069);(0,n.useEffect)(()=>{if(!t)return void c(!1);i&&(!i||i?.experience_id===500417&&i?.display_data.hide_footer)?f.viewExperience(1000069,500417):c(!1),h(!0)},[i]);let b=(0,n.useMemo)(()=>({hasSimplifiedPinGridExpLoaded:u,hidePinRepFooter:o,setUseCaseFeedOriginalPinId:g,setUseCaseFeedRepinId:_,useCaseFeedOriginalPinId:m,useCaseFeedRepinId:p}),[u,o,g,_,m,p]);return(0,l.jsx)(d,{value:b,children:e})}},387012:function(e,t,i){i.d(t,{Z:()=>l});var n=i(686659),o=i(667294),r=i(391995),a=i(24246),s=i(785893);function l({children:e,onClick:t,isSelected:i}){(0,o.useEffect)(()=>{(0,n.Z)("BulkEditPinWrapper","/app/common/react/components/save/board/BulkEditPinWrapper/BulkEditPinWrapper.tsx")},[]);let l=(0,a.Z)(),d=i?l._('Drag and drop selected item', 'BulkEditPinWrapper.tapArea.selectedAccessibilityLabel', 'Label for selected item that can be dragged and dropped.'):l._('Drag and drop deselected item', 'BulkEditPinWrapper.tapArea.deselectedAccessibilityLabel', 'Label for deselected item that can be dragged and dropped.'),c=l._('Selectable Pin', 'BulkEditPinWrapper.groupAccessibilityLabel', 'Aria label for a pin group that can be dragged and dropped.');return(0,s.jsxs)(r.xu,{"aria-label":c,position:"relative",role:"group",children:[(0,s.jsx)(r.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,s.jsx)(r.iP,{accessibilityLabel:d,fullHeight:!0,fullWidth:!0,onTap:({event:e})=>{e.preventDefault(),e.stopPropagation(),t()},rounding:200})}),(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:e})]})}},876645:function(e,t,i){i.d(t,{Z:()=>o});let n="undefined"!=typeof window&&window.performance&&window.performance.now?()=>window.performance.now():()=>Date.now();function o({window:e,duration:t,run:i}){let o=n(),r=0,a=null,s=()=>{let l=n()-o,d=l-r;if(t===1/0)i(0,l,d);else{let e=l/t;if(e>=1)return void i(1,l,d);i(e,l,d)}r=l,a=e.requestAnimationFrame(s)};return{start:()=>{a=e.requestAnimationFrame(s)},cancel:()=>{a&&(e.cancelAnimationFrame(a),a=null)}}}},824870:function(e,t,i){i.d(t,{Z:()=>x});var n=i(667294),o=i(312048),r=i(4533),a=i(15881),s=i(818244),l=i(173874),d=i(456871),c=i(501010),u=i(34550),h=i(418282),p=i(473687),_=i(413211),m=i(341687),g=i(739405),f=i(20717);let b=new Map([["enabled_3_pages",3],["enabled_4_pages",4],["enabled_4_pages_rollout",4],["enabled_5_pages",5]]);function x({pageUniqueKey:e,containerPage:t}){let i=(0,s.g)(),x=(0,g.HG)(),y=(0,o.TH)(),{checkExperiment:v}=(0,c.Z)(),{isPaid:w,isSocial:P,isDirect:j,isSEO:S}=(0,d.Z)(),I=(0,f.cO)(),C=I?.data?.inviter,A=(0,h.Nl)(),E=(0,u.M0)(),Z=x&&b.get(v("upsell_diversity_navigational_pages").group),B=JSON.parse(A.getItem(a.uL)??"[]"),T=x&&v("dweb_navigational_on_land").anyEnabled,z=x&&"enabled_paid"===v("dweb_navigational_on_land").group,k=x&&"enabled_social"===v("dweb_navigational_on_land").group,M=x&&"enabled_seo_direct"===v("dweb_navigational_on_land").group,R=x&&(v("migration_upsell_manager_redux").anyEnabled||v("migration_upsell_manager_redux_dweb").anyEnabled||v("migration_upsell_manager_redux_dweb_global").anyEnabled),L=(0,p.Z)(),D=x&&i&&!A.getItem(a.J7)&&B.length+1>=0&&!B.includes(e)&&P&&(0,l.isPinFeedbackPage)(y),U=x&&"31"===(0,m.Z)(y?.search).utm_source&&(0,l.isBoardPage)(y)&&v("dweb_email_referred_board_page_upsell_experiment").anyEnabled;(0,n.useEffect)(()=>{if(R)L((0,_.v2)(e,t));else if((Z||T||U)&&i&&!A.getItem(a.J7)){let n=z&&w||k&&P||M&&(j||S)||U;(Z&&B.length+1>=Z||n&&B.length+1>=0)&&!B.includes(e)?(i.showDesktopSignupModal({signupFlow:{type:"login"},attributionLabel:`navigation_${t}`,container:t,reason:"UPSELL_LOGIN_OR_SIGNUP",isWashBlocking:!!U}),A.setItem(a.J7,"true"),A.removeItem(a.uL),E.setItem(r.cu,0)):D||A.setItem(a.uL,JSON.stringify([...new Set([...B,e])]))}},[e,t,Z,i,A,E,L,R,T,j,S,w,P,z,k,M,B,U,D,v]),(0,n.useEffect)(()=>{if(!D||!C)return;R&&L((0,_.GY)(C,t));let e=[];if(v("ce_dweb_unauth_splp_blocking_no_delay").anyEnabled)if(R)L((0,_.ht)(t));else{let{showDesktopSignupModal:e}=i;e({signupFlow:{type:"signup"},attributionLabel:`delay_${t}`,container:t,reason:"UPSELL_LOGIN_OR_SIGNUP"}),A.setItem(a.J7,"true")}else if(v("ce_dweb_unauth_splp_blocking_3s").anyEnabled){let n=setTimeout(()=>{if(R)L((0,_.ht)(t));else{let{showDesktopSignupModal:e}=i;e({signupFlow:{type:"signup"},attributionLabel:`delay_${t}`,container:t,reason:"UPSELL_LOGIN_OR_SIGNUP"}),A.setItem(a.J7,"true")}},3e3);e.push(n)}else if(v("ce_dweb_unauth_splp_blocking").anyEnabled){let n=setTimeout(()=>{if(R)L((0,_.ht)(t));else{let{showDesktopSignupModal:e}=i;e({signupFlow:{type:"signup"},attributionLabel:`delay_${t}`,container:t,reason:"UPSELL_LOGIN_OR_SIGNUP"}),A.setItem(a.J7,"true")}},6e3);e.push(n)}return()=>{e.forEach(e=>clearTimeout(e))}},[C,D,R,L,t]),(0,n.useEffect)(()=>{if(!D||!C)return;let e=!1,n=()=>{e||(requestAnimationFrame(()=>{let{scrollY:n}=window;if(n>1){if(R)L((0,_.XE)(t));else if(v("ce_dweb_unauth_splp_blocking").anyEnabled||v("ce_dweb_unauth_splp_blocking_no_delay").anyEnabled||v("ce_dweb_unauth_splp_blocking_3s").anyEnabled){let{showDesktopSignupModal:e}=i;e({signupFlow:{type:"signup"},attributionLabel:`scroll_${t}`,container:t,reason:"UPSELL_LOGIN_OR_SIGNUP"}),A.setItem(a.J7,"true")}}e=!1}),e=!0)};return window.addEventListener("scroll",n,{passive:!0}),()=>{window.removeEventListener("scroll",n)}},[C,D,R,L,t])}},828801:function(e,t,i){i.d(t,{Z:()=>h});var n=i(686659),o=i(667294),r=i(391995),a=i(876645),s=i(564377),l=i(510755),d=i(785893);function c(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class u extends o.Component{constructor(...e){super(...e),c(this,"state",{visible:!1}),c(this,"setRef",e=>{this.element||(this.element=e,e?.addEventListener("dragover",this.handleDragOver),e?.addEventListener("dragleave",this.handleDragLeave))}),c(this,"handleDragOver",()=>{let{placement:e}=this.props;if(!this.scrollAnimationManager){let t="top"===e?-1:1;this.scrollAnimationManager=(0,a.Z)({window,duration:1/0,run:(e,i,n)=>{window.scrollTo(0,window.scrollY+(i<500?.8:1.2000000000000002)*t*n)}}),this.scrollAnimationManager.start()}}),c(this,"handleDragLeave",()=>{this.scrollAnimationManager&&this.scrollAnimationManager.cancel()}),c(this,"element",null),c(this,"visibleTimeout",null)}componentDidMount(){this.visibleTimeout=window.setTimeout(()=>this.setState({visible:!0}),500)}componentWillUnmount(){let e=this.element;e&&(e.removeEventListener("dragover",this.handleDragOver),e.removeEventListener("dragleave",this.handleDragLeave)),this.scrollAnimationManager&&this.scrollAnimationManager.cancel(),this.visibleTimeout&&window.clearTimeout(this.visibleTimeout)}render(){let{height:e,placement:t}=this.props,{visible:i}=this.state;return(0,d.jsx)(r.xu,{bottom:"bottom"===t,dangerouslySetInlineStyle:{__style:{zIndex:0x1000037,visibility:i?"visible":"hidden"}},height:e,left:!0,position:"fixed",right:!0,top:"top"===t,children:(0,d.jsx)("div",{ref:this.setRef,style:{width:"100%",height:"100%"}})})}}function h({noStickyHeader:e}){(0,o.useEffect)(()=>{(0,n.Z)("DragScrollManager","/app/packages/dragDrop/DragScrollManager.tsx")},[]);let t=e?0:l.hu;return(0,d.jsx)(s.Z,{children:(0,d.jsx)(r.mh,{children:(0,d.jsxs)(r.xu,{children:[(0,d.jsx)(u,{height:120+t,placement:"top"}),(0,d.jsx)(u,{height:120,placement:"bottom"})]})})})}},2587:function(e,t,i){i.d(t,{Z:()=>d,y:()=>s});var n=i(667294),o=i(60598),r=i(14890),a=i(785893);let s={Pin:"pin",Board:"board",Section:"section",CarouselItem:"carouselitem",Cutout:"cutout",CartingRetailer:"cartingretailer"};class l extends n.Component{render(){let{accessibilityControls:e,accessibilitySelected:t,children:i,connectDragSource:n,connectDropTarget:o,id:r,isDragging:s,isDraggingInternal:l,isDropTargetOnly:d,role:c}=this.props,u=o((0,a.jsx)("div",{ref:e=>{this.targetEl=e},"aria-controls":e,"aria-selected":t,id:r,role:c,style:{opacity:s||l?0:1},children:i}));return d?u:n(u)}}let d=(0,r.qC)((0,o.DropTarget)(e=>e.type,{hover:({index:e,onDragHover:t},i,n)=>{t(e,function(e,t){let i=t.targetEl;if(!(i&&i instanceof HTMLElement))return null;let{x:n,y:o}=e.getClientOffset(),{left:r,right:a,top:s,bottom:l,width:d,height:c}=i.getBoundingClientRect();return{positionRelativeToCenter:{x:n-(r+a)/2,y:o-(s+l)/2},boundingBox:{width:d,height:c}}}(i,n))}},e=>({connectDropTarget:e.dropTarget()})),(0,o.DragSource)(e=>e.type,{beginDrag:({index:e,onDragBegin:t})=>(t(e),{index:e}),endDrag:({onDragEnd:e},t)=>e(t.didDrop())},(e,t)=>({connectDragSource:e.dragSource(),isDraggingInternal:t.internalMonitor.registry.dragSources.size>0&&t.isDragging()})))(l)},728027:function(e,t,i){i.d(t,{Z:()=>a});var n=i(60598),o=i(14890),r=i(548303);let a=e=>t=>(0,o.qC)(r.Z,(0,n.DropTarget)(e,{},(e,t)=>({connectDropTarget:e.dropTarget(),isDragWithinBounds:t.isOver()})))(t)},843061:function(e,t,i){i.d(t,{Z:()=>a});var n=i(686659),o=i(667294),r=i(785893);let a=({size:e=56})=>((0,o.useEffect)(()=>{(0,n.Z)("Facebook","/app/packages/gestalt-custom-svg/dynamicSVGs/Facebook.tsx")},[]),(0,r.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M56 28C56 12.536 43.464 0 28 0S0 12.536 0 28c0 13.975 10.24 25.56 23.625 27.66V36.094h-7.11V28h7.11v-6.169c0-7.017 4.18-10.893 10.576-10.893 3.064 0 6.268.546 6.268.546v6.891h-3.53c-3.479 0-4.564 2.159-4.564 4.373V28h7.766l-1.242 8.094h-6.524V55.66C45.761 53.56 56 41.975 56 28Z",fill:"#1877F2"}),(0,r.jsx)("path",{d:"M38.9 36.094 40.14 28h-7.765v-5.252c0-2.215 1.085-4.373 4.563-4.373h3.53v-6.89s-3.203-.547-6.267-.547c-6.396 0-10.576 3.876-10.576 10.893V28h-7.11v8.094h7.11V55.66a28.206 28.206 0 0 0 8.75 0V36.094h6.524Z",fill:"#fff"})]}))},571710:function(e,t,i){i.d(t,{Z:()=>a});var n=i(686659),o=i(667294),r=i(785893);let a=({size:e=56})=>((0,o.useEffect)(()=>{(0,n.Z)("Messenger","/app/packages/gestalt-custom-svg/dynamicSVGs/Messenger.tsx")},[]),(0,r.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("rect",{fill:"#fff",height:"56",rx:"28",width:"56"}),(0,r.jsx)("rect",{height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4",width:"55",x:".5",y:".5"}),(0,r.jsx)("path",{d:"M28 12c-9.012 0-16 6.604-16 15.52 0 4.664 1.912 8.696 5.024 11.48.26.232.42.56.428.912l.088 2.848c.028.908.964 1.5 1.796 1.132l3.176-1.4c.268-.12.572-.14.856-.064 1.46.4 3.012.616 4.632.616 9.012 0 16-6.604 16-15.52S37.012 12 28 12Z",fill:"url(#paint0_radial_3730_649_messenger)"}),(0,r.jsx)("path",{d:"m18.392 32.06 4.7-7.456a2.401 2.401 0 0 1 3.472-.64l3.74 2.804a.96.96 0 0 0 1.156-.004l5.048-3.832c.672-.512 1.552.296 1.104 1.012l-4.704 7.452a2.401 2.401 0 0 1-3.472.64l-3.74-2.804a.96.96 0 0 0-1.156.004l-5.048 3.832c-.672.512-1.552-.292-1.1-1.008Z",fill:"#fff"}),(0,r.jsx)("defs",{children:(0,r.jsxs)("radialGradient",{cx:"0",cy:"0",gradientTransform:"translate(18.16 43.826) scale(34.8672)",gradientUnits:"userSpaceOnUse",id:"paint0_radial_3730_649_messenger",r:"1",children:[(0,r.jsx)("stop",{stopColor:"#09F"}),(0,r.jsx)("stop",{offset:".61",stopColor:"#A033FF"}),(0,r.jsx)("stop",{offset:".935",stopColor:"#FF5280"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#FF7061"})]})})]}))},900565:function(e,t,i){i.d(t,{Z:()=>a});var n=i(686659),o=i(667294),r=i(785893);let a=({size:e=56})=>((0,o.useEffect)(()=>{(0,n.Z)("Whatsapp","/app/packages/gestalt-custom-svg/dynamicSVGs/Whatsapp.tsx")},[]),(0,r.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("rect",{fill:"#25D366",height:"56",rx:"28",width:"56"}),(0,r.jsx)("path",{clipRule:"evenodd",d:"M39.206 16.65A15.75 15.75 0 0 0 27.99 12c-8.74 0-15.854 7.113-15.857 15.855a15.821 15.821 0 0 0 2.117 7.927L12 44l8.406-2.205a15.837 15.837 0 0 0 7.577 1.93h.007c8.74 0 15.853-7.114 15.856-15.857a15.76 15.76 0 0 0-4.64-11.218ZM27.99 41.047h-.005c-2.365 0-4.684-.636-6.708-1.837l-.482-.286-4.988 1.309 1.331-4.864-.313-.499a13.146 13.146 0 0 1-2.015-7.014c.003-7.266 5.915-13.178 13.185-13.178a13.09 13.09 0 0 1 9.318 3.865 13.098 13.098 0 0 1 3.856 9.324c-.003 7.267-5.915 13.18-13.179 13.18Zm7.23-9.871c-.397-.199-2.345-1.157-2.708-1.289-.364-.132-.628-.198-.891.198-.264.397-1.024 1.29-1.255 1.554-.231.264-.462.297-.858.099-.396-.199-1.673-.617-3.187-1.966-1.178-1.051-1.973-2.348-2.204-2.745-.231-.397-.024-.611.173-.808.178-.178.397-.463.595-.695.198-.23.264-.396.396-.66.132-.265.066-.496-.033-.695-.098-.198-.89-2.148-1.221-2.941-.322-.773-.649-.668-.892-.68a16.01 16.01 0 0 0-.759-.014c-.264 0-.693.099-1.057.495-.363.397-1.387 1.356-1.387 3.305 0 1.95 1.42 3.835 1.618 4.1.199.264 2.794 4.265 6.769 5.982.945.409 1.683.653 2.259.835.948.302 1.812.26 2.495.157.76-.114 2.344-.958 2.674-1.884.33-.925.33-1.719.23-1.884-.098-.166-.362-.266-.758-.464Z",fill:"#fff",fillRule:"evenodd"})]}))},824504:function(e,t,i){i.d(t,{Z:()=>s});var n=i(686659),o=i(667294),r=i(351736),a=i(785893);let s=({size:e=56})=>{(0,o.useEffect)(()=>{(0,n.Z)("X","/app/packages/gestalt-custom-svg/dynamicSVGs/X.tsx")},[]);let t=(0,r.vs)();return(0,a.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("rect",{fill:t?"white":"#111111",height:"56",rx:"28",width:"56"}),(0,a.jsx)("path",{d:"M30.3055 25.8561L40.505 14H38.088L29.2318 24.2945L22.1584 14H14L24.6964 29.5671L14 42H16.4171L25.7695 31.1287L33.2396 42H41.3979L30.3049 25.8561H30.3055ZM26.995 29.7042L25.9112 28.1541L17.288 15.8196H21.0005L27.9595 25.7739L29.0433 27.324L38.0892 40.2632H34.3767L26.995 29.7048V29.7042Z",fill:t?"#111111":"white"})]})}},160125:function(e,t,i){i.d(t,{GH:()=>s,Jb:()=>d,fi:()=>c,we:()=>l});var n=i(681698);i(47755);var o=i(877904),r=i(951608),a=i(935833);let s="274266067164",l=(e,t)=>(t&&(0,a.dy)({event:"load_script_start",provider:"facebook"}),(0,o.Z)((0,r.Z)(e),"FACEBOOK").then(()=>{t&&(0,a.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(t&&(0,a.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:s,status:!0,xfbml:!0,version:"v2.7"})):t?(0,a.dy)({event:"global_object_not_found",provider:"facebook"}):(0,a.My)("pcons.non_autologin.fb.global_object_not_found")})),d=()=>new Promise(e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)}),c=async(e,t)=>{await l(e,!1);let i=await d(),o=t?"dweb":"mweb";if("connected"===i.status){(0,a.My)(`${o}.login_data_from_fb_token.connected`);let{userID:e,accessToken:t}=i.authResponse;try{let i=await (0,n.Z)({url:"/v3/facebook/login_data/",data:{facebook_id:e,facebook_token:t}});if(i?.resource_response?.data){let{connected_to_gplus:e,connected_to_google:t,has_password:n}=i.resource_response.data,r=e||t;return(0,a.My)(`${o}.login_data_from_fb_token.success`),{isGoogleConnected:r,hasPassword:n,isFBAuthOnly:!r&&!n}}(0,a.My)(`${o}.login_data_from_fb_token.no_data`)}catch{(0,a.My)(`${o}.login_data_from_fb_token.error`)}}return null}},169166:function(e,t,i){i.d(t,{Z:()=>n});let n=(0,i(667294).createContext)(null)},506807:function(e,t,i){i.d(t,{Z:()=>n});let n=(0,i(667294).createContext)(null)},495839:function(e,t,i){i.d(t,{Z:()=>k});var n=i(686659),o=i(667294),r=i(970414),a=i(687412),s=i(774303),l=i(705460),d=i(830031),c=i(267398),u=i(381571),h=i(217472),p=i(780657),_=i(139876),m=i(87980),g=i(240083),f=i(296264),b=i(484243),x=i(774254),y=i(479901),v=i(774838),w=i(178355),P=i(767415),j=i(785893);let S=["initial_app_load","client_route_push"],I=(0,s.XV)("PwtSurface"),C="NavigationComplete",A="VisuallyComplete",E=()=>{(0,u._T)()},Z=e=>{if(e.metricConfig.constraints.every(t=>e.constraintMap[t])){let i=Math.max(...e.metricConfig.constraints.map(t=>e.constraintMap[t])),{metricConfig:{metricId:n,pwtStaticContext:o,annotateExperiments:r},annotations:s,binaryAnnotations:d,constraintMap:h,startTime:p,imageTimings:_,spans:g,traceId:f}=e;(0,x.Z)(`Report_PWT_Complete_${(0,a.KJ)(n)}`,p,i);let b=(0,c.W)({annotateExperiments:[...r??[]],annotations:s,binaryAnnotations:d,constraintMap:h,endTime:i,imageTimings:_,metricId:n,pwtMeasures:(0,y.zU)(),pwtStaticContext:o,startTime:p,traceId:f,spans:g});try{var t=String(b.binaryAnnotationMap["metricId.surface"].value);let e=performance.getEntriesByType("resource").filter(e=>e.name.includes("i.pinimg")).reduce((e,t)=>{let i=t.name.replace(".jpg","").split("/");return{[i[i.length-1]]:{downloadSize:t.name.split("/")[3].split("x")[0]},...e}},{});[...Array.from(document.getElementsByTagName("img")).map(t=>{let i=t.src.replace(".jpg","").split("/"),n=i[i.length-1];if(e[n]){let i=(0,m.rZ)(t)?.width||1,o=e[n].downloadSize;return{fileName:n,renderedSize:i,downloadedSize:o,ratio:o/i}}return{fileName:n,renderedSize:1,downloadedSize:1,ratio:1}}),...Array.from(document.querySelectorAll('div[role="img"]')).map(t=>{let i=t.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),n=i[i.length-1];if(e[n]&&t instanceof HTMLDivElement){let i=(0,m.rZ)(t)?.width||1,o=e[n].downloadSize;return{fileName:n,renderedSize:i,downloadedSize:o,ratio:o/i}}return{fileName:n,renderedSize:1,downloadedSize:1,ratio:1}})].forEach(e=>{let{ratio:i,fileName:n,downloadedSize:o}=e;e.ratio>1.05&&(0,l.A9)(`checkImageRatio.${t}`,{count:Math.round(10*i)/10,tags:{fileName:`${o}_${n}`}})})}catch(e){(0,l.H)("image_ratio_check_error",{error:e})}return(0,u._T)(),{...e,result:b,status:"DONE"}}return I(`Remaining constraints: ${e.metricConfig.constraints.filter(t=>!e.constraintMap[t]).join(", ")}`),e},B=(e,t)=>{let{constraint:i,time:n}=t,o=(0,a.KJ)(e.metricConfig.metricId);return f.Z?e.metricConfig.constraints.find(e=>e===i)?e.constraintMap[i]?(I(`constraint "${i}" is already complete.`),(0,l.H)("duplicated_constraint_complete",{constraint:i,action:o}),e):(I(`marking constraint "${i}" as complete ${n||performance.now()}`),n?(0,b.Z)(`constraint_${i}_is_complete`,n):(0,b.Z)(`constraint_${i}_is_complete`),Z({...e,constraintMap:{...e.constraintMap,[i]:n||f.Z.now()}})):(I(`marked constraint "${i}" is not a required constraint.`),e):((0,l.H)("missing_window_performance",{action:o}),e)},T=(e,t)=>{if(I("dispatch action",t),"INIT_ROUTE"===t.type)return((e,t)=>{let{metricConfig:i,startTime:n,isSampled:o,disablePWTLogging:r}=t;if(r||"TIMING"!==e.status||n===e.startTime||E(),!i)return{status:"DISABLED",metricConfig:null};let s=(0,a.KJ)(i.metricId);if("TIMING"===e.status&&e.startTime===n&&e.constraintMap[C])return(0,l.H)("duplicated_init_route_action",{action:s}),e;if(!r){let e=(0,w.H)();(0,l.A9)(`handler.${s}`,{tags:{handler:e}});let t=void 0!==i.metricId.isAuthenticated&&{tags:{isAuth:i.metricId.isAuthenticated}}||void 0;"Other"===i.pwtStaticContext.browserName&&!1===i.metricId.isAuthenticated&&"initial_app_load"===i.metricId.navigationType?((0,l.A9)(`TIMING.${s}`,{tags:{userAgent:window?.navigator?.userAgent}}),(0,l.A9)(`TIMING.sampled.${s}`,{tags:{userAgent:window?.navigator?.userAgent},sampleRate:.03})):((0,l.A9)(`TIMING.${s}`),(0,l.A9)(`TIMING.sampled.${s}`,{sampleRate:.03})),(0,h.C)({resultLog:`TIMING.${s}`,annotateExperiments:i.annotateExperiments||[],getExperimentGroup:i.pwtStaticContext.getExperimentGroup,options:t})}return B({traceId:(0,u.vc)()||(0,u.ZP)("initial_app_load"===i.metricId.navigationType,i.pwtStaticContext.getServerData()?.trace_id),status:"TIMING",metricConfig:i,startTime:n,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:o,spans:[]},{constraint:C,disablePWTLogging:r})})(e,t.payload);if("TIMING"!==e.status)return I(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":E();let i={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:i};case"ANNOTATE":let{name:n}=t.payload;if(!f.Z)return e;let o=f.Z.now();return I(`adding annotation {${n}: ${o}}`),{...e,annotations:{...e.annotations,...{[n]:o}}};case"BINARY_ANNOTATE":let{name:r,value:s,annotationType:d}=t.payload;return I(`adding binary annotation {${r}: ${s}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,...{[r]:{value:s,type:d}}}};case"MARK_CONSTRAINT_COMPLETE":return B(e,t.payload);case"REMOVE_CONSTRAINT":return((e,t)=>{if(!f.Z){let t=(0,a.KJ)(e.metricConfig.metricId);(0,l.H)("missing_window_performance",{action:t})}I(`removing constraint "${t}"`);let i=e.metricConfig.constraints.filter(e=>e!==t),{[t]:n,...o}=e.constraintMap;return Z({...e,constraintMap:o,metricConfig:{...e.metricConfig,constraints:i}})})(e,t.payload);case"SET_SEGMENT":var c=t.payload;if(!f.Z){let t=(0,a.KJ)(e.metricConfig.metricId);(0,l.H)("missing_window_performance",{action:t})}I(`updating pwt segment to "${c}"`);let p={...e.metricConfig.metricId,segment:c};return{...e,metricConfig:{...e.metricConfig,metricId:p}};case"SET_VISUALLY_COMPLETE_RESULT":{let{payload:{imageTimings:i}}=t;if(0===i.length)return E(),{...e,status:"DONE",result:{type:"ABORT",reason:"visuallyComplete_noImages"}};let n=Math.max(...i.map(e=>e.responseEnd||0));return B({...e,imageTimings:i},{constraint:A,time:n})}case"ADD_SUBSPAN":let{startTime:_}=e,{payload:{name:m,startTime:b,endTime:x,annotations:y,binaryAnnotations:v,parentId:P}}=t;return{...e,spans:[...e.spans,{name:m,id:(0,g.Z)(),startTime:b||_,endTime:x,annotationMap:{...y},binaryAnnotationMap:{...v},parentId:P}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,g.Z)(),startTime:f.Z?f.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":let j=e.spans.findIndex(e=>e.name===t.payload.name);return j>-1?(e.spans[j].endTime=f.Z?f.Z.now():0,t.payload.annotations&&(e.spans[j].annotationMap={...e.spans[j].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[j].binaryAnnotationMap={...e.spans[j].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,l.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:let S=(0,a.KJ)(e.metricConfig.metricId);return(0,l.H)("invalid_pwt_surface_action",{action:S}),e}},z=new Set;function k({children:e,...t}){(0,o.useEffect)(()=>{(0,n.Z)("PwtSurface","/app/packages/pwt-logger/PwtSurface.tsx")},[]);let i=(0,p.Z)(),s=(e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}})(i),c=t.measureGridVisuallyComplete?["web_masonry_v2"]:[],u=[...t.annotateExperiments??[],...c],{context:h}=(({surface:e,constraints:t,segment:i,measureGridVisuallyComplete:n,annotateExperiments:a,customEnabledNavigationTypes:s,navigationInfo:{clientNavigation:l,navigationType:d},sampleRate:c})=>{let u=(0,o.useRef)("NOT_SET"),h=(0,_.Z)(),{getState:p,dispatch:m}=((e,t)=>{let i=(0,o.useRef)(t);return{getState:()=>i.current,dispatch:t=>{i.current=e(i.current,t)}}})(T,{status:"DISABLED",metricConfig:null}),g=(0,v.B)();if(u.current!==l&&(u.current=l,h)){let{isAuthenticated:o}=h,r=e&&d&&(s||S).includes(d)?{metricId:{type:"surface",surface:e,navigationType:d,isAuthenticated:o,segment:i},annotateExperiments:a,constraints:[C,...t||[],...n?[A]:[]],pwtStaticContext:h}:null;(0,P.nP)("webapp.pwt_surface.init_route",{tags:{surface:e,navigationType:d,isAuthenticated:o}});let u=!z.has(l);m({type:"INIT_ROUTE",payload:{metricConfig:r,startTime:l?l.time:0,isSampled:!c||Math.random()<c,disablePWTLogging:!u}}),u&&z.add(l)}let b=p();if((0,o.useEffect)(()=>()=>{z.delete(l)},[l]),(0,o.useEffect)(()=>{let e=e=>{m({type:"ABORT",reason:e})};r.Z.onSessionPause(e);let t=window.innerHeight,i=window.innerWidth,n=()=>{let e=Math.abs(window.innerHeight-t),o=Math.abs(window.innerWidth-i),r=window.innerHeight!==t,a=window.innerWidth!==i,s={handler:(0,w.H)(),deviceType:h?.deviceType??"unknown",isAuthenticated:h?.isAuthenticated??"unknown",platform:g.userAgent.platform??"unknown"};if((0,P.nP)("webapp.PwtLogger.handleResize",{sampleRate:1,tags:{...s,heightChanged:r,widthChanged:a}}),r&&(0,P.S0)("webapp.PwtLogger.resizeHeightDelta",e,{sampleRate:1,tags:s}),a&&(0,P.S0)("webapp.PwtLogger.resizeWidthDelta",o,{sampleRate:1,tags:s}),window.removeEventListener("resize",n),h?.deviceType==="phone"&&(!a&&r&&e<=150||!r&&!a)||h?.deviceType==="desktop"&&!r&&!a)return void(0,P.nP)("webapp.PwtLogger.skipResizeAbort",{sampleRate:1,tags:{...s,heightChanged:r,widthChanged:a}});m({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",n),()=>{let t=p();I("handling unmount",t),"TIMING"===t.status&&E(),r.Z.removePauseListener(e),window.removeEventListener("resize",n)}},[]),"TIMING"!==b.status||!b.constraintMap[C])return{state:b,context:null};let{startTime:x,metricConfig:y}=b;return{state:b,context:{abort:e=>m({type:"ABORT",reason:e}),addAnnotation:e=>m({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,i)=>m({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:i}}),addSubspan:(e,t,i,n={},o={},r=null)=>m({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:i,annotations:n,binaryAnnotations:o,parentId:r}}),getId:()=>x,getMetricId:()=>y.metricId,markConstraintComplete:e=>m({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:f.Z?f.Z.now():0}}),removeConstraint:e=>m({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>m({type:"SET_SEGMENT",payload:e}),setVisuallyCompleteResult:y.constraints.includes(A)?e=>m({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,startSubspan:(e,t={},i={},n=null)=>m({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:i,parentId:n}}),stopSubspan:(e,t={},i={},n=null)=>m({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:i,parentId:n}})}}})({...t,annotateExperiments:u,navigationInfo:{navigationType:s,clientNavigation:i}}),m=(0,d.A)(),g=!!m;return(0,o.useEffect)(()=>{if(g){let e=m?.getMetricId(),t=e?(0,a.KJ)(e):null;(0,l.H)("nested_pwt_surface",{action:t})}},[g]),(0,j.jsx)(d.S,{value:h,children:e})}},830031:function(e,t,i){i.d(t,{A:()=>o,S:()=>n});let{Provider:n,getMaybe:o}=(0,i(213491).Z)("pwtSurfaceContext")},780657:function(e,t,i){i.d(t,{Z:()=>r});var n=i(667294),o=i(169166);function r(){return(0,n.use)(o.Z)}},139876:function(e,t,i){i.d(t,{Z:()=>r});var n=i(667294),o=i(506807);function r(){return(0,n.use)(o.Z)}},250026:function(e,t,i){function n(e,t,i,o=0){if(-1===t||-1===i||t===i)return e;let r=i+o,a=t+o;if(r<0||r>=e.length||a<0||a>=e.length)return e;let s=[...e],l=s[a],d=a<r?1:-1;for(let t=a;t!==r;t+=d)s[t]=e[t+d];return s[r]=l,s}i.d(t,{Z:()=>n})},81179:function(e,t,i){function n(e,t){let i;if(e.error){let{httpStatus:n,api_error_code:o,redirectUrl:r}=e.error;(404===n||401===n&&7===o)&&(i={pathname:t?"/ideas/":"/",state:{showError:!0}}),301===n&&r&&(i={pathname:r})}return i}i.d(t,{Z:()=>n})},25870:function(e,t,i){i.d(t,{LD:()=>l,LO:()=>r,Pu:()=>a,cc:()=>n,dB:()=>o,yF:()=>s});let n={10:13098,11:13099,6:13100,5:13101,14:13102,12:13103,15:13104,8:13105,4:13106,1:13107,3:13107,18:13108,19:13109,20:13110,21:13111,22:13112,23:13113,26:13114,27:13115,29:13116,9:13286},o={10:13415,11:13416,6:13417,5:13418,14:13419,12:13420,15:13421,8:13422,4:13423,1:13424,3:13424,18:13425,19:13426,20:13427,21:13428,22:13429,23:13430,26:13431,27:13432,29:13433,9:13434},r={10:13436,11:13437,6:13438,5:13439,14:13440,12:13441,15:13442,8:13443,4:13444,1:13445,3:13445,18:13446,19:13447,20:13448,21:13449,22:13450,23:13451,26:13452,27:13453,29:13454,9:13455},a={10:13457,11:13458,6:13459,5:13460,14:13461,12:13462,15:13463,8:13464,4:13465,1:13466,3:13466,18:13467,19:13468,20:13469,21:13470,22:13471,23:13472,26:13473,27:13474,29:13475,9:13476},s={pin:1,board:2,did_it:6,pinner:3,user:3,today_article:8,follow_invite:3},l=[12,1,3,6,19,4,15,8,11,21,23,30,20,22,14,10]},521233:function(e,t,i){i.d(t,{Z:()=>s});var n=i(667294),o=i(391995),r=i(785893);class a extends n.Component{constructor(e){var t,i,o;super(e),i={manualTruncate:!1},(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?o:o+"")in this?Object.defineProperty(this,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[t]=i,this.ref=(0,n.createRef)()}componentDidMount(){let{maxHeightPx:e,shaveOptions:t={}}=this.props,n=this.ref&&this.ref.current;if(!n)return;let o=void 0===n.textContent?"innerText":"textContent",r=n[o];if(("boolean"!=typeof t.spaces||t.spaces?r.split(" "):r).length<2)return void this.setState({manualTruncate:!0});i.e("69964").then(i.bind(i,448433)).then(({default:i})=>{i(n,e,t)})}render(){let{maxWidthPx:e,maxHeightPx:t,inline:i=!1}=this.props,{manualTruncate:n}=this.state,a={maxWidth:e,maxHeight:t},s=i?{display:"inline",...a}:{...a};return n?(0,r.jsx)(o.xu,{ref:this.ref,dangerouslySetInlineStyle:{__style:s},"data-test-id":"truncater",overflow:"hidden",children:this.props.children}):(0,r.jsx)(o.xu,{ref:this.ref,dangerouslySetInlineStyle:{__style:s},"data-test-id":"truncater",children:this.props.children})}}let s=a},309266:function(e,t,i){i.d(t,{Z:()=>a});var n=i(581722);let o=[1000069,1000075],r={};function a(){var e;return e=(0,n.v9)(({experiences:e})=>e),o.forEach(t=>{e[t]&&(void 0===r[t]||r[t].id!==e[t].id)&&(r[t]=e[t])}),r}},718846:function(e,t,i){i.d(t,{Z:()=>a});var n=i(935059),o=i(200619),r=i(601871);let a=()=>{let e=(0,n.Z)(),t=(0,o.Z)();return(0,r.lJ)(e,t)}},280348:function(e,t,i){i.d(t,{Z:()=>b});var n=i(686659),o=i(667294),r=i(230201),a=i(935059),s=i(312048),l=i(495839),d=i(341687),c=i(166613),u=i(914253),h=i(122222),p=i(478403),_=i(449270),m=i(785893);function g({boardData:e,refreshBoardData:t}){(0,o.useEffect)(()=>{(0,n.Z)("BoardPageContainer","/app/www/save/board/BoardPageContainer/BoardPageContainer.tsx")},[]);let i=e?.id,r=(0,u.gC)()(i??"")||null,{search:a,state:g}=(0,s.TH)();(0,p.Z)();let f=g?.newBoard,b=(0,c.Uz)(e?.sensitivity),x=f&&!b&&e?.should_show_more_ideas?h.s.jumpstartBoard:null,y=(0,d.Z)(a);return(0,m.jsx)(l.Z,{measureGridVisuallyComplete:!0,surface:"board",children:(0,m.jsx)(_.Z,{board:r??e,initialModalType:x,refreshBoardData:t,showPulsar:!!y.showPulsar})})}var f=i(305375);function b({boardData:e,refreshBoardData:t}){(0,o.useEffect)(()=>{(0,n.Z)("BoardPageAuthDesktop","/app/www/BoardPage/BoardPageAuthDesktop.tsx")},[]);let i=(0,a.Z)(),{username:s}=(0,f.Z)(),l=i.isAuth&&i.username===s?3069:3070,{logContextEvent:d}=(0,r.u)();return(0,o.useEffect)(()=>{e&&d({aux_data:{board_id:e.id,board_pin_count:e.pin_count},component:178,event_type:13,view_type:5,view_parameter:l})},[e,d,l]),(0,m.jsx)(g,{boardData:e,refreshBoardData:t})}},532282:function(e,t,i){i.d(t,{Z:()=>_});var n=i(686659),o=i(667294),r=i(391995),a=i(289935),s=i(609252),l=i(70625),d=i(564377),c=i(74972),u=i(785893);let h={width:"100vw",maxHeight:"100%",height:"100%",overflow:"auto",top:"0",left:"0",position:"fixed",transition:"transform 0.3s ease-out, visibility 0.5s",WebkitOverflowScrolling:"touch"},p={modalOpen:{__style:{...h}},modalClose:{__style:{...h,transform:"translate3d(0px, 100%, 0px)",visibility:"hidden"}}};function _({accessibilityModalLabel:e,allowClickAndDrag:t,children:i,isOpen:h}){(0,o.useEffect)(()=>{(0,n.Z)("DeprecatedFullScreenModal","/app/www/DeprecatedFullScreenModal.tsx")},[]);let{setAppFocusState:_}=(0,c.G)(),m=(0,o.useRef)(null);return(0,o.useEffect)(()=>(h&&(s.Z.pause(),_(!1),document.body&&(document.body.style.overflow="hidden")),()=>{h&&(s.Z.resume(),_(!0),document.body&&(document.body.style.overflow=""))}),[h,_]),(0,u.jsx)(d.Z,{allowClickAndDrag:t,children:(0,u.jsx)(r.mh,{zIndex:a.b7,children:(0,u.jsx)(r.xu,{"aria-label":e,display:"inlineBlock",role:"dialog",children:(0,u.jsx)(r.xu,{ref:m,color:"default",dangerouslySetInlineStyle:{__style:h?p.modalOpen.__style:p.modalClose.__style},children:(0,u.jsx)(l.Z,{value:m.current,children:i})})})})})}},656153:function(e,t,i){i.d(t,{Z:()=>p});var n=i(686659),o=i(667294),r=i(391995),a=i(24246),s=i(464094),l=i(785893);let d=new r.Ry(1),c=new r.H3([d]),u=new r.H3([c]);function h(){return(0,l.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{background:"linear-gradient(181deg, rgba(0, 0, 0, 0.50) 0.8%, rgba(0, 0, 0, 0.20) 50.98%, rgba(0, 0, 0, 0.50) 99.19%)"}},height:"100%",left:!0,position:"absolute",width:"100%",zIndex:c})}function p({board:e}){(0,o.useEffect)(()=>{(0,n.Z)("MobileBoardHeaderImage","/app/www/board/Header/MobileBoardHeaderImage/MobileBoardHeaderImage.tsx")},[]);let t=(0,a.Z)(),{featured_board_metadata:i,name:c}=e,{board_subtitle:p}=i||{},_=e.header?.large_image_url||"";return(0,l.jsx)(r.xu,{"data-test-id":"board-header-image-container",marginBottom:0,marginEnd:-2,marginStart:-2,width:`calc(100% + ${2*s.L$}px`,children:(0,l.jsxs)(r.zd,{height:250,width:"100%",children:[(0,l.jsx)(h,{}),(0,l.jsx)(r.xu,{height:"100%",left:!0,position:"absolute",width:"100%",zIndex:d,children:(0,l.jsx)(r.Ee,{alt:t._('Board Header Image', 'board.header.mobileBoardHeaderImage', 'alt for the image that is displayed in a boards header on mobile'),fit:"cover",naturalHeight:312,naturalWidth:472,role:"presentation",src:_})}),(0,l.jsx)(r.xu,{display:"flex",height:"100%",paddingX:4,paddingY:3,position:"relative",zIndex:u,children:(0,l.jsxs)(r.kC,{dataTestId:"board-name-container",direction:"column",justifyContent:"end",children:[p&&(0,l.jsx)(r.xu,{marginBottom:2,children:(0,l.jsx)(r.xv,{color:"light",weight:"bold",children:p})}),(0,l.jsx)(r.qd,{accessibilityLevel:1,color:"light",size:"600",children:c})]})})]})})}},616870:function(e,t,i){i.d(t,{X:()=>l,i:()=>s});var n=i(667294),o=i(213491),r=i(785893);let{Provider:a,get:s}=(0,o.Z)("Session");function l({children:e}){let[t,i]=(0,n.useState)(void 0),o=(0,n.useMemo)(()=>({unauthBoardInvite:t,setUnauthBoardInvite:i}),[t]);return(0,r.jsx)(a,{value:o,children:e})}},391529:function(e,t,i){i.d(t,{x0:()=>eV,i0:()=>eK,ZP:()=>eY});var n=i(686659),o=i(667294),r=i(581722),a=i(312048),s=i(391995),l=i(4533),d=i(230201),c=i(824870),u=i(647636),h=i(375217),p=i(955106),_=i(924591),m=i(400962),g=i(24246),f=i(609252),b=i(433069),x=i(176714),y=i(134136),v=i(456871),w=i(501010),P=i(495839),j=i(139876),S=i(774838),I=i(81179),C=i(890678),A=i(661376),E=i(825605),Z=i(34550),B=i(730448),T=i(112658),z=i(736328),k=i(577356),M=i(341687),R=i(739405),L=i(893957),D=i(603284),U=i(177741),O=i(806513),F=i(59111),H=i(759302),N=i(838751),$=i(785893);let G="BoardPageSkeletonLoader__",W=()=>((0,o.useEffect)(()=>{(0,n.Z)("BoardPageSkeletonLoader","/app/www/board/duplo/BoardPageSkeletonLoader.tsx")},[]),(0,$.jsxs)(o.Fragment,{children:[(0,$.jsx)(F.Z,{unsafeCSS:[{name:`${G}board_title`,width:280,height:51},{name:`${G}profile_pic`,width:51,height:51}].map(({name:e,width:t,height:i})=>(0,N.Z)({name:e,width:t,height:i})).join("")}),(0,$.jsxs)(s.xu,{paddingX:O.D6,paddingY:3,children:[(0,$.jsxs)(s.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",marginBottom:6,children:[(0,$.jsx)(s.xu,{children:(0,$.jsx)("div",{className:`${G}board_title`})}),(0,$.jsx)(s.xu,{children:(0,$.jsx)("div",{className:`${G}profile_pic`})})]}),(0,$.jsx)(H.Z,{})]})]}));var V=i(551737),K=i(659546),Y=i(59015),q=i(730239),J=i(911147);function X({onClose:e=()=>{},goBack:t,board:i,...r}){(0,o.useEffect)(()=>{(0,n.Z)("BoardSeoDrawerModal","/app/www/board/duplo/BoardSeoDrawer/BoardSeoDrawerModal.tsx")},[]);let{componentType:a,viewParameter:l}=r,d=(0,g.Z)(),c=(0,R.HG)(),u=d._('More about this Board', 'board.seoDrawerModal.accessibilityModalLabel', 'accessiblilty modal label for board seo drawer modal');if(!c){let n=t?()=>{e(),t()}:void 0;return(0,$.jsx)(K.default,{accessibilityModalLabel:u,customizedHeading:(0,$.jsx)(q.Z,{closeModal:e,goBack:n}),isOpen:!0,mobileAccessibilityCloseIconLabel:d._('Close', 'board.seoDrawerModal.close', 'Close board SEO drawer modal'),mobileHideCloseIcon:!0,onDismiss:e,zIndex:J.K8,children:(0,$.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"34px"}},"data-test-id":"board-seo-drawer-modal",marginBottom:4,maxHeight:J.T3,overflow:"scrollY",paddingX:4,children:(0,$.jsx)(Y.Z,{board:i,componentType:a,viewParameter:l})})})}return(0,$.jsx)(o.Fragment,{children:(0,$.jsx)(V.default,{accessibilityModalLabel:u,align:"center",heading:(0,$.jsx)(q.Z,{closeModal:e}),onDismiss:e,role:"dialog",size:"sm",children:(0,$.jsx)(s.xu,{"data-test-id":"board-seo-drawer-modal",paddingX:6,children:(0,$.jsx)(Y.Z,{board:i,componentType:a,viewParameter:l})})})})}var Q=i(21418),ee=i(104999),et=i(236269),ei=i(319226),en=i(935059),eo=i(995514),er=i(216975),ea=i(27399),es=i(767415);let el=e=>{let t=(0,g.Z)(),{user:i,invitedByUser:n,inviterFirstName:o}=e;return(0,$.jsxs)(s.xu,{alignItems:"center",borderColor:"decorative",borderWidth:"sm",direction:"row",display:"flex",marginBottom:3,marginEnd:-1,marginStart:-1,paddingX:4,paddingY:4,rounding:500,width:"100%",children:[(0,$.jsx)(s.xu,{borderColor:"decorative",borderWidth:"lg",dangerouslySetInlineStyle:{__style:{borderColor:"#ffffff",zIndex:-1}},marginTop:-3,rounding:"circle",children:(0,$.jsx)(s.xu,{height:34,width:34,children:(0,$.jsx)(ei.qE,{color:i?.avatar_color_index,name:i?i.username:"",src:i?i.image_medium_url??"":""})})}),(0,$.jsx)(s.xu,{borderColor:"decorative",borderWidth:"lg",dangerouslySetInlineStyle:{__style:{borderColor:"#ffffff",zIndex:-2}},marginStart:-3,marginTop:3,rounding:"circle",children:(0,$.jsx)(s.xu,{height:34,width:34,children:(0,$.jsx)(ei.qE,{color:n?.avatar_color_index,name:n?n.username:"",src:n?n.image_medium_url??"":""})})}),(0,$.jsxs)(s.xu,{marginStart:4,children:[(0,$.jsx)(s.xe,{weight:"bold",children:t._('You\'re in!', 'Text showing that a user has accepted the board invite and is now a part of the board', 'Text showing that a user has accepted the board invite and is now a part of the board')}),(0,$.jsx)(s.xe,{children:(0,er.nk)(t._('Start collaborating with {{ invitedByUserName }} on this board', ' - ', ' -- '),{invitedByUserName:o})})]})]})};function ed({boardId:e,inviteCode:t,inviterFirstName:i,invitedByUser:r,isSeamlessLanding:a,onAccept:s,user:l}){(0,o.useEffect)(()=>{(0,n.Z)("GroupBoardAcceptBanner","/app/www/board/duplo/GroupBoardAcceptBanner.tsx")},[]);let{showToast:d}=(0,k.dI)(),c=(0,g.Z)(),[u,h]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{s&&ea.Z.create("BoardInviteResource",{board_id:e,invited_user_id:l&&l.id,invite_code:t}).callGet().then(()=>{let e=s();e&&e.then(()=>{h(!0),a&&(0,es.nP)("mweb.social.group_board.seamless.accepted")}).catch(e=>{d(({hideToast:t})=>(0,$.jsx)(_.Z,{onHide:t,text:e.message||c._('Oops! Something went wrong\u2026', 'Error during board page accepting', 'Error during board page accepting'),type:"error"}))})}).catch(e=>{d(({hideToast:t})=>(0,$.jsx)(_.Z,{onHide:t,text:e.message||c._('Oops! Something went wrong\u2026', 'Error during board page accepting', 'Error during board page accepting'),type:"error"}))})},[]),u?(0,$.jsx)(el,{user:l,inviterFirstName:i,invitedByUser:r}):null}let ec=e=>!!(0,M.Z)(e.search).accept_invite;var eu=i(616870),eh=i(643121),ep=i(26499),e_=i(120100),em=i(160587),eg=i(211731),ef=i(871962),eb=i(631042),ex=i(157498),ey=i(972699);function ev({inviteCreationDatetime:e,invitedByUser:t,inviterFirstName:i,onAccept:n,onDismiss:o,loginModal:r,isMwebUnauthBoardInviteLanding:l,setShowLoginModal:d,showLoginModal:c}){let u=(0,g.Z)(),h=(0,eo.Z)(),p=(0,a.TH)(),{showToast:_}=(0,k.dI)(),m=`/${t?.username||""}`,f=(0,e_.Z)(),b=(0,R.HG)(),x=f({fn:({event:e})=>{e.stopPropagation&&e.stopPropagation(),o()},modalHeader:(0,ep.gv)({firstName:i,i18n:u}),nextLocation:(0,ep.F4)(p)}),y=f({fn:({event:e})=>{e.stopPropagation&&e.stopPropagation(),n(),b||c||l||_(({hideToast:e})=>(0,$.jsx)(ei.FN,{duration:4e3,onHide:e,text:u._('You\'re in! Save Pins, plan with collaborators, and more!', 'GroupBoardInviteBanner.handleAcceptButtonClick.acceptInviteToastForAuthUser', 'Toast text after accepting board collaborator invite.')}))},modalHeader:(0,ep.gv)({firstName:i,i18n:u}),nextLocation:(0,ep.F4)(p)});return(0,$.jsxs)(s.xu,{alignItems:"start",color:"default",display:"flex",elevation:"shadowFloating",marginBottom:2,marginTop:2,maxWidth:400,padding:6,rounding:600,children:[b&&c&&r,(0,$.jsx)(s.xu,{marginEnd:2,children:(0,$.jsx)(ei.HE,{collaborators:[{name:i,src:(t instanceof eh.Z?t.image_large_url:t?.image_medium_url)||void 0,color:t instanceof eh.Z?t.avatar_color_index:void 0}],href:m,role:"link",size:"md"})}),(0,$.jsxs)(s.xu,{marginBottom:0,children:[(0,$.jsx)(s.xe,{color:"default",weight:"normal",children:(0,er.nk)(u._('{{ name }} invited you to collaborate on this board  {{age}}', 'mweb.board.inviteCard.inviteCopy', 'Invite copy in board page'),{name:(0,$.jsx)(s.xe,{inline:!0,weight:"bold",children:(0,$.jsx)(s.rU,{display:"inlineBlock",href:m,tapStyle:"none",underline:"hover",children:t?.full_name||""})}),age:(0,$.jsx)(s.xe,{color:"subtle",inline:!0,children:e&&h(e,!0)})})}),(0,$.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,$.jsx)(s.xu,{display:"inlineBlock",marginEnd:2,marginTop:2,children:(0,$.jsx)(s.zx,{color:"secondary",fullWidth:!0,onClick:x,size:"lg",text:u._('Decline', 'decline board collaborator invite or request', 'decline board collaborator invite or request')})}),(0,$.jsx)(s.xu,{display:"inlineBlock",marginTop:2,children:(0,$.jsx)(s.zx,{color:"primary",fullWidth:!0,onClick:b&&d&&r?()=>d(!0):y,size:"lg",text:u._('Accept', 'accept board invite', 'accept board invite')})})]})]})]})}function ew({boardId:e}){let t=(0,a.TH)(),{inviter_first_name:n,board_collab_inviter:r,board_url:l,invite_code:d,sender:c,inviter_user_id:u}=(0,M.Z)(t.search),[h,p]=(0,o.useState)(!!(n&&l)),[_,m]=(0,o.useState)(!1),f=(0,a.s0)(),b=(0,g.Z)(),x=u??c,y=(0,R.HG)(),{setUnauthBoardInvite:v}=(0,eu.i)(),w=(0,ey.Z)(),P=w?.invite?.sender,j=y&&!!P&&d&&r,S=n||P?.first_name||"",I=(0,o.lazy)(()=>Promise.all([i.e("25418"),i.e("91062"),i.e("34383")]).then(i.bind(i,757956)));if((j||!y&&d&&r&&u)&&!h&&p(!0),!h)return null;let C=(0,er.nk)(b._('Log in to accept {{ firstName }}\'s board invite', 'GroupBoardInviteBanner.login.firstName', 'Inviter\'s first name. firstName: name of inviter'),{firstName:S}).join(""),A=(0,$.jsxs)(s.xu,{height:"100%",width:"100%",children:[(0,$.jsx)(s.mh,{zIndex:new s.Ry(10001),children:(0,$.jsx)(s.xu,{alignItems:"center",display:"flex",height:"100%",paddingY:12,position:"fixed",width:"100%",children:(0,$.jsx)(I,{container:"limited_login",customLoginTagline:C,customSignupTagline:C,handleCloseButtonClick:()=>m(!1),nextUrlParam:`${t.pathname}${t.search}&accept_invite=True`,showCloseIcon:!0,signupFlow:{type:"login"},signupSource:"boardInvite"})})}),(0,$.jsx)(s.xu,{alignItems:"center",color:"washDark",display:"flex",height:"100%",left:!0,opacity:70,position:"fixed",top:!0,width:"100%",zIndex:new s.Ry(1e4)})]});return y?(0,$.jsx)(ev,{invitedByUser:P,inviterFirstName:S,loginModal:A,onAccept:()=>m(!0),onDismiss:()=>p(!1),setShowLoginModal:m,showLoginModal:_}):(0,$.jsx)(ev,{invitedByUser:P,inviterFirstName:S,isMwebUnauthBoardInviteLanding:!0,onAccept:async()=>{let i=`/invited/${t.search}&board_id=${e}&inviter_first_name=${P?.first_name||""}`;v({inviterId:x,boardId:e,hasAcceptedInvite:!1}),f(i)},onDismiss:()=>p(!1)})}function eP({boardId:e,boardImageRep:t,boardName:i}){let n=(0,a.TH)(),l=(0,r.I0)(),d=(0,en.Z)(),c=d.isAuth?d.id:void 0,{invite_code:u,seamless:h}=(0,M.Z)(n.search),p=(0,ef.U)({board:e,invited_user:c??""}),_=(0,ex.mN)()(c??""),m=(0,ee.Z)(),f=(0,R.HG)(),b=(0,g.Z)(),{showToast:x}=(0,k.dI)(),y=(0,o.useRef)(!1),[v,w]=(0,o.useState)(!1);(0,C.Z)({name:"BoardInvitesResource",options:{current_user:!0,field_set_key:"news"}});let P=(0,r.v9)(({invites:e})=>e[p]?.created_at||void 0),j=(0,A.Z)({name:"BoardInviteResource",options:{field_set_key:"boardEdit",board_id:e,invite_code:u,invited_user_id:c}}),S=(0,r.v9)(t=>{let i=(0,eb.Z)(t)[e];return i?t.invites[i]:void 0}),I=(0,r.v9)(({users:e,invites:t})=>Object.keys(t).reduce((i,n)=>{let o=t[n];return o&&(i[n]=e[o.invited_by_user]),i},{})[p]),{unauthBoardInvite:E,setUnauthBoardInvite:Z}=(0,eu.i)(),{boardId:B,inviterId:T,hasAcceptedInvite:z}=E||{},D=B&&T&&!z,U=B&&T&&z;if((0,L.Z)(()=>{D&&_&&(async()=>{y.current=!0;try{await l((0,eg.SD)(e,_,m)),Z({boardId:e,inviterId:T||"",hasAcceptedInvite:!0}),await j.refresh(),x(({hideToast:e})=>(0,$.jsx)(ei.FN,{duration:5e3,onHide:e,text:(0,$.jsx)(s.xe,{children:(0,er.nk)(b._('You can now collaborate on {{boardName}}!', 'mweb_group_board_invite_banner.acceptInviteToast', 'Title on toast when user accepts a board invite from unauth invite, boardName: name of the board.'),{boardName:(0,$.jsx)(s.xe,{inline:!0,weight:"bold",children:i})})}),thumbnail:{image:(0,$.jsx)(s.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:t})}}))}catch(e){x(({hideToast:t})=>(0,$.jsx)(ei.FN,{onHide:t,text:(0,et.Z)(e,"message")??"",type:"error"}))}finally{y.current=!1}})()}),!S||!I||!_||S&&U)return null;let O=I.first_name,F=()=>(w(!0),l((0,eg.SD)(e,_,m)));return ec(n)?(f&&x(({hideToast:e})=>(0,$.jsx)(ei.FN,{duration:5e3,onHide:e,text:b._('You\'re in! Save Pins, plan with collaborators, and more!', 'GroupBoardInviteBanner.handleAcceptButtonClick.acceptInviteToastForAuthUser', 'Toast text after accepting board collaborator invite.')})),(0,$.jsx)(ed,{boardId:e,inviteCode:u,invitedByUser:I,inviterFirstName:O||"",isSeamlessLanding:!!h,onAccept:F,user:_})):!y.current&&!v&&!!S&&(0,$.jsx)(ev,{inviteCreationDatetime:P,invitedByUser:I,inviterFirstName:O||"",onAccept:F,onDismiss:()=>l((0,em.xR)(e,c??"",m))})}let ej=({isAuthenticated:e,boardId:t,boardImageRep:i,boardName:r})=>((0,o.useEffect)(()=>{(0,n.Z)("GroupBoardInviteBanner","/app/www/board/duplo/GroupBoardInviteBanner.tsx")},[]),e)?(0,$.jsx)(eP,{boardId:t,boardImageRep:i,boardName:r}):(0,$.jsx)(ew,{boardId:t});var eS=i(853930),eI=i(29217);function eC({handleGoBack:e,hideSensitivityScreen:t,sensitivityScreenAuxData:i}){(0,o.useEffect)(()=>{(0,n.Z)("SensitivityScreen","/app/www/board/duplo/SensitivityScreen.tsx")},[]);let r=(0,g.Z)(),a=(0,ee.Z)();return(0,o.useEffect)(()=>{a({component:13860,event_type:13,view_type:5,aux_data:i})},[a]),(0,$.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.8)",paddingTop:260}},display:"flex",height:"100%",justifyContent:"center",position:"fixed",top:!0,width:"100%",zIndex:new s.Ry(1),children:(0,$.jsxs)(s.kC,{alignItems:"center",direction:"column",gap:{row:0,column:8},maxWidth:500,children:[(0,$.jsx)(s.qd,{align:"center",color:"light",children:r._('This board may contain sensitive content', 'board.sensitivityScreen.heading', 'Warning text on board that may have sensitive content')}),(0,$.jsxs)(s.kC,{gap:{row:6,column:0},children:[(0,$.jsx)(s.zx,{color:"primary",onClick:e,size:"lg",text:r._('Go back', 'board.sensitivityScreen.backButton', 'Text on button that lets user go back to previous page')}),(0,$.jsx)(s.zx,{color:"tertiary",onClick:t,size:"lg",text:r._('View anyway', 'board.sensitivityScreen.viewButton', 'Text on button that allows user to dismiss sensitivity screen and view board')})]}),(0,$.jsx)(s.xu,{padding:4,children:(0,$.jsx)(s.xv,{align:"center",color:"inverse",overflow:"normal",size:"200",children:(0,er.nk)(r._('If you see anything that violates our {{communityGuidelines}}, please report it to us by clicking the "..." button at the bottom of any Pin', 'board.sensitivityScreen.text', 'Text telling user how to report a Pin'),{communityGuidelines:(0,$.jsx)(s.rU,{href:"https://policy.pinterest.com/en/community-guidelines",target:"blank",children:(0,$.jsx)(s.xv,{color:"inverse",inline:!0,size:"200",underline:!0,children:r._('Community Guidelines', 'board.sensitivityScreen.communityGuidelines', 'Text that links to the community guidelines page')})})})})})]})})}var eA=i(768017),eE=i(682125),eZ=i(656153),eB=i(968856),eT=i(631284),ez=i(85430),ek=i(931869),eM=i(409997),eR=i(956701),eL=i(956226),eD=i(254889),eU=i(305375);function eO(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let eF=(0,o.lazy)(()=>Promise.all([i.e("6574"),i.e("10413")]).then(i.bind(i,634234))),eH=(0,o.lazy)(()=>i.e("84506").then(i.bind(i,610082))),eN=({boardId:e,children:t,hasFixedHeader:i,viewParameter:n})=>(0,$.jsx)(ez.H,{children:(0,$.jsx)(D.Z,{objectIdStr:e,viewParameter:n,viewType:5,children:(0,$.jsx)(T.Z,{objectId:e,view:5,viewParameter:n,children:(0,$.jsx)(y.default,{dataLayoutShiftBoundaryId:"BoardPageContainer",hasFixedHeader:i,children:t})})})}),e$=({board:e,blockedByMe:t,children:i,experience:n,isAuthenticated:h,isBoardPreviewMode:p,isSeoBot:_,location:f,setBoardPreviewMode:x,stickyHeaderRef:y,username:P})=>{let j=(0,a.s0)(),S=(0,b.b)(),I=(0,g.Z)(),C=(0,e_.Z)(),[A,B]=(0,o.useState)(!1),[T,k]=(0,o.useState)(!1),{logContextEvent:D}=(0,d.u)(),O=(0,z.Z)(),{checkExperiment:F}=(0,w.Z)(),H=(0,r.I0)(),{canUseNativeApp:N}=(0,r.v9)(({session:e})=>e),{id:G,name:W,access:V,owner:K,sensitivity:Y,privacy:q,pin_count:J,section_count:Q,sensitivity_screen:ee,collaborated_by_me:et,image_cover_url:ei,collaborator_permissions_setting:en}=e,eo=(0,R.HG)(),er=(0,R.ml)(),ea=(0,R.Wb)(),el=(0,eI.Z)(!!et),ed={board_id:G,reason:ee?.reason||""},{slug:eu}=(0,eU.Z)(),{isDirect:eh}=(0,v.Z)(),{previous:ep,forward:eg}=(0,m.ou)(),ef=0===ep.length&&0===eg.length;(0,L.Z)(()=>{S&&ef&&eh&&!h&&(eo?(0,es.nP)("unauth.entry_channel.direct.landing_page.board_page.dweb",{sampleRate:1}):(0,es.nP)("unauth.entry_channel.direct.landing_page.board_page.mweb",{sampleRate:1}))}),(0,L.Z)(()=>{h||((e,t)=>{let[i]=(0,Z.M0)().getItem(l.tH)??[];if(!(i&&i.path===t.pathname)&&!t.state?.isFromNavFooterPage){let i=e.cover_pin,n=i?.pin_id,o=e.cover_images,r=i&&i.image_signature||null,a=o&&o["222x"]||null;(0,ek.p9)(t.pathname,r,n,a,"board")}})(e,f)}),(0,c.Z)({pageUniqueKey:G,containerPage:"board_page"});let eb=()=>{C({fn:e=>{e&&e.stopPropagation&&e.stopPropagation(),k(!0),O({action:"click",item:"main-share-button"})}})()};(0,o.useEffect)(()=>{"t"===(0,M.Z)(f.search).open_share&&eb()},[]),(0,o.useEffect)(()=>(h&&H((0,eR.FK)()),()=>{h&&H((0,eR.Cp)())}),[H,h]);let ex=(V||[]).includes("write"),ey=(0,eS.Z)(K?.id),ev=(0,eT.Uz)(Y),ew=el||ey,eP="secret"===q,ez=!h&&!_,eL=!ew&&!ez,{hasApplicableLawForCountry:eO}=(0,eM.ZP)(),e$=eo&&ez,eG=!h&&!!e.board_vase&&F("ffe_web_board_seo_drawer").anyEnabled,eW=ew||eL||eO||eG,eV=!eo&&(h||!N||ez),eK=!!eW&&e$,eY=(0,o.useRef)(null),[eq,eJ]=(0,o.useState)(!1),[eX,eQ]=(0,o.useState)(!1),e0=(0,o.useRef)(void 0),[e1,e2]=(0,o.useState)(!1),e6=(0,o.useRef)(null),e3=(0,o.useRef)(null);(0,L.Z)(()=>{D({aux_data:{board_id:G,board_pin_count:J??0,board_section_count:Q??0},component:178,event_type:13,view_parameter:ey?3069:3070,view_type:5})});let[e5,e4]=(0,o.useState)(!ey&&!el&&!!ee?.show_warning),e9=ey?3069:3070,e8=!eo&&!eP,e7=!e8&&!e$&&!eP,{featured_board_metadata:te}=e,{has_expanded_sections:tt}=te||{},ti=!!tt&&ey&&!!x,tn=e.header?.large_image_url||null,to=h&&!ex;return(0,$.jsxs)(eN,{boardId:G,hasFixedHeader:eV,viewParameter:e9,children:[n&&(0,$.jsx)(u.iH,{placementId:1000251}),(0,$.jsx)(u._f,{customFooterHeight:ey||el?72:0,experience:n}),(0,$.jsx)(u.nj,{experience:n}),(0,$.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:e5?{filter:"blur(20px)"}:{}},children:[eo&&!ez&&(0,$.jsx)(s.xu,{paddingX:2,children:(0,$.jsx)(eD.default,{color:"default",fallbackUrl:`/${P}/`,padding:3,size:"lg"})}),eV&&(0,$.jsx)(eE.Z,{blockedByMe:t,board:e,canEdit:ex,isBoardPreviewMode:p,isOwnerOrCollaborator:ew,isSensitive:ev,isSeoBot:_,onShowAbout:e=>{eQ(!0),e0.current=e},openSendBoardModal:eb,setBoardPreviewMode:x,shareButtonRef:eY,shouldUseFallbackUrl:ec(f),showFollowOption:to,showLearnMoreAboutBoardOption:eG&&!eo,showOverflowMenuMobile:!!eW,showReportOption:eL,showSeoMoreActionsButton:eG,showShareButtonMobile:e8,showShareOptionInOverflowMenu:e7,showSwitchPreviewMode:ti,slug:eu,stickyHeaderRef:y,username:P,viewParameter:e9}),(er||ea)&&!!tn&&(0,$.jsx)(eZ.Z,{board:e}),(0,$.jsx)(s.kC,{justifyContent:"center",children:(0,$.jsx)(ej,{boardId:G,boardImageRep:ei??"",boardName:W??"",isAuthenticated:h})}),(h||ez)&&(0,$.jsxs)(o.Fragment,{children:[(0,$.jsx)(E.Z,{children:(0,$.jsx)(eF,{component:13216,element:72,hideContactsSuggestions:!h,isOpen:T,objectId:String(G),objectType:2,onDismiss:e=>{e&&e.stopPropagation&&e.stopPropagation(),k(!1)},viewParameter:e9,viewType:5})}),A&&(0,$.jsx)(eB.Z,{boardCollabPermissionsSetting:ey&&en,isOpen:A,objectId:G,objectType:2,onDismiss:()=>B(!1)})]}),(0,$.jsx)(eA.Z,{blockedByMe:t,board:e,getUnauthDesktopBoardActions:()=>(0,$.jsxs)(s.kC,{gap:2,children:[(0,$.jsxs)(s.xu,{ref:eY,alignContent:"center",alignItems:"center","data-test-id":"share-board-button",direction:"row",display:"flex",justifyContent:"center",marginBottom:2,children:[(0,$.jsx)(s.hU,{accessibilityLabel:I._('Share', 'BoardHeader.SendBoardButton', 'Text on button to share board'),bgColor:tn?"default":"transparent",icon:"share",onClick:()=>{O({action:"click",item:"main-share-button"}),eJ(!0)},selected:eq,size:"lg",tooltip:{text:I._('Share', 'BoardHeader.SendBoardButton', 'Text on button to share board')}}),(0,$.jsx)(u.N,{anchors:{4020:eY.current},idealDirection:"down",onAnchorTouch:"complete",placementId:1000251,scrollToDismiss:!0}),eq&&(0,$.jsx)(E.Z,{children:(0,$.jsx)(eH,{anchor:eY.current,component:13216,objectId:G,objectType:2,onDismiss:()=>eJ(!1),title:I._('Send this board', 'Sharesheet.ShareSocialBar', 'social media sharing board'),viewType:5})})]}),eG&&e&&(0,$.jsxs)(s.xu,{ref:e6,alignContent:"center",alignItems:"center","data-test-id":"seo-modal-board-button",direction:"row",display:"flex",justifyContent:"center",marginBottom:2,children:[(0,$.jsx)(s.xu,{ref:e3,children:(0,$.jsx)(s.hU,{accessibilityLabel:I._('More actions', 'BoardHeader.SeoModalButton', 'Text on button to open seo modal'),bgColor:tn?"default":"transparent",icon:"ellipsis",onClick:()=>{O({action:"click",item:"board-seo-modal-button"}),e2(!0)},selected:eX||e1,size:"lg",tooltip:{text:I._('More actions', 'BoardHeader.SeoModalButton', 'Text on button to open seo modal')}})}),e1&&(0,$.jsx)(s.Lt,{anchor:e3.current,id:"seo-board-context-menu",onDismiss:()=>e2(!1),children:(0,$.jsx)(s.Lt.Item,{onSelect:()=>{e2(!1),eQ(!0),O({action:"click",item:"learn-more-about-board"})},option:{label:I._('Learn more about this board', 'BoardHeader.SeoContextMenu.LearnMore', 'Context menu option to learn more about the board'),value:"learn-more"}})})]}),eK&&(0,$.jsx)(s.xu,{children:(0,$.jsx)(U.Z,{bgColor:tn?"white":"transparent",board:e,hideShare:!e7,iconSize:"lg",isOwnerOrCollaborator:ew,isSensitive:ev,onShowAbout:()=>{eQ(!0)},openSendBoardModal:eb,showAboutRecommendationOption:!1,showLearnMoreAboutBoardOption:eG&&eo,showReportOption:eL,slug:eu,username:P,viewParameter:e9,viewType:578})})]}),isAuthenticated:h,isBoardPreviewMode:p,isSeoBot:_,setInviteCollaboratorsModalIsOpen:B,viewParameter:e9,children:i})]}),eX&&(0,$.jsx)(X,{board:e,componentType:13216,goBack:e0.current,onClose:()=>{eQ(!1),e0.current=void 0},viewParameter:e9}),e5&&(0,$.jsx)(s.xu,{marginStart:-2,children:(0,$.jsx)(eC,{handleGoBack:()=>{D({event_type:101,component:13860,element:73,view_type:5,aux_data:ed}),S||j("/",{replace:!0}),j(-1)},hideSensitivityScreen:()=>{H((0,em.of)(G)),D({event_type:101,component:13860,element:12448,view_type:5,aux_data:ed}),e4(!1)},sensitivityScreenAuxData:ed})})]})};class eG extends o.Component{constructor(...e){super(...e),eO(this,"stickyHeaderRef",(0,o.createRef)()),eO(this,"logScrollEvent",(0,B.Z)(()=>{let e=this.props.board?this.props.board.id:0;this.props.logContextEvent({event_type:110,view_type:5,view_parameter:3070,aux_data:{unauth_page_board_id:e}})},300))}componentDidMount(){let{board:e,dispatch:t,isAuthenticated:i,isViewerBoardOwner:n,isViewerCollaborator:o,isSeoBot:r,location:a}=this.props;if(e){let i="other";n?i="own":o&&(i="collaborator"),t((0,h.pz)([1000251],r,{board_id:e.id,board_ownership:i}))}(0,x.Z)(),i?(0,M.Z)(a.search).seamless&&(0,es.nP)("mweb.social.group_board.seamless.land"):((0,ek.Mt)({key:l._b,lastVisitedPage:a.pathname}),window.addEventListener("scroll",this.logScrollEvent)),this.stickyHeaderRef&&this.stickyHeaderRef.current&&f.Z.addObstruction("top",this.stickyHeaderRef.current)}componentWillUnmount(){this.props.isAuthenticated||window.removeEventListener("scroll",this.logScrollEvent),this.stickyHeaderRef&&this.stickyHeaderRef.current&&f.Z.removeObstruction("top",this.stickyHeaderRef.current)}render(){let{board:e,children:t,experience:i,i18n:n,isAuthenticated:o,isBoardPreviewMode:r,isSeoBot:a,location:l,setBoardPreviewMode:d,user:c}=this.props;return e&&c?(0,$.jsx)(e$,{blockedByMe:c.blocked_by_me,board:e,experience:i,isAuthenticated:o,isBoardPreviewMode:r,isSeoBot:a,location:l,setBoardPreviewMode:d,stickyHeaderRef:this.stickyHeaderRef,username:c.username??"",children:t}):(0,$.jsx)(s.xu,{column:12,paddingY:2,children:o?(0,$.jsx)(s.xH,{accessibilityLabel:n._('Loading feed', ' - ', ' -- '),show:!0}):(0,$.jsx)(W,{})})}}let eW=({boardId:e})=>{let{slug:t,username:i}=(0,eU.Z)();return(0,C.Z)({name:"BoardInvitesResource",options:{...e?{board_id:e}:{username:i,slug:t},status_filters:"new,contact_request_not_approved",sort:"viewer_first",include_inactive:!0}}),null};function eV({isBoardPreviewMode:e,children:t,setIsBoardPreviewMode:i}){(0,o.useEffect)(()=>{(0,n.Z)("BoardPageContainer","/app/www/board/duplo/BoardPageContainer.tsx")},[]);let s=(0,g.Z)(),l=(0,j.Z)(),c=(0,a.TH)(),{slug:u,username:h}=(0,eU.Z)(),_=(0,r.I0)(),{logContextEvent:m}=(0,d.u)(),{isAuthenticated:f,isBot:b}=(0,S.B)(),x=`/${h||""}/${(0,Q.X)(u||"")}/`,y=(0,r.v9)(e=>(0,eL.Z)(e)[x]),v=y?.owner,w=(0,p.Z)({id:1000251}),I=(0,eS.Z)(y?.owner?.id),C=(0,eI.Z)(!!y?.collaborated_by_me);return(0,$.jsxs)(o.Fragment,{children:[y&&(y.access||[]).includes("write")&&(0,$.jsx)(eW,{boardId:y.id}),(0,$.jsx)(P.Z,{measureGridVisuallyComplete:!0,surface:"board",children:(0,$.jsx)(eG,{board:y,dispatch:_,experience:w,i18n:s,isAuthenticated:f,isBoardPreviewMode:e,isSeoBot:b,isViewerBoardOwner:I,isViewerCollaborator:C,location:c,logContextEvent:m,pwtStaticContext:l,setBoardPreviewMode:i,user:v,children:t})})]})}function eK({children:e}){(0,o.useEffect)(()=>{(0,n.Z)("BoardPageContainer","/app/www/board/duplo/BoardPageContainer.tsx")},[]);let t=(0,g.Z)(),{isAuthenticated:i,isBot:r}=(0,S.B)(),s=(0,a.TH)(),{slug:l,username:d}=(0,eU.Z)(),{showToast:c}=(0,k.dI)(),{error:u}=(0,A.Z)({name:"BoardResource",options:(({username:e,field_set_key:t,slug:i,getPageMetadata:n,invite_code:o})=>({field_set_key:t||"profile_grid_item",is_mobile_fork:!0,username:e,slug:i,get_page_metadata:n,invite_code:o}))({username:decodeURIComponent(d||""),slug:(0,Q.$)(l||"")})}),h=u&&i&&{pathname:s.pathname.match(/\/[^\/]*\//g),search:s.search},p=(0,A.Z)(r?null:{name:"UserResource",options:{field_set_key:"profile",username:decodeURIComponent(d||"")}}),m=!r&&(0,I.Z)(p);return!i&&u?(0,$.jsx)(a.Fg,{replace:!0,state:{showError:!0},to:"/ideas/"}):h?(c(({hideToast:e})=>(0,$.jsx)(_.Z,{duration:7e3,onHide:e,text:i?t._('We couldn\'t find that Pinner\'s board but here are some of their other boards!', 'Error text when a user attempts to go to a board that doesn\'t exist or they don\'t have access to', 'Error text when a user attempts to go to a board that doesn\'t exist or they don\'t have access to'):t._('We can\'t find that board. Please log in and give it another try!', 'Error text when a user attempts to go to a board that doesn\'t exist or they don\'t have access to', 'Error text when a user attempts to go to a board that doesn\'t exist or they don\'t have access to'),type:"error"})),(0,$.jsx)(a.Fg,{replace:!0,to:h})):m?(0,$.jsx)(a.Fg,{replace:!0,to:m}):e}function eY({children:e}){return(0,o.useEffect)(()=>{(0,n.Z)("BoardPageContainer","/app/www/board/duplo/BoardPageContainer.tsx")},[]),(0,$.jsx)(eK,{children:(0,$.jsx)(eV,{children:e})})}},525556:function(e,t,i){i.d(t,{Z:()=>l});var n=i(686659),o=i(667294),r=i(391995),a=i(24246),s=i(785893);function l({setting:e,viewerIsOwner:t}){(0,o.useEffect)(()=>{(0,n.Z)("BoardPermissionDescription","/app/www/board/duplo/BoardPermissionDescription.tsx")},[]);let i=(0,a.Z)(),l={0:{name:i._('Do (almost) everything', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Heading explaining collaborator permission setting'),description:i._('Add, move or delete Pins and sections, comment and react', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Text explaining collaborator permission setting')},1:{name:i._('Save and comment', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Heading explaining collaborator permission setting'),description:t?i._('Save Pins, organize them, comment and react', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Text explaining collaborator permission setting'):i._('Save Pins, organize them, comment, and react. For more permissions, reach out to the board owner!', 'save.board.BoardPage.ModalContents.BoardPermissionDescription.SaveOnly.Collab', 'Text explaining collaborator permission setting')},INVITE_SETTING:{name:i._('Invite other people', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Heading explaining collaborator permission setting'),description:i._('Collaborators can invite others to this board', 'save.board.BoardPage.ModalContents.BoardCollabSettings', 'Text explaining collaborator permission setting')}};return(0,s.jsxs)(o.Fragment,{children:[(0,s.jsx)(r.qd,{accessibilityLevel:2,size:"400",children:l[e].name}),(0,s.jsx)(r.xu,{paddingY:1,children:(0,s.jsx)(r.xv,{color:"subtle",size:"300",children:l[e].description})})]})}},968856:function(e,t,i){i.d(t,{Z:()=>Y});var n=i(686659),o=i(667294),r=i(312048),a=i(391995),s=i(27399),l=i(104999),d=i(843061),c=i(571710),u=i(900565),h=i(824504),p=i(465784),_=i(924591),m=i(24246),g=i(160125),f=i(521233),b=i(577356),x=i(525556),y=i(581722),v=i(562400),w=i(935059),P=i(233597),j=i(890678),S=i(730448),I=i(236269),C=i(319226),A=i(211731),E=i(871962),Z=i(785893);function B(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class T extends o.PureComponent{constructor(...e){super(...e),B(this,"state",{isSent:!1}),B(this,"onInlineSend",async()=>{let{inviteCollaborator:e,viewingUserId:t,boardId:i,recipient:n,showToast:o}=this.props;this.setState({isSent:!0});try{await e(i,n?.id??"",t),o(({hideToast:e})=>(0,Z.jsx)(_.Z,{onHide:e,text:this.props.i18n._('1 invite sent!', 'BoardCollabSuggestionCell.onInlineSend.confirmationToast', 'Toast message after sending out an invitation to collaborate on a board.')}))}catch(e){this.setState({isSent:!1}),o(({hideToast:t})=>(0,Z.jsx)(_.Z,{onHide:t,text:(0,I.Z)(e,"message")||this.props.i18n._('Sorry! There was an error adding collaborators', 'Toast for adding collaborator error', 'Toast for adding collaborator error'),type:"error"}))}})}render(){let{invite:e,legoBoardModalsEnabled:t,recipient:i}=this.props,{isSent:n}=this.state,o=!!(n||e),r=i?.avatar_color_index;return(0,Z.jsxs)(a.xu,{alignItems:"center",direction:"row",display:"flex",paddingY:2,position:"relative",width:"100%",children:[(0,Z.jsx)(a.xu,{children:(0,Z.jsx)(C.qE,{accessibilityLabel:"",color:r,name:i?.full_name??"",size:"md",src:i?.image_large_url??""})}),(0,Z.jsx)(a.xu,{flex:"grow",paddingX:2,children:t?(0,Z.jsxs)(a.xu,{children:[(0,Z.jsx)(a.qd,{accessibilityLevel:2,lineClamp:1,size:"400",children:i?.full_name}),(0,Z.jsx)(a.xv,{color:"subtle",lineClamp:1,size:"100",children:i?.username})]}):(0,Z.jsx)(a.xv,{lineClamp:1,weight:"bold",children:i?.full_name})}),(0,Z.jsx)(a.xu,{flex:"none",marginStart:2,right:!0,children:o?(0,Z.jsx)(a.xu,{marginEnd:2,children:(0,Z.jsx)(a.xv,{color:"subtle",size:"300",weight:"bold",children:this.props.i18n._('Invited', 'Disabled button after a user invites someone else', 'Disabled button after a user invites someone else')})}):(0,Z.jsx)(a.zx,{color:"primary",disabled:o,onClick:()=>{this.onInlineSend()},size:"lg",text:this.props.i18n._('Invite', 'Button to invite a contact to collaborate on a group board', 'Button to invite a contact to collaborate on a group board')})})]})}}function z(e){(0,o.useEffect)(()=>{(0,n.Z)("BoardCollabSuggestionCell","/app/www/boardEdit/duplo/BoardCollabSuggestionCell.tsx")},[]);let t=(0,m.Z)(),{showToast:i}=(0,b.dI)();(0,j.Z)({name:"BoardInviteResource",options:{board_id:e.boardId,invited_user_id:e.recipient?.id}});let r=(0,w.Z)(),a=(0,y.I0)(),s=(0,A.DK)(),l=(0,E.U)({board:e.boardId,invited_user:e.recipient?.id??""}),d=(0,y.v9)(({invites:e})=>e[l]);return(0,Z.jsx)(T,{...e,i18n:t,invite:d,inviteCollaborator:(e,t)=>a(s(e,[t])),showToast:i,viewingUserId:r.isAuth?r.id:""})}var k=i(157498),M=i(508859),R=i(767415);function L(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let D={boxShadow:"0 6px 8px -4px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};class U extends o.PureComponent{constructor(e){super(e),L(this,"state",{value:"",showScrollShadow:!1,defaultSuggestions:[]}),L(this,"onSearchChange",({value:e})=>{let{userId:t,searchContacts:i}=this.props;this.setState({value:e},i({options:{user:t,term:e}}))}),L(this,"getContactSuggestions",()=>{let{suggestions:e,userId:t,users:i}=this.props,{value:n,defaultSuggestions:o}=this.state;if(!n)return o.filter(e=>e.id&&i[e.id])||[];let r=`share-suggestions:${t}:${n}`,a=`share-suggestions:${t}:${n.slice(0,-1)}`;return e[r]||e[a]||[]}),L(this,"renderContactSuggestions",()=>{let{fetching:e,users:t,boardId:i,legoBoardModalsEnabled:n,isFullHeight:o}=this.props,{value:r}=this.state,s=this.getContactSuggestions(),l=Math.min(s.length,4),d=o?"100%":`calc(8.5vh * ${l})`;return e?(0,Z.jsx)(a.xu,{height:d,paddingY:2,children:(0,Z.jsx)(a.xH,{accessibilityLabel:this.props.i18n._('Searching for contacts', 'Placeholder text for spinner on share menu', 'Placeholder text for spinner on share menu'),show:!0})}):0===s.length?o&&r.trim()&&(0,Z.jsx)(a.xu,{marginTop:4,children:(0,Z.jsx)(a.xe,{align:"center",children:this.props.i18n._('Sorry, we can\'t find anyone by that name.', 'Text to show empty state when a contact can not be found', 'Text to show empty state when a contact can not be found')})}):(0,Z.jsx)(a.xu,{height:d,children:s.map(e=>(0,Z.jsx)(z,{boardId:i,legoBoardModalsEnabled:!!n,recipient:t[e.id]},e.id))})}),this.scrollerRef=(0,o.createRef)()}componentDidUpdate(e){let{fetching:t}=e,{value:i}=this.state,n=t&&!this.props.fetching,o=this.getContactSuggestions();if(!i&&n){let e=o.length>0?7511:7512;this.props.logContextEvent({event_type:e,view_type:5,view_parameter:3059})}}componentDidMount(){s.Z.create("ShareSuggestionsResource",{suggestion_type:"group_board",board:this.props.boardId}).callGet().then(e=>{let t=e.resource_response.data;this.setState({defaultSuggestions:t})}).catch(()=>{(0,R.nP)("mweb_share_menu_load_suggestions.fail.board_invite",{sampleRate:1})})}render(){let{showScrollShadow:e}=this.state,{expandContactsList:t}=this.props,i=(0,S.Z)(()=>{let e=this.scrollerRef.current;e&&!Number.isNaN(e.scrollTop)&&this.setState({showScrollShadow:e.scrollTop>0})},100);return(0,Z.jsxs)(a.xu,{color:"default",direction:"column",display:"flex",height:"90%",paddingX:0,children:[(0,Z.jsx)(a.xu,{color:"default",dangerouslySetInlineStyle:{__style:e?D:null},paddingX:4,paddingY:2,children:(0,Z.jsx)(M.Z,{accessibilityLabel:this.props.i18n._('search contact', 'Accessibility label for searchbar on share menu', 'Accessibility label for searchbar on share menu'),autoFocus:!1,id:"contactsSuggestSearchField",onChange:this.onSearchChange,onFocus:t,placeholder:this.props.i18n._('Search by name or email', 'Placeholder text for searchbar on share menu', 'Placeholder text for searchbar on share menu'),value:this.state.value})}),(0,Z.jsx)(a.xu,{ref:this.scrollerRef,direction:"column",display:"flex",onScroll:i,overflow:"scrollY",paddingX:4,paddingY:1,children:this.renderContactSuggestions()})]})}}function O(e){(0,o.useEffect)(()=>{(0,n.Z)("BoardCollabShareSuggestions","/app/www/boardEdit/duplo/BoardCollabShareSuggestions.tsx")},[]);let t=(0,m.Z)(),i=(0,y.I0)(),r=(0,y.v9)(({resources:e})=>Object.values(e.ShareSuggestionsTypeaheadResource||{}).some(e=>e.fetching)),a=(0,y.v9)(({feeds:e})=>Object.keys(e).filter(e=>e.includes("share-suggestions")).reduce((t,i)=>({...t,[i]:e[i]}),{})),s=(0,w.Z)(),d=s.isAuth?s.id:void 0,c=(0,k.dM)(),u=(0,l.Z)();return(0,j.Z)({name:"ShareSuggestionsTypeaheadResource",options:{term:"",user:d}}),(0,Z.jsx)(U,{...e,fetching:r,i18n:t,logContextEvent:u,searchContacts:e=>{(0,v.Z)(i((0,P.U)("ShareSuggestionsTypeaheadResource",e)),200)},suggestions:a,userId:d??"",users:c})}var F=i(532282),H=i(912471);function N(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let $=({text:e})=>(0,Z.jsx)(a.xe,{align:"center",size:"100",children:(0,Z.jsx)(f.Z,{maxHeightPx:30,maxWidthPx:70,children:e})}),G=({heading:e,legoBoardModalsEnabled:t,onDismiss:i})=>{let n=(0,m.Z)();return(0,Z.jsxs)(a.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,Z.jsx)(a.xu,{alignItems:"center",display:"flex",padding:2,children:(0,Z.jsx)(a.hU,{accessibilityLabel:n._('Close', 'close share menu', 'close share menu'),icon:"close",iconColor:"default",onClick:i,padding:4,size:t?"lg":"sm"})}),(0,Z.jsx)(a.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginEnd:12,children:(0,Z.jsx)(a.xe,{align:"center",size:"400",weight:"bold",children:e})})]})},W=({children:e,isOpen:t,legoBoardModalsEnabled:i,onDismiss:n,shouldRenderFullHeight:o})=>{let r=(0,m.Z)(),a=r._('Invite collaborators', 'mweb.inviteSheet.header.label', 'Heading for the add collaborators sharesheet'),s={accessibilityModalLabel:"",mobileAccessibilityCloseIconLabel:r._('close send modal', ' - ', ' -- '),heading:a,isOpen:t,onDismiss:n,type:"board_collab_share_menu"};return o?(0,Z.jsxs)(F.Z,{accessibilityModalLabel:a,isOpen:t,children:[(0,Z.jsx)(G,{heading:a,legoBoardModalsEnabled:i,onDismiss:n}),e]}):(0,Z.jsx)(p.ZP,{...s,children:e})};class V extends o.PureComponent{constructor(...e){super(...e),N(this,"state",{invitePath:"",inviteCode:null,Clipboard:null,fbLoaded:!1}),N(this,"setClipboard",e=>{let{Clipboard:t}=this.state;if(this.copyButtonRef=e,!e||!t)return;let i=new t(e,{text:()=>this.state.invitePath});i.on("success",()=>{this.showCopyToast()}),i.on("error",()=>{throw Error("<ShareMenu /> error: copy command failed")})}),N(this,"showCopyToast",()=>{this.logShare(12),this.props.onDismiss(),this.props.showToast(({hideToast:e})=>(0,Z.jsx)(_.Z,{onHide:e,text:this.props.i18n._('Copied link to your clipboard to share', 'url link was copied to user clipboard', 'url link was copied to user clipboard')}))}),N(this,"handleMessengerClick",()=>{this.logShare(6),this.fetchFreshInviteCode(6)}),N(this,"handleTwitterClick",()=>{this.logShare(9),this.fetchFreshInviteCode(9)}),N(this,"handleWhatsappClick",()=>{this.logShare(10),this.fetchFreshInviteCode(10)}),N(this,"handleFacebookClick",()=>{let{inviteCode:e,invitePath:t,fbLoaded:i}=this.state;i&&window.FB.ui({method:"share",mobile_iframe:!0,href:t},t=>{t&&!t.error_message&&this.logShare(5,e)}),this.fetchFreshInviteCode(5)}),N(this,"copyButtonRef",null)}componentDidMount(){this.fetchFreshInviteCode(12),(0,g.we)("en_US").then(()=>{this.setState({fbLoaded:!0})}),i.e("74459").then(i.t.bind(i,842152,23)).then(({default:e})=>{e.isSupported()&&(this.setState({Clipboard:e}),this.setClipboard(this.copyButtonRef))}),this.props.logContextEvent({event_type:7120,element:331,view_type:5,view_parameter:3059})}componentDidUpdate({objectId:e}){let{objectId:t}=this.props;e!==t&&this.fetchFreshInviteCode(12)}async fetchFreshInviteCode(e){let{objectId:t,objectType:i,fetchFreshInviteCode:n}=this.props,{invitePath:o,inviteCode:r}=await n(e,t,i);o&&this.setState({invitePath:o}),r&&this.setState({inviteCode:r})}logShare(e,t=this.state.inviteCode){let{objectId:i,objectType:n}=this.props;s.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:4,invite_object:n,invite_channel:e},invite_code:t,object_id:i}).callCreate()}render(){let{boardCollabPermissionsSetting:e,navigate:t,legoBoardModalsEnabled:i,objectId:n,onExpand:r,shouldRenderFullHeight:s}=this.props,{invitePath:l}=this.state,p=`fb-messenger://share/?link=${encodeURIComponent(l)}&app_id=${g.GH}`,_=`twitter://post?message=${encodeURIComponent(l)}`,m=`whatsapp://send?text=${encodeURIComponent(l)}`,f=({children:e,marginEnd:t})=>(0,Z.jsx)(a.xu,{direction:"column",display:"flex",marginEnd:t,width:i?void 0:78,children:e}),b=({children:e})=>(0,Z.jsx)(a.xu,{display:"flex",justifyContent:"center",paddingX:i?void 0:3,children:e}),y=this.props.i18n._('Copy link', 'Copy link icon', 'Copy link icon'),v=this.props.i18n._('Messenger', 'Facebook Messenger App', 'Facebook Messenger App'),w=i?44:48;return(0,Z.jsxs)(o.Fragment,{children:[!s&&(0,Z.jsxs)(a.xu,{children:[(0,Z.jsx)(a.xu,{height:4}),[0,1].includes(e)&&(0,Z.jsx)(a.iP,{onTap:()=>t(`/board/${n}/permissions`),children:(0,Z.jsxs)(a.xu,{marginBottom:8,paddingX:4,children:[(0,Z.jsx)(a.xu,{paddingY:2,children:(0,Z.jsx)(a.xe,{size:"100",children:this.props.i18n._('Collaborators can...', 'boardEdit.EditCollaborators', 'Text before showing collaborator permissions on a board')})}),(0,Z.jsxs)(a.kC,{alignItems:"start",justifyContent:"between",children:[(0,Z.jsx)(a.xu,{width:"60%",children:(0,Z.jsx)(x.Z,{setting:e})}),(0,Z.jsx)(a.JO,{accessibilityLabel:this.props.i18n._('See permission options', 'boardEdit.EditCollaborators', 'accessibility label on button'),icon:"chevron-right"})]})]})}),(0,Z.jsxs)(a.xu,{display:"flex",justifyContent:"around",marginEnd:4,marginStart:4,overflow:"scrollX",width:"100%",children:[(0,Z.jsxs)(f,{marginEnd:2,children:[(0,Z.jsx)(b,{children:(0,Z.jsx)(a.xu,{ref:this.setClipboard,children:(0,Z.jsx)(a.Sj,{bgColor:"lightGray",icon:"link",size:"lg"})})}),(0,Z.jsx)($,{text:y})]}),(0,Z.jsxs)(f,{marginEnd:2,children:[(0,Z.jsx)(b,{children:(0,Z.jsx)(a.rU,{href:p,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleMessengerClick()},rel:"nofollow",children:(0,Z.jsx)(c.Z,{size:w})})}),(0,Z.jsx)($,{text:v})]}),(0,Z.jsxs)(f,{marginEnd:2,children:[(0,Z.jsx)(b,{children:(0,Z.jsx)(a.rU,{href:m,onClick:this.handleWhatsappClick,rel:"nofollow",children:(0,Z.jsx)(u.Z,{size:w})})}),(0,Z.jsx)($,{text:this.props.i18n._('WhatsApp', 'WhatsApp App', 'WhatsApp App')})]}),(0,Z.jsxs)(f,{marginEnd:2,children:[(0,Z.jsx)(b,{children:(0,Z.jsx)(a.rU,{href:"#",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{e.preventDefault(),t(),this.handleFacebookClick()},rel:"nofollow",children:(0,Z.jsx)(d.Z,{size:w})})}),(0,Z.jsx)($,{text:this.props.i18n._('Facebook', 'Facebook App', 'Facebook App')})]}),(0,Z.jsxs)(f,{children:[(0,Z.jsx)(b,{children:(0,Z.jsx)(a.rU,{href:_,onClick:this.handleTwitterClick,rel:"nofollow",children:(0,Z.jsx)(h.Z,{size:w})})}),(0,Z.jsx)($,{text:this.props.i18n._('X', 'Twitter App', 'Twitter App Label')})]})]}),(0,Z.jsx)(a.xu,{height:16})]}),(0,Z.jsx)(O,{boardId:n,expandContactsList:r,isFullHeight:s,legoBoardModalsEnabled:i})]})}}function K(e){let t=(0,r.s0)(),i=(0,m.Z)(),n=(0,l.Z)(),{showToast:o}=(0,b.dI)(),a=(0,H.D3)();return(0,Z.jsx)(V,{...e,fetchFreshInviteCode:a,i18n:i,logContextEvent:n,navigate:t,showToast:o})}let Y=({boardCollabPermissionsSetting:e,isOpen:t,onDismiss:i,objectId:r,objectType:a})=>((0,o.useEffect)(()=>{(0,n.Z)("BoardCollabShareMenuModal","/app/www/boardEdit/duplo/BoardCollabShareMenuModal.tsx")},[]),(0,Z.jsx)(W,{isOpen:t,legoBoardModalsEnabled:!0,onDismiss:i,shouldRenderFullHeight:!0,children:(0,Z.jsx)(K,{boardCollabPermissionsSetting:e,legoBoardModalsEnabled:!0,objectId:r,objectType:a,onDismiss:i,shouldRenderFullHeight:!0})}))},643121:function(e,t,i){i.d(t,{Z:()=>m});var n=i(686659),o=i(667294),r=i(581722),a=i(391995),s=i(319226),l=i(24246),d=i(216975),c=i(338065),u=i(149125),h=i(680717),p=i(687163),_=i(785893);function m({isSelf:e,showVerified:t=!1,user:i={},onFollowChange:m}){(0,o.useEffect)(()=>{(0,n.Z)("User","/app/www/common/User/User.tsx")},[]);let[g,f]=(0,o.useState)(i.explicitly_followed_by_me||!1),[b,x]=(0,o.useState)(!1),y=(0,r.I0)(),v=(0,l.Z)(),w=()=>{x(!1),y((0,h.fv)(i.id)),f(!1),m&&m(i,!1)},{verified_identity:P,full_name:j,is_verified_merchant:S,is_private_profile:I,explicitly_followed_by_me:C,username:A}=i,E=P?.verified,Z=i.image_medium_url||i.image_small_url;return(0,_.jsxs)(a.xu,{alignItems:"center","aria-label":v._('User', 'FollowersModal.User.card', 'Card for display user follower'),direction:"row",display:"flex",marginEnd:-1,marginStart:-1,paddingY:1,role:"group",children:[b&&(0,_.jsx)(u.Z,{firstName:j??"",handleUnfollowUser:w,onDismiss:()=>{x(!1)}}),(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{wordBreak:"break-word"}},flex:"grow",paddingX:1,children:(0,_.jsx)(a.Tg,{href:`/${A}/`,children:(0,_.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,_.jsx)(a.xu,{width:50,children:(0,_.jsx)(s.qE,{accessibilityLabel:v._('User profile picture', 'FollowersModal.User.profilePicture', 'accessibility label for avatar main profile picture'),color:i?.avatar_color_index,name:(0,d.nk)(v._('Avatar for {{ fullName }}', 'avatar.name', 'avatar for user'),{fullName:j}).join(" "),size:"fit",src:Z??""})}),(0,_.jsx)(a.qd,{accessibilityLevel:3,size:"300",children:(0,_.jsx)(a.xv,{inline:!0,lineClamp:3,size:"300",weight:"bold",children:t&&(S||E)?(0,_.jsx)(p.Z,{badgeSize:"sm",badgeSpacing:2,fullName:j??"",isVerifiedIdentity:E,isVerifiedMerchant:S}):j})}),I&&(0,_.jsx)(a.xu,{children:(0,_.jsx)(a.JO,{accessibilityLabel:v._('private icon', 'privateProfileHeaderAuthDesktop.privateIcon', 'private icon'),icon:"lock",inline:!0})})]})})}),(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},paddingX:1,children:(!I||C)&&(0,_.jsx)(c.Z,{followEventType:45,id:i.id,isFollowed:g,isUserMe:!!e,onFollow:e=>{y((0,h.ZN)(e)),f(!0),m&&m(i,!0)},onUnfollow:()=>{I?x(!0):w()},pinKey:null,textType:"FollowUnfollow",unfollowEventType:46,viewType:4})})]})}},956804:function(e,t,i){i.r(t),i.d(t,{default:()=>c});var n=i(667294),o=i(391995),r=i(24246),a=i(774838),s=i(317109),l=i(197040),d=i(785893);function c({height:e,onCtaDidLoad:t,width:c}){let u=(0,r.Z)(),[h,p]=(0,n.useState)(null),{locale:_}=(0,a.B)(),m=(0,l.default)(_);(0,n.useEffect)(()=>{m&&"none"!==m&&p((0,n.lazy)(()=>i(827446)(`./${m}`)))},[m]),(0,n.useEffect)(()=>{h&&t()},[h]);let g=u._('Open Pinterest app, then go to the search bar, then tap the camera icon located in the search bar to scan the Pincode', 'PincodeCTA.instruction', 'Text informing users how to use Pincodes \u2014 may be displayed or used as accessibility label'),f=(0,d.jsx)(o.xv,{align:"center",children:g});return"none"===m?f:h?(0,d.jsx)(s.Z,{fallback:f,children:(0,d.jsx)(h,{height:e,title:g,width:c})}):(0,d.jsx)(o.xH,{accessibilityLabel:u._('Loading Pincode Call to Action', 'PincodeCTA.loading', 'Accessibility label for loading spinner for the Pincode call-to-action'),show:!0})}},197040:function(e,t,i){function n(e){switch(e.toUpperCase()){case"CS-CZ":return"CZ";case"DA-DK":return"DA";case"DE":return"DE";case"EL-GR":return"GR";case"EN-GB":return"ENUK";case"EN-US":return"ENUS";case"ES-ES":return"ESES";case"ES-MX":case"ES-419":return"ESMX";case"ES-AR":return"ESAR";case"FI-FI":return"FI";case"FR":return"FR";case"HI-IN":return"HI";case"HU-HU":return"HU";case"ID-ID":return"ID";case"IT":return"IT";case"JA":return"JP";case"KO-KR":return"KR";case"MS-MY":return"MS";case"NL":return"NL";case"NB-NO":return"NO";case"PL-PL":return"PL";case"PT-BR":return"PTBR";case"PT-PT":return"PTPT";case"RO-RO":return"RO";case"RU-RU":return"RU";case"SK-SK":return"SK";case"SV-SE":return"SV";case"TH-TH":return"TH";case"TL-PH":return"TL";case"TR":return"TR";case"UK-UA":return"UA";case"VI-VN":return"VT";case"ZH-CN":return"ZHCN";case"ZH-TW":return"ZHTW";default:return"none"}}i.r(t),i.d(t,{default:()=>n})},372622:function(e,t,i){i.d(t,{Z:()=>j});var n,o,r=i(686659),a=i(667294),s=i(391995),l=i(230201),d=i(24246);function c(e){return new Promise((t,i)=>{let n=new XMLHttpRequest;n.ontimeout=i,n.onreadystatechange=()=>{if(4!==n.readyState)return;if(200!==n.status)return void i();let e=new FileReader;e.onloadend=()=>{let{result:n}=e;"string"==typeof n?t(n.split(/,/)[1]):i()},e.readAsDataURL(n.response)},n.open("GET",e,!0),n.timeout=3e4,n.responseType="blob",n.send()})}function u(e,t){return new Promise((i,n)=>{let o=document.createElement("div");o.innerHTML=e.innerHTML,(function e(t,i){if(!(t instanceof Element))return Promise.resolve(t);if(t instanceof window.SVGImageElement){let e=t.href.baseVal;if(e.startsWith("data:"))return Promise.resolve();let n=i?i(e):e;return Promise.resolve(n).then(c).then(e=>`data:${function(e){let t=e.match(/\.([^\.\/]*?)$/);switch(t&&t[1]){case"jpg":case"jpeg":return"image/jpeg";case"png":return"image/png";case"gif":return"image/gif";default:return""}}(n)};base64,${e}`).then(e=>new Promise((i,n)=>{t.onerror=n,t.href.baseVal=e,window.requestAnimationFrame(i)}))}return Promise.all(Array.from(t.childNodes).map(t=>e(t,i)))})(o,t).then(()=>{let t=new Image;t.onload=()=>{window.requestAnimationFrame(()=>i(t))},t.onerror=n;let r=o&&o.querySelector("svg");r&&(/^[0-9]+$/.test(r.getAttribute("width")||"")||r.setAttribute("width",`${e.scrollWidth}`),/^[0-9]+$/.test(r.getAttribute("height")||"")||r.setAttribute("height",`${e.scrollHeight}`));let a=o.innerHTML.replace(/(xmlns="[^"]+"[^>]*)\ xmlns="[^"]+"/,"$1");t.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(a.trim())}`})})}var h=i(956804),p=i(785893);function _({getThumbnailImageSrcSet:e,images:t,onTouch:i}){(0,a.useEffect)(()=>{(0,r.Z)("PincodeHeroImagePicker","/app/www/pincode/PincodeHeroImagePicker.tsx")},[]);let n=(0,d.Z)();return(0,p.jsx)(s.xu,{display:"flex",justifyContent:"start",maxHeight:328,overflow:"auto",padding:1,wrap:!0,children:["logo"].concat(t).map((t,o)=>(0,p.jsx)(s.xu,{padding:1,children:(0,p.jsx)(s.st,{children:(0,p.jsx)(s.iP,{fullWidth:!1,onTap:()=>i("logo"===t?"logo":o-1),rounding:200,children:(0,p.jsx)(s.zd,{height:85,rounding:"circle",width:85,children:"logo"===t?(0,p.jsx)(s.JO,{accessibilityLabel:"Pinterest logo",color:"primary",icon:"pinterest",size:85}):t.url&&(0,p.jsx)(s.Ee,{alt:n._('Pincode Hero Image', 'accessibility label for the Pincode hero image', 'accessibility label for the Pincode hero image'),color:t.dominant_color||"#b5b5b5",fit:"cover",naturalHeight:t.height??1,naturalWidth:t.width??1,src:t.url,srcSet:e&&e(t.url??"")})})})})},"logo"===t?t:t.url))})}var m=i(661376);let g=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(`
  <svg xmlns="http://www.w3.org/2000/svg" width="222" height="${n||222}" x="0" y="${o||0}" viewBox="0 0 222 222">
    <path d="M0 111c0 47 29.3 87.2 70.6 103.4-1-8.8-2-22.3.3-32l13-55s-3.4-6.7-3.4-16.5c0-15.6 9-27 20-27 9.6 0 14.2 7 14.2 15.5 0 9.6-6 23.8-9.2 37-2.7 11 5.5 20 16.4 20 19.7 0 35-20.7 35-50.8 0-26.5-19.2-45-46.5-45-31.5 0-50 23.6-50 48 0 9.6 3.6 19.8 8.2 25.4 1 1.2 1 2 .7 3.3l-3 12.5c-.5 2-1.6 2.5-3.8 1.5-13.8-6.4-22.5-26.7-22.5-43 0-35 25.6-67 73.5-67 38.5 0 68.4 27.3 68.4 64 0 38.2-24.2 69-57.7 69-11.3 0-21.8-5.8-25.4-12.7L92 188c-2.6 9.6-9.3 21.7-14 29 10.5 3.3 21.6 5 33 5 61.3 0 111-49.7 111-111S172.3 0 111 0 0 49.7 0 111z" fill="var(--base-color-red-300)" fill-rule="evenodd" />
  </svg>`.trim())}`;function f(e,t,i){return`
    <image id="image"
      x="${100+300*("right"===t)}"
      y="${100+300*("bottom"===i)}"
      width="${600/("row"===t?1:2)}"
      height="${600/("column"===i?1:2)}"
      href="${e}"
      preserveAspectRatio="xMidYMid slice"
    />`}class b extends a.Component{constructor(...e){var t,i,n;super(...e),t="handleFetchChange",i=()=>{let{pincodeImageResource:e,onFetchingChange:t}=this.props;t(e.isFetching)},(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in this?Object.defineProperty(this,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[t]=i}componentDidMount(){(0,r.Z)("PincodeMainImage","/app/www/pincode/PincodeMainImage.tsx");let{pincodeImageResource:e}=this.props;e.isFetching||this.handleFetchChange()}componentDidUpdate(e){this.props.pincodeImageResource.isFetching!==e.pincodeImageResource.isFetching&&this.handleFetchChange()}render(){let{className:e,imageUrls:t,size:i,pincodeImageResource:{data:n,isLoaded:o}}=this.props;return(0,p.jsxs)(s.kC,{alignItems:"center",height:i,justifyContent:"center",width:i,children:[o&&!!n&&(0,p.jsx)("div",{className:e,dangerouslySetInnerHTML:{__html:function(e,t){let i=function(e){switch(e.length){case 0:case 1:return;case 2:return[f(e[0],"left","column"),f(e[1],"right","column")].join("");case 3:return[f(e[0],"left","column"),f(e[1],"right","top"),f(e[2],"right","bottom")].join("");default:return[f(e[0],"left","top"),f(e[1],"right","top"),f(e[2],"left","bottom"),f(e[3],"right","bottom")].join("")}}(t);return i?e.replace(/<image[^>]*>/,i):e}(n,t)},style:{width:i,height:i}}),(0,p.jsx)(s.xH,{accessibilityLabel:this.props.i18n._('Loading Pincode Image', 'accessibility label for loading the Pincode image', 'accessibility label for loading the Pincode image'),show:!n})]})}}function x(e){(0,a.useEffect)(()=>{(0,r.Z)("PincodeMainImage","/app/www/pincode/PincodeMainImage.tsx")},[]);let t=(0,d.Z)(),i=(0,m.Z)({name:"ApiResource",options:{url:"/v3/pincode/image/",data:{object_id:e.id,hero_image_url:e.imageUrls[0]||g}}});return(0,p.jsx)(b,{...e,i18n:t,pincodeImageResource:i})}function y(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let v="pincodeMain",w="pincodeCTA";class P extends a.PureComponent{constructor(...e){super(...e),y(this,"state",{ctaIsLoaded:!1,errorFlyoutIsOpen:!1,isDownloading:!1,isFetchingPincodeImage:!1,isPickingHeroImage:!1,pickedImageIndex:0}),y(this,"getCustomHeroImages",()=>{let{images:e,customizable:t}=this.props,{pickedImageIndex:i}=this.state;if(!t)return e;let n="logo"!==i&&e[i];return n?[n]:[]}),y(this,"normalizeUrl",e=>{let{getMainImageURL:t}=this.props;return(t||(e=>e))(e).replace(/^https:\/\/[^\/]{2,}\.pinimg.com\//,"https://i.pinimg.com/")}),y(this,"handleFetchChange",e=>{this.setState({isFetchingPincodeImage:e})}),y(this,"handleCancelButtonClick",()=>this.setState({isPickingHeroImage:!1})),y(this,"handleEditButtonClick",()=>this.setState({isPickingHeroImage:!0})),y(this,"handleSelectImage",e=>this.setState({isPickingHeroImage:!1,pickedImageIndex:e})),y(this,"downloadPincodeImage",()=>{let{previewNode:e}=this,{ctaIsLoaded:t,isFetchingPincodeImage:i,isDownloading:n}=this.state;if(!e||!t||i||n)return;let o=e.querySelector(`.${v}`),r=e.querySelector(`.${w}`);if(!o||!r)return;let{getDownloadImageURL:a,id:s,logContextEvent:l}=this.props;l({event_type:7078,component:13141,object_id_str:s}),this.setState({isDownloading:!0}),Promise.all([u(o,a),u(r)]).then(e=>{let[t,i]=e;return((e,t)=>{let i=document.createElement("canvas");i.width=3544,i.height=3544;let n=Math.round(.1*i.width),o=Math.round(.05*i.width),r=i.width-2*n,a=i.width-2*o,s=i.height-r,[l,d]=t.width/t.height>a/s?[a,a/t.width*t.height]:[s/t.height*t.width,s],c=i.getContext("2d");return c&&(c.fillStyle="#fff",c.fillRect(0,0,i.width,i.height),c.drawImage(e,n,0,r,r),c.drawImage(t,(i.width-l)/2,r+(i.height-r-d)/2,l,d)),i})(t,i)}).then(e=>{var t;return t=`pincode_${this.props.id}.png`,new Promise((i,n)=>{new Promise((t,i)=>{if(e.toBlob)return void e.toBlob(t);let n="";try{n=e.toDataURL("image/png")}catch(e){i()}let o=window.atob(n.split(",")[1]),{length:r}=o,a=new Uint8Array(r);for(let e=0;e<r;e+=1)a[e]=o.charCodeAt(e);t(new window.Blob([a],{type:"image/png"}))}).then(e=>window.URL.createObjectURL(e)).then(e=>{let n=document.createElement("a");n.download=t,n.href=e,n.style.display="none",window.document.body.appendChild(n),window.requestAnimationFrame(()=>{let t=()=>{window.requestAnimationFrame(()=>{window.URL.revokeObjectURL(e),n.removeAttribute("href"),n.removeEventListener("click",t),window.document.body.removeChild(n),i()})};n.addEventListener("click",t),n.click()})}).catch(n)})}).then(()=>{this.setState({isDownloading:!1})}).catch(()=>{this.setState({errorFlyoutIsOpen:!0})})})}render(){let{id:e,isLoadingImages:t,images:i,getThumbnailImageSrcSet:n,customizable:o}=this.props,{ctaIsLoaded:r,errorFlyoutIsOpen:a,isFetchingPincodeImage:l,isDownloading:d,isPickingHeroImage:c}=this.state;return c?(0,p.jsx)(s.xu,{color:"default",padding:4,rounding:200,width:350,children:(0,p.jsxs)(s.xu,{children:[(0,p.jsx)(s.xu,{paddingY:1,children:(0,p.jsx)(s.qd,{lineClamp:1,size:"600",children:this.props.i18n._('Change Image', 'Title of the Pincode hero image picker modal', 'Title of the Pincode hero image picker modal')})}),(0,p.jsx)(s.iz,{}),(0,p.jsx)(_,{getThumbnailImageSrcSet:n,images:i,onTouch:this.handleSelectImage}),(0,p.jsx)(s.xu,{padding:1,children:(0,p.jsx)(s.zx,{fullWidth:!0,onClick:this.handleCancelButtonClick,text:this.props.i18n._('Cancel', 'Button to dismiss Pincode hero image picker', 'Button to dismiss Pincode hero image picker')})})]})}):(0,p.jsx)(s.xu,{color:"default",marginBottom:4,paddingX:4,rounding:200,width:350,children:(0,p.jsxs)(s.xu,{children:[(0,p.jsx)(s.xu,{ref:e=>{this.previewNode=e},children:(0,p.jsxs)(s.xu,{alignItems:"center",color:"default",direction:"column",display:"flex",height:320,justifyContent:"center",width:"100%",children:[t?(0,p.jsx)(s.kC,{alignItems:"center",height:230,justifyContent:"center",width:"100%",children:(0,p.jsx)(s.xH,{accessibilityLabel:this.props.i18n._('Loading', 'accessibility label for loading spinner', 'accessibility label for loading spinner'),show:!0})}):(0,p.jsx)(x,{className:v,id:e,imageUrls:this.getCustomHeroImages().map(e=>this.normalizeUrl(e.url??"")),onFetchingChange:this.handleFetchChange,size:230}),(0,p.jsx)(s.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:7,marginTop:2,children:(0,p.jsx)("div",{className:w,children:(0,p.jsx)(h.default,{height:78,onCtaDidLoad:()=>this.setState({ctaIsLoaded:!0}),width:300})})})]})}),(0,p.jsxs)(s.xu,{marginTop:2,padding:1,children:[o&&i.length>0&&(0,p.jsx)(s.xu,{paddingY:1,children:(0,p.jsx)(s.zx,{fullWidth:!0,onClick:this.handleEditButtonClick,text:this.props.i18n._('Change Image', 'Button to pick Pincode hero image', 'Button to pick Pincode hero image')})}),r&&(0,p.jsxs)(s.xu,{paddingY:1,children:[(0,p.jsx)(s.xu,{ref:e=>{this.downloadButton=e},children:(0,p.jsx)(s.zx,{color:"primary",disabled:t||l||d,fullWidth:!0,onClick:this.downloadPincodeImage,text:this.props.i18n._('Download Pincode', 'Button to download the Pincode image', 'Button to download the Pincode image')})}),a&&(0,p.jsx)(s.J2,{anchor:this.downloadButton,idealDirection:"down",onDismiss:()=>this.setState({errorFlyoutIsOpen:!1}),shouldFocus:!1,size:"sm",children:(0,p.jsx)(s.xu,{"data-test-id":"error-flyout-content",padding:3,children:(0,p.jsx)(s.qb,{title:this.props.i18n._('Oops! Your browser does not support downloading Pincodes.', 'Error message shown when user attempts to download Pincode on a browser not supported', 'Error message shown when user attempts to download Pincode on a browser not supported'),type:"problem"})})})]})]})]})})}}function j(e){(0,a.useEffect)(()=>{(0,r.Z)("PincodeGenerator","/app/www/pincode/PincodeGenerator.tsx")},[]);let{logContextEvent:t}=(0,l.u)(),i=(0,d.Z)();return(0,p.jsx)(P,{...e,i18n:i,logContextEvent:t})}},485521:function(e,t,i){i.d(t,{Z:()=>c});var n=i(686659),o=i(667294),r=i(391995),a=i(230201),s=i(465784),l=i(24246),d=i(785893);function c({children:e,objectId:t,onHide:i}){(0,o.useEffect)(()=>{(0,n.Z)("PincodeModal","/app/www/pincode/PincodeModal.tsx")},[]);let{logContextEvent:c}=(0,a.u)(),u=(0,l.Z)(),h={component:13141,object_id_str:t};return(0,o.useEffect)(()=>{c({event_type:6359})},[t]),(0,d.jsx)(s.ZP,{accessibilityModalLabel:u._('Pincode', 'pincode.pincodemodal.label', 'Accessible label for a modal showing the pincode modal'),heading:u._('Pincode', 'pincode.pincodemodal.heading', 'Heading for a modal showing the pincode.'),onDismiss:()=>{i(),c({event_type:6358,...h})},size:"sm",children:(0,d.jsx)(r.kC,{alignItems:"stretch",justifyContent:"center",children:e})})}},149125:function(e,t,i){i.d(t,{Z:()=>u});var n=i(686659),o=i(667294),r=i(391995),a=i(465784),s=i(24246),l=i(216975),d=i(739405),c=i(785893);function u({onDismiss:e,firstName:t,handleUnfollowUser:i}){(0,o.useEffect)(()=>{(0,n.Z)("UnfollowUser","/app/www/profile/UserProfileHeader/ModalContents/UnfollowUser.tsx")},[]);let u=(0,s.Z)(),h=(0,d.HG)(),p=(0,l.nk)(u._('Unfollow {{ firstName }}?', 'unfollowUser.modal.header', 'header text asking if we should unfollow the user. firstName: name of the user to unfollow'),{firstName:t}).join(""),_=u._('You will no longer be able to view their profile, Pins, boards, followers or following lists. They will not be notified.', 'unFollowUser.modal.description', 'explanation of what removing another user means'),m=u._('Cancel', 'unfollowUser.modal.cancel', 'Cancel unfollowing a user'),g=u._('Unfollow', 'unfollowUser.modal.button.unfollow', 'Button to confirm removing a user');return h?(0,c.jsx)(a.ZP,{accessibilityModalLabel:p,footer:(0,c.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,c.jsx)(r.xu,{padding:1,children:(0,c.jsx)(r.zx,{fullWidth:!0,onClick:e,size:"lg",text:m})}),(0,c.jsx)(r.xu,{padding:1,children:(0,c.jsx)(r.zx,{color:"primary",fullWidth:!0,onClick:i,size:"lg",text:g})})]}),heading:p,onDismiss:e,role:"alertdialog",size:"md",children:(0,c.jsx)(r.xu,{"data-test-id":"unfollow-text",marginEnd:6,marginStart:6,children:(0,c.jsx)(r.xv,{children:_})})}):(0,c.jsxs)(a.ZP,{accessibilityModalLabel:p,mobileHideCloseIcon:!0,onDismiss:e,type:"unFollow_button",children:[(0,c.jsx)(r.xu,{alignItems:"center",display:"flex",paddingX:3,paddingY:5,children:(0,c.jsx)(r.qd,{accessibilityLevel:1,size:"600",children:p})}),(0,c.jsx)(r.xu,{marginBottom:4,marginEnd:4,marginStart:4,children:(0,c.jsx)(r.xv,{children:_})}),(0,c.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:8,children:[(0,c.jsx)(r.xu,{padding:1,children:(0,c.jsx)(r.zx,{fullWidth:!0,onClick:e,size:"md",text:m})}),(0,c.jsx)(r.xu,{padding:1,children:(0,c.jsx)(r.zx,{color:"primary",fullWidth:!0,onClick:i,size:"md",text:g})})]})]})}},381968:function(e,t,i){function n(e,t){return{type:"SET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e,renderError:t}}}function o(e){return{type:"UNSET_LOCATION_TO_ERROR_MAP_ENTRY",payload:{pathname:e}}}i.d(t,{L:()=>o,m:()=>n})},680717:function(e,t,i){i.d(t,{KF:()=>c,ZN:()=>s,fv:()=>d,kE:()=>h,yA:()=>l});var n=i(27399),o=i(47755),r=i(826681);function a(e,t,i,o){return n.Z.create("UserFollowResource",{user_id:e,invite_code:o||void 0,aux_data:t?{pin_id:t}:void 0,client_tracking_params:i})}function s(e,t=null,i,n){return o=>{a(e,t,i,n).callCreate().catch(()=>o((0,r.P_)(e,!1))),o((0,r.P_)(e,!0))}}function l(e,t=null,i,n){return async o=>{o((0,r.P_)(e,!0)),await a(e,t,i,n).callCreate().catch(t=>{throw o((0,r.P_)(e,!1)),t})}}function d(e,t=null,i){return n=>{a(e,t,i).callDelete().catch(()=>n((0,r.P_)(e,!0))),n((0,r.P_)(e,!1))}}function c(e,t=null,i){return async n=>{n((0,r.P_)(e,!1)),await a(e,t,i).callDelete().catch(t=>{throw n((0,r.P_)(e,!0)),t})}}let u=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),h=e=>t=>{e.length>0&&((0,o.Z)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e}}).catch(()=>t(u(e,!1))),t(u(e,!0)))}},427002:function(e,t,i){i.d(t,{Z:()=>o});var n=i(730056);let o=function(e,t){return(i,o)=>{let r=t(i,o);if(o.payload&&!Array.isArray(o.payload)){let{normalizedResponse:t}=o.payload;if(t&&t.entities&&t.entities[e]){var a;return Object.keys(a=t.entities[e]).reduce((e,t)=>({...e,[t]:(0,n.Z)(e[t],a[t])}),r)}}return r}}},871962:function(e,t,i){i.d(t,{U:()=>o,Z:()=>a});var n=i(427002);let o=e=>`${e.board}:${e.invited_user??""}`,r=(e,t)=>({...e,[o(t)]:{...e[o(t)],...t,invited_user:t.invited_user??e[o(t)].invited_user}}),a=(0,n.Z)("collaboratorinvite",(e,t)=>{switch(e=e||{},t.type){case"BOARD_COLLABORATOR_DELETE":return r(e,{board:t.payload.boardId,invited_user:t.payload.userId,status:"not_invited"});case"BOARD_COLLABORATOR_ADD":let{boardId:i,viewingUser:n,status:a,collaboratingUsers:s}=t.payload;return s.map(e=>e?.id).filter(Boolean).reduce((e,t)=>{let s={access:["delete"],board:i,invited_user:t,invited_by_user:n,status:a,type:"collaboratorinvite"},l=o(s);return e[l]&&"not_invited"!==e[l].status?e:r(e,s)},{...e});case"BOARD_INVITE_ACCEPTED_BY_VIEWER":return r(e,{board:t.payload.boardId,invited_user:t.payload.collaboratingUser?.id,status:"accepted"});case"BOARD_INVITE_APPROVED_BY_VIEWER":let l=t.payload.isRequestToJoin?"accepted":"new";return r(e,{board:t.payload.boardId,invited_user:t.payload.collaboratingUser?.id??"",status:l});case"BOARD_INVITE_DENIED_BY_VIEWER":let d=o({board:t.payload.boardId,invited_user:t.payload.userId}),{[d]:c,...u}=e;return u;default:return e}})},250408:function(e,t,i){i.d(t,{Z:()=>C});var n=i(686659),o=i(667294),r=i(317109),a=i(661376),s=i(372622),l=i(785893);let d="474x",c=e=>t=>t.replace(/pinimg\.com\/\d+x\d*\//,`pinimg.com/${e}/`),u=e=>["236x",d,"736x"].map((t,i)=>`${c(t)(e)} ${i+1}x`).join(", ");function h({boardId:e,customizable:t}){(0,o.useEffect)(()=>{(0,n.Z)("BoardPincodeGenerator","/app/www/pincode/BoardPincodeGenerator.tsx")},[]);let i=(0,a.Z)({name:"BoardFeedResource",options:{board_id:e,field_set_key:"images_only_item",filter_section_pins:!1,page_size:t?60:4}}),r=!i.isLoaded,h=(i.data||[]).filter(({type:e})=>"pin"===e).map(({images:e})=>e["236x"]);return(0,l.jsx)(s.Z,{customizable:t,getDownloadImageURL:c("1200x"),getMainImageURL:c(d),getThumbnailImageSrcSet:u,id:e,images:h,isLoadingImages:r})}var p=i(485521),_=i(122222);let m=(0,o.lazy)(()=>Promise.all([i.e("71795"),i.e("5696"),i.e("97128")]).then(i.bind(i,87918))),g=(0,o.lazy)(()=>i.e("32082").then(i.bind(i,171544))),f=(0,o.lazy)(()=>i.e("55355").then(i.bind(i,955994))),b=(0,o.lazy)(()=>i.e("35872").then(i.bind(i,456487))),x=(0,o.lazy)(()=>i.e("48827").then(i.bind(i,64625))),y=(0,o.lazy)(()=>i.e("18633").then(i.bind(i,205980))),v=(0,o.lazy)(()=>i.e("7071").then(i.bind(i,766339))),w=(0,o.lazy)(()=>i.e("82820").then(i.bind(i,602655))),P=(0,o.lazy)(()=>i.e("58933").then(i.bind(i,964364))),j=(0,o.lazy)(()=>i.e("16615").then(i.bind(i,85293))),S=(0,o.lazy)(()=>Promise.all([i.e("85607"),i.e("78335")]).then(i.bind(i,696655))),I=(0,o.lazy)(()=>i.e("70548").then(i.bind(i,729426)));function C({actions:e,board:t,boardSection:i,bulkEditSelectedPins:a,currentModal:s,inSelectAll:d,onClearModal:c,mergeConfirmationModalProps:u}){(0,o.useEffect)(()=>{(0,n.Z)("BoardModalManager","/app/www/save/board/BoardPage/ModalContents/BoardModalManager.tsx")},[]);let{completeCreateSectionAction:C,completeMoveAction:A,onBoardArchiveChange:E,onBoardDelete:Z,onBoardLeave:B,onBoardSectionDelete:T,onBoardSectionSave:z,onConfirmMergeSection:k,onCopyPinsToBoard:M,onDeletePins:R,onBoardMerge:L}=e;switch(s){case _.s.boardArchiveConfirmation:return E?(0,l.jsx)(r.Z,{children:(0,l.jsx)(y,{board:t,onClose:c,onConfirm:E,shouldArchive:!0})}):null;case _.s.boardUnarchiveConfirmation:return E?(0,l.jsx)(r.Z,{children:(0,l.jsx)(y,{board:t,onClose:c,onConfirm:E,shouldArchive:!1})}):null;case _.s.boardEdit:return(0,l.jsx)(r.Z,{children:(0,l.jsx)(b,{boardId:t.id,onBoardDelete:Z,onBoardLeave:B,onClose:c})});case _.s.bulkDelete:return R?(0,l.jsx)(r.Z,{children:(0,l.jsx)(w,{onClearModal:c,onCompleteBulkDelete:R,pinCountToDelete:a&&a.length||0})}):null;case _.s.bulkCopy:return M?(0,l.jsx)(r.Z,{children:(0,l.jsx)(P,{currentBoardId:t.id,onClearModal:c,onCopyToBoard:M,pinCountToCopy:a&&a.length||0})}):null;case _.s.collaboratorsAndPermissions:return(0,l.jsx)(r.Z,{children:(0,l.jsx)(m,{board:t,onDismiss:c})});case _.s.editSection:return i?(0,l.jsx)(r.Z,{children:(0,l.jsx)(S,{board:t,boardSection:i,onClearModal:c,onDeleteSection:T,onSaveSection:z})}):null;case _.s.mergeBoard:return L?(0,l.jsx)(r.Z,{children:(0,l.jsx)(x,{onCancel:c,onSubmit:L,sourceBoardId:t.id})}):null;case _.s.createSection:case _.s.moveSection:return!!a&&!!A&&(0,l.jsx)(r.Z,{children:(0,l.jsx)(j,{board:t,boardSection:i,inSelectAll:!!d,onClearModal:c,onCompleteMove:A,selectedPinIds:a,showCreateOnly:s===_.s.createSection})});case _.s.sectionMergeConfirm:return u&&k?(0,l.jsx)(r.Z,{children:(0,l.jsx)(I,{onCancel:c,onConfirm:k,source:u.source,target:u.target})}):null;case _.s.followers:return(0,l.jsx)(r.Z,{children:(0,l.jsx)(v,{boardId:t.id,followersCount:t.follower_count??0,onDismiss:c})});case _.s.pincode:return(0,l.jsx)(p.Z,{objectId:t.id,onHide:c,children:(0,l.jsx)(h,{boardId:t.id,customizable:!!t.owner?.is_partner})});case _.s.jumpstartBoard:return(0,l.jsx)(r.Z,{children:(0,l.jsx)(g,{board:t,onDismiss:c})});case _.s.simpleCreateSection:return C?(0,l.jsx)(r.Z,{children:(0,l.jsx)(f,{onClose:c,onSectionCreate:C,selectedBoard:t})}):null;default:return null}}},122222:function(e,t,i){i.d(t,{s:()=>n});let n={addOrEditDate:"addOrEditDate",boardArchiveConfirmation:"boardArchiveConfirmation",boardEdit:"boardEdit",boardUnarchiveConfirmation:"boardUnarchiveConfirmation",bulkCopy:"bulkCopy",bulkDelete:"bulkDelete",collaboratorsAndPermissions:"collaboratorsAndPermissions",createSection:"createSection",editSection:"editSection",followers:"followers",jumpstartBoard:"jumpstartBoard",mergeBoard:"mergeBoard",moveSection:"moveSection",pincode:"pincode",sectionMergeConfirm:"sectionMergeConfirm",sendBoard:"sendBoard",simpleCreateSection:"simpleCreateSection"}},478403:function(e,t,i){i.d(t,{Z:()=>l});var n=i(667294),o=i(581722),r=i(312048),a=i(176714),s=i(381968);function l(){let e=(0,o.I0)(),t=(0,r.s0)(),{pathname:i}=(0,r.TH)(),l=(0,o.v9)(({ui:e})=>e.mainComponent.locationToErrorMap);(0,n.useEffect)(()=>{(0,a.Z)();let n=i.split("/"),o=`/${n[1]}/`;l[i]&&(e((0,s.m)(o,l[i])),t(o,{replace:!0}))},[])}},700594:function(e,t,i){i.d(t,{Z:()=>o});var n=i(494926);function o({board:e,viewer:t}){return(0,n.Z)(t,e.owner?.id)?3069:3070}},768033:function(e,t,i){i.d(t,{Z:()=>G});var n=i(686659),o=i(667294),r=i(581722),a=i(391995),s=i(548777),l=i(387012),d=i(2587),c=i(149238),u=i(285676),h=i(228612),p=i(802108);let _=e=>e?164:5,m=e=>"story"===e.type&&["recommended_searches","search_related_queries","BUBBLE_ONE_COL"].includes(e.story_type),g=(0,p.Q6)(e=>e);var f=i(785893);function b(e){(0,o.useEffect)(()=>{(0,n.Z)("PinItem","/app/common/react/components/save/board/BoardPinGrid/PinItem.tsx")},[]);let{allowReordering:t,auxData:i,boardSectionId:r,gridItem:a,handlePinDragBegin:s,handlePinDragEnd:p,handlePinDragHover:m,index:g,isFeaturedBoard:b,lfvExperiences:x,onBulkEditPinClick:y,source:v,target:w,viewParameter:P}=e,{inBulkEditMode:j,isCollaborator:S,isGroupBoard:I,isOwnBoard:C,isSelected:A,itemKey:{id:E}}=a,Z=w===g,B=(0,h.S6)()(E),T=b?"FeaturedBoardPinGrid":j?"BulkEditMode":"BaseBoardPinGrid",z={pinId:E,pinKey:B?{type:"Legacy",data:B}:null,imageOnlyOption:!C&&(0,c.Z)(x)?"image-only":"default",attributionOption:I?"show":"hide",pinImageCrop:"none",surface:T,slotIndex:g,viewParameter:P,viewType:_(r),auxData:i};if(!C&&!S)return(0,f.jsx)(u.r,{...z});let k="no-selection";j&&(k=A?"selected":"deselected");let M=(0,f.jsx)(u.r,{...z,disableHover:-1!==v||j,selectionState:k});return j&&(M=(0,f.jsx)(l.Z,{isSelected:A,onClick:()=>y(E),children:M})),t&&(M=(0,f.jsx)(d.Z,{index:g,isDragging:Z,onDragBegin:s,onDragEnd:p,onDragHover:m,type:d.y.Pin,children:M})),M}var x=i(230201),y=i(828801),v=i(647636),w=i(47755),P=i(261954),j=i(806513),S=i(24246),I=i(426161),C=i(250026),A=i(309266),E=i(718846),Z=i(285544);function B({isSection:e}){let t=(0,S.Z)(),i=e?t._('There aren\u2019t any Pins in this section yet', 'EmptyBoard.EmptyText.section', 'Statement that there are no pins in the section'):t._('There aren\u2019t any Pins on this board yet', 'EmptyBoard.EmptyText.board', 'Statement that there are no pins on the board');return(0,f.jsx)(Z.Z,{children:(0,f.jsx)(a.xu,{"data-test-id":"empty-text",paddingY:8,children:(0,f.jsx)(a.xe,{color:"default",size:"300",children:i})})})}function T({hasSections:e,isSection:t}){return(0,o.useEffect)(()=>{(0,n.Z)("EmptyBoard","/app/www/nux/EmptyBoard.tsx")},[]),(0,f.jsx)(a.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:!t&&e?null:(0,f.jsx)(B,{isSection:t})})}var z=i(716848),k=i(160587),M=i(773382),R=i(779686),L=i(438274),D=i(142933);function U(e){(0,o.useEffect)(()=>{(0,n.Z)("GridItemBuilder","/app/www/save/board/BoardPinGrid/GridItemBuilder.tsx")},[]);let{boardSectionId:t,gridItem:i,index:r,inBoardOrganizationMode:s,paddingBottom:l,renderPinItem:d,viewParameter:c}=e,{itemKey:u}=i,h=null;switch(u.type){case"story":h=(0,f.jsx)(D.Z,{inBoardOrganizationMode:s,slot:r,storyId:u.id,viewParameter:c,viewType:_(t)});break;case"pin":h=(0,f.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:l}},children:d(i,r)});break;default:h=null}return(0,f.jsx)(a.xu,{children:h},`${u.type}:${u.id}`)}let O=(0,i(728027).Z)(d.y.Pin)(function(e){let{allowReordering:t,children:i,connectDropTarget:n,index:o,isDragWithinBounds:r}=e;return t&&n?n((0,f.jsx)("div",{style:{opacity:-1===o||r?1:.5},children:i})):i});var F=i(833847);function H(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class N extends o.Component{constructor(...e){super(...e),H(this,"state",{reorderSource:-1,reorderTarget:-1}),H(this,"anchorElementRef",(0,o.createRef)()),H(this,"masonryRef",{current:null}),H(this,"handlePinAdded",e=>{let{board:t,boardSectionId:i,dispatch:n}=this.props;e===t.id&&(n((0,k.xQ)(t.id)),i&&n((0,M.Z)(i)))}),H(this,"handlePinDragBegin",e=>this.setState({reorderSource:e})),H(this,"handlePinDragHover",e=>{let{reorderTarget:t}=this.state;e!==t&&this.setState({reorderTarget:e})}),H(this,"handlePinDragEnd",e=>{let{board:t,boardSectionId:i,dispatch:n,feed:o,viewParameter:r,orbacSubjectId:a}=this.props,{reorderSource:s,reorderTarget:l}=this.state;if(o&&e&&-1!==l&&-1!==s&&l!==s){let e=this.hiddenItemIndex,[d,c]=-1===e?[s,l]:[s+ +(s>=e),l+ +(l>=e)],u=(0,C.Z)(o,d,c),h=o[d].id;n((0,R._f)({feedType:i?L.Z.BOARD_SECTION_PINS:L.Z.BOARDFEED,feedId:i||t.id,itemType:"pin",targetItemId:o[c].id,sourceItemId:o[d].id}));let p=u.filter(e=>"pin"===e.type).map(e=>e.id),m=p.indexOf(h),g=m-1,f=m+1,b={pin:h};g>=0&&g<p.length&&(b={...b,before_pin:p[g]}),f>=0&&f<p.length&&(b={...b,after_pin:p[f]}),a&&(b={...b,orbac_subject_id:a}),(0,w.Z)({url:"/v3/boards/{board}/reorder_pin/",urlParams:{board:t.id},method:"POST",data:b}).then(()=>this.props.logContextEvent({event_type:7122,object_id_str:h,view_type:_(i),view_parameter:r}))}this.setState({reorderSource:-1,reorderTarget:-1})}),H(this,"handleFetchMore",()=>{let{resource:{fetchMore:e,isAtEnd:t,isFetching:i}}=this.props;t||i||e()}),H(this,"renderPinItem",(e,t)=>{let{board:i,boardSectionId:n,lfvExperiences:o,onBulkEditPinClick:r,viewer:a,viewParameter:s}=this.props,{reorderSource:l,reorderTarget:d}=this.state,c={board_id:i.id,board_pin_count:i.pin_count},u=(0,F.Z)(i);return(0,f.jsx)(b,{allowReordering:this.allowReordering,auxData:c,boardSectionId:n,gridItem:e,handlePinDragBegin:this.handlePinDragBegin,handlePinDragEnd:this.handlePinDragEnd,handlePinDragHover:this.handlePinDragHover,index:t,isFeaturedBoard:u,lfvExperiences:o,onBulkEditPinClick:r,source:l,target:d,viewer:a,viewParameter:s})})}componentDidMount(){(0,n.Z)("BaseBoardPinGrid","/app/www/save/board/BoardPinGrid/BaseBoardPinGrid.tsx");let{feed:e,resource:{isFetching:t,refresh:i}}=this.props;null!==e||t||i()}componentDidUpdate(e){let{feed:t,resource:{isFetching:i,refresh:n}}=this.props;null!==t||null===e.feed||i||n()}get allowReordering(){let{board:{collaborated_by_me:e=!1},isOwnBoard:t,isPinGridSorted:i}=this.props;return!i&&(t||e)}get hiddenItemIndex(){let{denseViewSelected:e,feed:t}=this.props;return e?(t||[]).findIndex(m):-1}render(){let{bulkEditSelectedPins:e,board:t,boardSectionId:i,boardShopModuleId:n,desktopStories:r,featuredBoardStoryId:s,feed:l,feedStoryId:d,footerStoryId:c,denseViewSelected:u,hasSimplifiedPinGridExpLoaded:h,inBoardOrganizationMode:p,inSectionOrganizationMode:_,isDragWithinBounds:m,inSelectAll:b,renderFeaturedBoardsStory:x,renderFooterStory:v,renderMoreIdeas:w,renderBoardShopModule:S,boardShopModuleIndex:A,resource:{isAtEnd:E,isFetching:Z,isLoaded:B},isOwnBoard:k,i18n:M}=this.props,{access:R,collaborated_by_me:L=!1,collaborator_count:D=0,section_count:F}=t,{reorderSource:H,reorderTarget:N}=this.state,{more_ideas:$}=t.featured_board_metadata||{};if(B&&l&&0===l.length)return(0,f.jsx)(T,{hasSections:!!F,isSection:!!i});let{allowReordering:G}=this,W=G&&H!==N&&-1!==H&&-1!==N,V=l||[],{hiddenItemIndex:K}=this;-1!==K&&(V=[...V.slice(0,K),...V.slice(K+1)]),W&&(V=(0,C.Z)(V,H,N));let Y={inBulkEditMode:p||_,inDenseView:u||!1,isGroupBoard:D>0,userCanEdit:(R||[]).includes("write"),isOwnBoard:k,isCollaborator:L},q=!1,J=V.map(e=>(p||"story"!==e.type||r?.[e.id]?.story_type!=="board_shop_tool_module"||(q=!0),g({...Y,itemKey:e}))),X=!Z&&E&&!l?.length;return(0,f.jsx)(z.H,{value:{onPinCreate:({boardId:e})=>this.handlePinAdded(e),onPinDelete:()=>q&&this.masonryRef.current?.reflow()},children:(0,f.jsxs)(a.xu,{"data-test-id":"base-board-pin-grid",minHeight:u?800:"",children:[n&&!p&&0===A&&S&&S(n,!0),(0,f.jsx)(O,{allowReordering:G,index:N,isDragWithinBounds:m,children:h&&(0,f.jsx)(I.Z,{isAtEndOfFeed:E,isPlaceholderGrid:Z&&!J.length,itemCount:J.length,children:(0,f.jsx)(P.default,{columnWidth:u?j.Lo:void 0,getColumnSpanConfig:q?function(e){return"story"===e.itemKey.type&&r?.[e.itemKey.id]?.story_type==="board_shop_tool_module"?3:e.itemKey.columnSpan??1}:void 0,isFetching:Z,isLoadedAccessibilityLabel:J.length>0?M._('More Pins loaded for board', 'board.masonry.paginationLoaded', 'More Pins loaded for board'):M._('Loaded Pins for board', 'board.masonry.loaded', 'Pins have loaded for board'),isLoadingAccessibilityLabel:J.length>0?M._('Loading more Pins for board', 'board.masonry.paginationLoading', 'Loading more Pins for board'):M._('Loading Pins for board', 'board.masonry.loading', 'Loading Pins for board'),isLoadingStateEnabled:!X,items:J,layout:"basic",loadItems:this.handleFetchMore,masonryRef:this.masonryRef,renderItem:({data:t,itemIdx:i})=>{let{inBulkEditMode:n}=Y,r="pin"===t.itemKey.type&&!!e?.includes(t.itemKey.id);return(0,f.jsx)(o.Fragment,{children:(0,f.jsx)(a.xu,{ref:0===i?this.anchorElementRef:null,dangerouslySetInlineStyle:{__style:{marginBottom:u?-6:0}},children:(0,f.jsx)(U,{boardSectionId:this.props.boardSectionId,gridItem:{...t,isSelected:n&&(b?!r:r)},inBoardOrganizationMode:p,index:i,paddingBottom:6*!!this.props.denseViewSelected,renderPinItem:this.renderPinItem,viewParameter:this.props.viewParameter})})})}},`${String(u)}-${String(p)}-${String(_)}`)})}),G&&-1!==H&&(0,f.jsx)(y.Z,{}),E&&!p&&n&&(A??0)>=J.length-1&&0!==A&&S&&S(n),E&&c&&v&&v(c),E&&s&&x&&x(s),!1!==$&&E&&d&&w&&w(d)]})})}}let $=(0,v.RL)(1000182)(function(e){let{logContextEvent:t}=(0,x.u)(),i=(0,S.Z)(),n=(0,E.Z)(),{hasSimplifiedPinGridExpLoaded:a}=(0,s.m)(),l=(0,A.Z)(),d=(0,r.v9)(e=>e.desktopStories),{board:c,boardSectionId:u,isOwnBoard:h,resource:p}=e;return(0,o.useEffect)(()=>{p.isAtEnd&&t({event_type:15145,view_type:u?164:5,view_parameter:h?3069:3070,aux_data:{board_id:c.id,board_pin_count:c.pin_count,board_section_id:u,board_section_count:c.section_count}})},[c,u,h,t,p]),(0,f.jsx)(N,{...e,desktopStories:d,hasSimplifiedPinGridExpLoaded:a,i18n:i,lfvExperiences:l,logContextEvent:t,orbacSubjectId:n})});$.displayName="BaseBoardPinGrid";let G=$},504860:function(e,t,i){i.d(t,{Z:()=>g});var n=i(581722),o=i(935059),r=i(661376),a=i(200619),s=i(601871),l=i(44849),d=i(438274),c=i(768033),u=i(836643),h=i(338170),p=i(173842),_=i(785893);function m(e){let t=(0,o.Z)(),i=(0,a.Z)(),m=(0,s.lJ)(t,i),g=(0,r.Z)({name:"BoardSectionPinsResource",options:function(e,t,i,n=""){return{currentFilter:i,field_set_key:"react_grid_pin",is_own_profile_pins:t,page_size:25,redux_normalize_feed:!0,section_id:e,orbac_subject_id:n}}(e.boardSectionId,e.isOwnBoard,e.currentFilter,m)}),f=(0,r.Z)({name:"BoardsResource",options:(0,l.Z)(e.viewer.username,!0)}),b=(0,n.v9)(({feeds:t,desktopStories:i})=>(0,u.Z)(t[`${d.Z.BOARD_SECTION_PINS}:${e.boardSectionId}`],i));return(0,_.jsx)(c.Z,{...e,...b,boardsResource:f,renderFeaturedBoardsStory:t=>(0,_.jsx)(h.Z,{isOwnBoard:e.isOwnBoard,storyId:t}),renderMoreIdeas:t=>e.isOwnerOrCollaborator?null:(0,_.jsx)(p.default,{storyId:t}),resource:g})}m.displayName="BoardSectionPinGrid";let g=m},836643:function(e,t,i){i.d(t,{Z:()=>o});let n={feed:void 0,featuredBoardStoryId:void 0,feedStoryId:void 0,footerStoryId:void 0,boardShopModuleId:void 0,boardShopModuleIndex:void 0},o=(e,t)=>e?e.reduce(({boardShopModuleId:e,boardShopModuleIndex:i,featuredBoardStoryId:n,feed:o,feedStoryId:r,footerStoryId:a},s,l)=>{let d="story"===s.type&&t[s.id]?.story_type,c="board_ideas_feed"===d,u="board_ideas_preview_detailed"===d,h=!1;if("board_shop_tool_module"===d){let e=t[s.id];h=!!e.custom_properties?.is_full_width}return{feed:o.concat(u||c||h?[]:[s]),featuredBoardStoryId:"featured_boards"===d?s.id:n,feedStoryId:c?s.id:r,footerStoryId:u?s.id:a,boardShopModuleId:h?s.id:e,boardShopModuleIndex:h?l:i}},{boardShopModuleId:void 0,boardShopModuleIndex:void 0,featuredBoardStoryId:void 0,feed:[],feedStoryId:void 0,footerStoryId:void 0}):n},338170:function(e,t,i){i.d(t,{Z:()=>c});var n=i(686659),o=i(667294),r=i(581722),a=i(391995),s=i(9065),l=i(785893);let d=(0,s.Z)(()=>i.e("60300").then(i.bind(i,891305)),void 0,e=>891305,"app-common-react-components-FeaturedBoards-FeaturedBoardsModule",e=>["60300"]);function c({isOwnBoard:e,storyId:t}){(0,o.useEffect)(()=>{(0,n.Z)("FeaturedBoardsStory","/app/www/save/board/FeaturedBoardsStory/FeaturedBoardsStory.tsx")},[]);let i=(0,r.v9)(e=>e.desktopStories[t]),s=i&&"featured_boards"===i.story_type?i:void 0;return s?(0,l.jsx)(a.xu,{marginTop:3,padding:2,children:(0,l.jsx)(d,{renderAsStory:!0,slotIndex:-1,story:s,surface:"Board",viewParameter:e?3069:3070,viewType:5})}):null}},285544:function(e,t,i){i.d(t,{Z:()=>s});var n=i(686659),o=i(667294),r=i(391995),a=i(785893);function s({children:e}){return(0,o.useEffect)(()=>{(0,n.Z)("Center","/app/www/save/board/Headers/Center.tsx")},[]),(0,a.jsx)(r.kC,{alignItems:"stretch",justifyContent:"center",children:e})}},173842:function(e,t,i){i.r(t),i.d(t,{default:()=>c});var n=i(686659),o=i(667294),r=i(581722),a=i(391995),s=i(9065),l=i(785893);let d=(0,s.Z)(()=>Promise.all([i.e("39366"),i.e("25418"),i.e("7084"),i.e("52154")]).then(i.bind(i,550385)),void 0,e=>550385,"app-www-BoardMoreIdeasPage-MoreIdeasTabContentPageDefault",e=>["39366","25418","7084","52154"]);function c({storyId:e}){(0,o.useEffect)(()=>{(0,n.Z)("MoreIdeasFeed","/app/www/save/board/MoreIdeasFeed/MoreIdeasFeed.tsx")},[]);let t=(0,r.v9)(t=>t.desktopStories[e]);return(t&&"board_ideas_feed"===t.story_type?t:void 0)?(0,l.jsx)(a.xu,{"data-test-id":"more-ideas-feed",children:(0,l.jsx)(d,{surface:"board"})}):null}},833847:function(e,t,i){function n(e){return"featured_board"===e.layout&&!!e.featured_in?.includes("FEATURED_BOARDS")}i.d(t,{Z:()=>n})},912471:function(e,t,i){i.d(t,{D3:()=>_,Iz:()=>m,Rh:()=>u,pW:()=>d,sF:()=>h,tA:()=>c});var n,o=i(167912),r=i(27399),a=i(160125),s=i(25870);let l={FBMessenger:6,WhatsApp:10,Facebook:5,Twitter:9,Email:3,Line:8,Telegram:20,Viber:22,Sms:4,CopyLink:12,ShareVia:11};function d({country:e,isDesktop:t,shouldShowNativeShare:i}){let{FBMessenger:n,WhatsApp:o,Facebook:r,Twitter:a,Email:s,Line:d,Telegram:c,Viber:u,Sms:h,CopyLink:p,ShareVia:_}=l;function m(){switch(e){case"US":return t?[o,r,a,s]:[h,n,o,r,a];case"ID":return t?[o,d,s,r]:[o,c,h,d,s,r];case"JP":case"TH":case"TW":return t?[d,a,s,r]:[d,s,h,a,r];case"GR":return t?[o,r,a,s]:[u,n,o,h,r,a];case"IR":case"IQ":return t?[o,r,a,s]:[o,c,h,n,a];case"UA":case"RU":return t?[o,r,a,s]:[o,u,c,r,n,h,a];default:return t?[o,r,a,s]:[o,n,h,r,a]}}return t?[p,...m()]:[...m(),p,...i?[_]:[]]}function c({invitePath:e,inviteTitle:t,objectType:i,i18n:n,isDesktop:o}){let r=n._('A Pin for you', 'shareMenu.message.title', 'Messaging title when sharing a pin to a friend');8===i&&(r=n._('Check out this article on Pinterest!', 'shareMenu.message.title', 'Messaging title when sharing a today article to a friend'));let s=`mailto:?subject=${encodeURIComponent(r)}&body=${encodeURIComponent(e)}`,l=`fb-messenger://share/?link=${encodeURIComponent(e)}&app_id=${a.GH}`,d=`${t}
${e}`,c=o?`https://twitter.com/intent/tweet?via=pinterest&url=${encodeURIComponent(d)}`:`twitter://post?message=${encodeURIComponent(d)}`,u=o?`https://web.whatsapp.com/send?text=${encodeURIComponent(d)}`:`whatsapp://send?text=${encodeURIComponent(d)}`,h=o?`https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(e)}&text=${encodeURIComponent(t)}`:`https://line.me/R/msg/text/?${encodeURIComponent(d)}`,p=`viber://forward?text=${encodeURIComponent(d)}`;return{emailShareLink:s,messengerShareLink:l,twitterShareLink:c,whatsappShareLink:u,lineShareLink:h,telegramShareLink:`tg://msg?text=${encodeURIComponent(d)}`,viberShareLink:p,smsShareLink:`sms:?&body=${encodeURIComponent(d)}`}}function u(e,t,i,n){e&&window.FB&&window.FB.ui&&window.FB.ui({method:"share",mobile_iframe:!0,href:t},e=>{e&&!e.error_message&&n&&n()})}function h(e,t,i,n){if(!i||!t)return;let o=new t(i,{container:i.parentElement??void 0,text:()=>e});o.on("success",e=>{n&&n(e)}),o.on("error",()=>{throw Error("<ShareMenu /> error: copy command failed")})}let p=(void 0!==n||(n=i(958218)).hash&&"08ff9e5b3aeff18d0d8d4d9f872bd8ba"!==n.hash&&console.error("The definition of 'AllShareOptionsUtility_CreateExternalInviteGraphQLQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function _(){let e=(()=>{let e=(0,o.useRelayEnvironment)();return async(t,i,n,r)=>{let a={invite_category:t,invite_object:i,invite_channel:n};return await new Promise((t,i)=>(0,o.fetchQuery)(e,p,{inviteType:JSON.stringify(a),objectId:r}).subscribe({next:e=>{e.v3InviteUserExternalQuery&&"data"in e.v3InviteUserExternalQuery&&e.v3InviteUserExternalQuery?.data&&t({inviteCode:e.v3InviteUserExternalQuery?.data?.inviteCode??"",invitePath:e.v3InviteUserExternalQuery?.data?.inviteUrl??"",title:e.v3InviteUserExternalQuery?.data?.title??"",message:e.v3InviteUserExternalQuery?.data?.message??""})},error:e=>i(e)}))}})();return async(t,i,n)=>await e(3,n,t,i)}async function m({inviteChannel:e,inviteCode:t,objectId:i,objectType:n,component:o,clientTrackingParams:a,logContextEvent:l,view_parameter:d,view_type:c,socialShareComponent:u}){let h;l({aux_data:{invite_object:n},object_id_str:i,component:o,clientTrackingParams:a,element:s.cc[e],event_type:102,view_type:c,view_parameter:d}),h=2===n?s.LO:3===n?s.Pu:s.dB,l({event_type:10399,component:14122===o?14312:14123===o?14310:u||o,object_id_str:i,clientTrackingParams:a,view_type:c,view_parameter:d,aux_data:{invite_object:n},element:h[e]}),r.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:3,invite_object:n,invite_channel:e},invite_code:t,object_id:i,client_tracking_params:a}).callCreate()}},508859:function(e,t,i){i.d(t,{Z:()=>l});var n=i(686659),o=i(667294),r=i(391995),a=i(785893);function s(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class l extends o.Component{constructor(...e){super(...e),s(this,"setSearchRef",e=>{e&&(this.searchRef=e)}),s(this,"searchRef",null)}componentDidMount(){(0,n.Z)("FocusableSearchField","/app/www/social/duplo/sharemenu/FocusableSearchField.tsx"),this.props.autoFocus&&this.searchRef?.focus()}render(){let{accessibilityLabel:e,id:t,onBlur:i,onChange:n,onFocus:o,placeholder:s,value:l}=this.props;return(0,a.jsx)(r.Um,{ref:this.setSearchRef,accessibilityLabel:e,id:t,onBlur:i,onChange:n,onFocus:o,placeholder:s,size:"lg",value:l})}}},972699:function(e,t,i){i.d(t,{Z:()=>d});var n=i(667294),o=i(312048),r=i(173874),a=i(138482),s=i(661376),l=i(415316);let d=e=>{let t=(0,l.u)(),i=(0,o.TH)(),[d]=(0,n.useState)(i),c=i.pathname===d.pathname&&i.search===d.search&&((0,r.hasInviteCode)(i)&&((0,r.isPinFeedbackPage)(i)&&"pin"||(0,r.isBoardPage)(i)&&"board"||(0,a.Z)(i)&&"profile")||null)||null,[u,h]=(0,n.useState)(null),{isLoaded:p,data:_}=(0,s.Z)(!e&&t&&c?{name:"InviteCodeMetadataResource",options:{invite_code:t}}:null);return(0,n.useEffect)(()=>{p&&_&&h(_??null)},[p,_]),t&&c?{invite:u,pageType:c}:null}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/12085-2c5f2451c31df420.mjs.map